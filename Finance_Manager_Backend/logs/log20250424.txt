2025-04-24 22:43:47.474 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-24 22:43:49.463 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-24 22:43:49.821 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()'
2025-04-24 22:43:50.333 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.salt
        FROM users AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.salt
        FROM users AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                instance.<Email>k__BackingField = dataReader.GetString(2);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                instance.<Salt>k__BackingField = dataReader.GetString(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-24 22:43:50.462 +03:00 [DBG] Creating DbConnection.
2025-04-24 22:43:50.766 +03:00 [DBG] Created DbConnection. (362ms).
2025-04-24 22:43:50.771 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:51.394 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:51.402 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 22:43:51.419 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (17ms).
2025-04-24 22:43:51.422 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2025-04-24 22:43:51.434 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
2025-04-24 22:43:51.575 +03:00 [INF] Executed DbCommand (143ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
2025-04-24 22:43:51.619 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:51.685 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:51.697 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:51.706 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 122ms reading results.
2025-04-24 22:43:51.710 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:51.718 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (7ms).
2025-04-24 22:43:51.722 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-24 22:43:51.725 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-24 22:43:51.744 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-24 22:43:51.912 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:51.921 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:51.930 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 22:43:51.932 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 22:43:51.936 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-24 22:43:51.941 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-24 22:43:52.086 +03:00 [INF] Executed DbCommand (148ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-24 22:43:52.106 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:52.111 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 17ms reading results.
2025-04-24 22:43:52.118 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:52.121 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (3ms).
2025-04-24 22:43:52.132 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:52.138 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-24 22:43:52.142 +03:00 [DBG] Compiling query expression: 
'DbSet<Category>()'
2025-04-24 22:43:52.166 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Category>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Category entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Category instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Category);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Category)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                        {
                            return 
                            {
                                Category instance;
                                instance = new Category();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                                instance.<Icon>k__BackingField = dataReader.GetString(2);
                                instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                                instance.<Name>k__BackingField = dataReader.GetString(4);
                                instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Category)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-24 22:43:52.172 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:52.174 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:52.176 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 22:43:52.177 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 22:43:52.179 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 22:43:52.180 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-24 22:43:52.216 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-24 22:43:52.246 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:52.263 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:52.267 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:52.268 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:52.273 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:52.275 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:52.279 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:52.281 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:52.288 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:52.290 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:52.293 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:52.294 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 75ms reading results.
2025-04-24 22:43:52.297 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:52.300 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-24 22:43:52.304 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-24 22:43:52.305 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-24 22:43:52.319 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-24 22:43:52.327 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-24 22:43:52.331 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:52.335 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:52.337 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-04-24 22:43:52.345 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-24 22:43:52.352 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 22:43:52.353 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 22:43:52.356 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-24 22:43:52.358 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-24 22:43:52.382 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-24 22:43:52.387 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:52.388 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-24 22:43:52.392 +03:00 [DBG] Committing transaction.
2025-04-24 22:43:52.405 +03:00 [DBG] Committed transaction.
2025-04-24 22:43:52.409 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:52.414 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (4ms).
2025-04-24 22:43:52.431 +03:00 [DBG] Disposing transaction.
2025-04-24 22:43:52.434 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:52.436 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:52.439 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:52.440 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:52.443 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:52.445 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-24 22:43:52.447 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-24 22:43:52.451 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:52.453 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-24 22:43:52.951 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-24 22:43:53.771 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Email == __email_0)'
2025-04-24 22:43:54.077 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.email == @__email_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.email == @__email_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<Salt>k__BackingField = dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 22:43:54.104 +03:00 [DBG] Creating DbConnection.
2025-04-24 22:43:54.107 +03:00 [DBG] Created DbConnection. (3ms).
2025-04-24 22:43:54.109 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:54.112 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:54.114 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 22:43:54.116 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 22:43:54.124 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-04-24 22:43:54.127 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-24 22:43:54.167 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-24 22:43:54.175 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:54.187 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 15ms reading results.
2025-04-24 22:43:54.190 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:54.193 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-24 22:43:54.247 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:54.381 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:54.385 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-24 22:43:54.386 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-24 22:43:54.389 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-24 22:43:54.404 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:54.431 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:54.434 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 22:43:54.436 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 22:43:54.439 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-24 22:43:54.441 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3);
2025-04-24 22:43:54.451 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3);
2025-04-24 22:43:54.485 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:54.545 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:54.579 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 104ms reading results.
2025-04-24 22:43:54.645 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:54.647 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-24 22:43:54.653 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:54.667 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-24 22:43:55.179 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __userDTO_Id_0)'
2025-04-24 22:43:55.190 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<Salt>k__BackingField = dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 22:43:55.194 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:55.196 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:55.198 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 22:43:55.199 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 22:43:55.201 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-24 22:43:55.203 +03:00 [DBG] Executing DbCommand [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-24 22:43:55.339 +03:00 [INF] Executed DbCommand (137ms) [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-24 22:43:55.346 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:55.401 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 55ms reading results.
2025-04-24 22:43:55.405 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:55.408 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-24 22:43:55.415 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.418 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.420 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.422 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.423 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.425 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.427 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.429 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.431 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.436 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.439 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-24 22:43:55.441 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-24 22:43:55.448 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-24 22:43:55.453 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-24 22:43:55.457 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:55.459 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:55.463 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 22:43:55.477 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (14ms).
2025-04-24 22:43:55.479 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-04-24 22:43:55.481 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-24 22:43:55.618 +03:00 [INF] Executed DbCommand (137ms) [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-24 22:43:55.623 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.626 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.629 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.631 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.633 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.637 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:55.640 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 17ms reading results.
2025-04-24 22:43:55.647 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:55.649 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-24 22:43:55.656 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.661 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.663 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.665 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.669 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.671 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-24 22:43:55.678 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.741 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.743 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.745 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.747 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.749 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.750 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.754 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.756 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.759 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.761 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.763 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.766 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.774 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.777 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.780 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.783 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.789 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.792 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.796 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.800 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.804 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.807 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.810 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.813 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.817 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.822 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.825 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.828 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.832 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.836 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.839 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.842 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.844 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.849 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.854 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.860 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.864 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.867 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.873 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.877 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-24 22:43:55.879 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-24 22:43:55.891 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-24 22:43:55.896 +03:00 [DBG] Executing 20 update commands as a batch.
2025-04-24 22:43:55.899 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:55.903 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:55.907 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 22:43:55.910 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-24 22:43:55.912 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-24 22:43:55.914 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-24 22:43:55.937 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-24 22:43:55.942 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.944 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.946 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.948 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.949 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.952 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.954 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.955 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.957 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.959 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.960 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.962 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.963 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.965 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.967 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.970 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.972 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.974 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.975 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.977 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:55.979 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:55.982 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 42ms reading results.
2025-04-24 22:43:55.985 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:55.988 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-24 22:43:55.991 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.993 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:55.995 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.001 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.006 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.010 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.015 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.022 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.025 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.034 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.040 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.047 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.051 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.056 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.062 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.065 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.071 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.075 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.079 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.083 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.089 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 20 entities written to the database.
2025-04-24 22:43:56.094 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.116 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.123 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.127 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.130 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.136 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.142 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.145 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.147 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-24 22:43:56.149 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-24 22:43:56.157 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-24 22:43:56.160 +03:00 [DBG] Executing 4 update commands as a batch.
2025-04-24 22:43:56.162 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:56.164 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:56.165 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 22:43:56.167 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 22:43:56.168 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-24 22:43:56.170 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-24 22:43:56.191 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-24 22:43:56.195 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:56.198 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:56.200 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:56.202 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:43:56.204 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:56.205 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 11ms reading results.
2025-04-24 22:43:56.207 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:56.208 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-24 22:43:56.212 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.214 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.216 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.219 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:43:56.221 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 4 entities written to the database.
2025-04-24 22:43:56.222 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-24 22:43:56.223 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:43:56.225 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-24 22:43:56.388 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-24 22:43:56.483 +03:00 [DBG] Hosting starting
2025-04-24 22:43:56.504 +03:00 [INF] User profile is available. Using 'C:\Users\ebtyx\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-24 22:43:56.529 +03:00 [DBG] Reading data from file 'C:\Users\ebtyx\AppData\Local\ASP.NET\DataProtection-Keys\key-036e1e5f-5347-47d7-8236-0b64ed0a76a1.xml'.
2025-04-24 22:43:56.540 +03:00 [DBG] Found key {036e1e5f-5347-47d7-8236-0b64ed0a76a1}.
2025-04-24 22:43:56.554 +03:00 [DBG] Considering key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} with expiration date 2025-07-16 20:11:06Z as default key.
2025-04-24 22:43:56.565 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 22:43:56.567 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-24 22:43:56.572 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-24 22:43:56.580 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-24 22:43:56.584 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-24 22:43:56.594 +03:00 [DBG] Using key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} as the default key.
2025-04-24 22:43:56.598 +03:00 [DBG] Key ring with default key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} was loaded during application startup.
2025-04-24 22:43:56.608 +03:00 [DBG] Middleware loaded
2025-04-24 22:43:56.611 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16531 B).
2025-04-24 22:43:56.615 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-24 22:43:56.781 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-24 22:43:56.965 +03:00 [INF] Now listening on: https://localhost:49464
2025-04-24 22:43:56.968 +03:00 [INF] Now listening on: http://localhost:49465
2025-04-24 22:43:56.970 +03:00 [DBG] Loaded hosting startup assembly Finance_Manager_Backend
2025-04-24 22:43:56.971 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-04-24 22:43:56.972 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-24 22:43:56.973 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-04-24 22:43:57.087 +03:00 [DBG] Connection id "0HNC3D1D4CJTL" accepted.
2025-04-24 22:43:57.089 +03:00 [DBG] Connection id "0HNC3D1D4CJTL" started.
2025-04-24 22:43:57.095 +03:00 [DBG] Connection id "0HNC3D1D4CJTL" received FIN.
2025-04-24 22:43:57.145 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-04-24 22:43:57.170 +03:00 [DBG] Connection id "0HNC3D1D4CJTL" stopped.
2025-04-24 22:43:57.176 +03:00 [DBG] Connection id "0HNC3D1D4CJTL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 22:43:57.361 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-24 22:43:57.376 +03:00 [INF] Hosting environment: Development
2025-04-24 22:43:57.377 +03:00 [INF] Content root path: G:\ARTEM\ ++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend
2025-04-24 22:43:57.379 +03:00 [DBG] Hosting started
2025-04-24 22:44:00.958 +03:00 [DBG] Connection id "0HNC3D1D4CJTM" accepted.
2025-04-24 22:44:01.005 +03:00 [DBG] Connection id "0HNC3D1D4CJTM" started.
2025-04-24 22:44:01.355 +03:00 [DBG] Connection 0HNC3D1D4CJTM established using the following protocol: "Tls12"
2025-04-24 22:44:02.018 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/_vs/browserLink - null null
2025-04-24 22:44:02.018 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/_framework/aspnetcore-browser-refresh.js - null null
2025-04-24 22:44:02.099 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-24 22:44:02.110 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 91.3127ms
2025-04-24 22:44:02.379 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/_vs/browserLink - 200 null text/javascript; charset=UTF-8 364.2794ms
2025-04-24 22:44:02.703 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/swagger/v1/swagger.json - null null
2025-04-24 22:44:02.711 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-24 22:44:02.774 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 70.176ms
2025-04-24 22:44:06.999 +03:00 [DBG] Connection id "0HNC3D1D4CJTM" received FIN.
2025-04-24 22:44:07.008 +03:00 [DBG] Connection id "0HNC3D1D4CJTM" is closed. The last processed stream ID was 5.
2025-04-24 22:44:07.009 +03:00 [DBG] The connection queue processing loop for 0HNC3D1D4CJTM completed.
2025-04-24 22:44:07.011 +03:00 [DBG] Connection id "0HNC3D1D4CJTM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 22:44:07.029 +03:00 [DBG] Connection id "0HNC3D1D4CJTM" stopped.
2025-04-24 22:44:35.934 +03:00 [DBG] Connection id "0HNC3D1D4CJTN" accepted.
2025-04-24 22:44:35.965 +03:00 [DBG] Connection id "0HNC3D1D4CJTN" started.
2025-04-24 22:44:35.976 +03:00 [DBG] Connection 0HNC3D1D4CJTN established using the following protocol: "Tls12"
2025-04-24 22:44:35.979 +03:00 [INF] Request starting HTTP/2 POST https://localhost:49464/api/Auth/authenticate - application/json 62
2025-04-24 22:44:35.985 +03:00 [DBG] POST requests are not supported
2025-04-24 22:44:36.009 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/authenticate'
2025-04-24 22:44:36.012 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)' with route pattern 'api/Auth/authenticate' is valid for the request path '/api/Auth/authenticate'
2025-04-24 22:44:36.016 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-24 22:44:36.273 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-24 22:44:36.276 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-24 22:44:36.302 +03:00 [INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokenDTO]] Authenticate(Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-04-24 22:44:36.306 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 22:44:36.308 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 22:44:36.310 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-24 22:44:36.312 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 22:44:36.314 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 22:44:36.316 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-04-24 22:44:36.324 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-04-24 22:44:36.356 +03:00 [DBG] Attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' ...
2025-04-24 22:44:36.360 +03:00 [DBG] Attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' using the name '' in request data ...
2025-04-24 22:44:36.363 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-24 22:44:36.380 +03:00 [DBG] Connection id "0HNC3D1D4CJTN", Request id "0HNC3D1D4CJTN:00000001": started reading request body.
2025-04-24 22:44:36.382 +03:00 [DBG] Connection id "0HNC3D1D4CJTN", Request id "0HNC3D1D4CJTN:00000001": done reading request body.
2025-04-24 22:44:36.441 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'
2025-04-24 22:44:36.443 +03:00 [DBG] Done attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-04-24 22:44:36.444 +03:00 [DBG] Done attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-04-24 22:44:36.446 +03:00 [DBG] Attempting to validate the bound parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' ...
2025-04-24 22:44:36.459 +03:00 [DBG] Done attempting to validate the bound parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-04-24 22:44:36.547 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-24 22:44:36.605 +03:00 [DBG] Creating DbConnection.
2025-04-24 22:44:36.606 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-24 22:44:36.608 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:44:36.609 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:44:36.611 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 22:44:36.612 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 22:44:36.613 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 22:44:36.615 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-24 22:44:36.621 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-24 22:44:36.624 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:44:36.625 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:44:36.627 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-04-24 22:44:36.628 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:44:36.630 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-24 22:44:36.649 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-24 22:44:36.654 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 22:44:36.657 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-24 22:44:36.659 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 22:44:36.660 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 22:44:36.661 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 22:44:36.663 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokenDTO'.
2025-04-24 22:44:36.678 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend) in 359.3398ms
2025-04-24 22:44:36.680 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-24 22:44:36.683 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-24 22:44:36.688 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:44:36.690 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-24 22:44:36.692 +03:00 [INF] Request finished HTTP/2 POST https://localhost:49464/api/Auth/authenticate - 200 null application/json; charset=utf-8 712.2752ms
2025-04-24 22:44:37.028 +03:00 [DBG] Connection id "0HNC3D1D4CJTN" received FIN.
2025-04-24 22:44:37.032 +03:00 [DBG] Connection id "0HNC3D1D4CJTN" is closed. The last processed stream ID was 1.
2025-04-24 22:44:37.032 +03:00 [DBG] The connection queue processing loop for 0HNC3D1D4CJTN completed.
2025-04-24 22:44:37.033 +03:00 [DBG] Connection id "0HNC3D1D4CJTN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 22:44:37.049 +03:00 [DBG] Connection id "0HNC3D1D4CJTN" stopped.
2025-04-24 22:45:01.414 +03:00 [DBG] Connection id "0HNC3D1D4CJTO" accepted.
2025-04-24 22:45:01.419 +03:00 [DBG] Connection id "0HNC3D1D4CJTO" started.
2025-04-24 22:45:01.428 +03:00 [DBG] Connection 0HNC3D1D4CJTO established using the following protocol: "Tls12"
2025-04-24 22:45:01.435 +03:00 [INF] Request starting HTTP/2 POST https://localhost:49464/api/Savings - application/json 85
2025-04-24 22:45:01.444 +03:00 [DBG] POST requests are not supported
2025-04-24 22:45:01.446 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-04-24 22:45:01.448 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-04-24 22:45:01.450 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend)'
2025-04-24 22:45:01.875 +03:00 [DBG] Successfully validated the token.
2025-04-24 22:45:01.877 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 22:45:01.883 +03:00 [DBG] Authorization was successful.
2025-04-24 22:45:01.884 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend)'
2025-04-24 22:45:01.895 +03:00 [INF] Route matched with {action = "Create", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-04-24 22:45:01.897 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 22:45:01.899 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 22:45:01.901 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-24 22:45:01.904 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 22:45:01.907 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 22:45:01.909 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-24 22:45:01.911 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-24 22:45:01.913 +03:00 [DBG] Attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO' ...
2025-04-24 22:45:01.915 +03:00 [DBG] Attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO' using the name '' in request data ...
2025-04-24 22:45:01.917 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-24 22:45:01.920 +03:00 [DBG] Connection id "0HNC3D1D4CJTO", Request id "0HNC3D1D4CJTO:00000001": started reading request body.
2025-04-24 22:45:01.923 +03:00 [DBG] Connection id "0HNC3D1D4CJTO", Request id "0HNC3D1D4CJTO:00000001": done reading request body.
2025-04-24 22:45:01.928 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO'
2025-04-24 22:45:01.930 +03:00 [DBG] Done attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO'.
2025-04-24 22:45:01.931 +03:00 [DBG] Done attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO'.
2025-04-24 22:45:01.933 +03:00 [DBG] Attempting to validate the bound parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO' ...
2025-04-24 22:45:01.936 +03:00 [DBG] Done attempting to validate the bound parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO'.
2025-04-24 22:45:01.974 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-24 22:45:01.978 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __userId_0)'
2025-04-24 22:45:01.987 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.id == @__userId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.id == @__userId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<Salt>k__BackingField = dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 22:45:01.993 +03:00 [DBG] Creating DbConnection.
2025-04-24 22:45:01.994 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-24 22:45:01.996 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:01.997 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:01.999 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 22:45:02.000 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 22:45:02.002 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 22:45:02.003 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-24 22:45:02.010 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-24 22:45:02.013 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:45:02.014 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:02.016 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-04-24 22:45:02.018 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:02.020 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-24 22:45:02.028 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:45:02.031 +03:00 [DBG] The navigation 'Saving.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:45:02.034 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:45:02.036 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-24 22:45:02.041 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-24 22:45:02.044 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-24 22:45:02.046 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:02.048 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:02.050 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 22:45:02.052 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 22:45:02.056 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-24 22:45:02.061 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [savings] ([goal], [name], [user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount]
VALUES (@p0, @p1, @p2);
2025-04-24 22:45:02.091 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [savings] ([goal], [name], [user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount]
VALUES (@p0, @p1, @p2);
2025-04-24 22:45:02.094 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:45:02.096 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:02.097 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-04-24 22:45:02.100 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:02.102 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-24 22:45:02.104 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:45:02.109 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-24 22:45:02.112 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-24 22:45:02.115 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 22:45:02.117 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-24 22:45:02.119 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 22:45:02.120 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 22:45:02.121 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 22:45:02.125 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Int32'.
2025-04-24 22:45:02.142 +03:00 [DBG] Found the endpoints ["Finance_Manager_Backend.Controllers.SavingsController.GetById (Finance_Manager_Backend)"] for address (id=[159],action=[GetById],controller=[Savings])
2025-04-24 22:45:02.146 +03:00 [DBG] Successfully processed template api/Savings/{id} for Finance_Manager_Backend.Controllers.SavingsController.GetById (Finance_Manager_Backend) resulting in /api/Savings/159 and 
2025-04-24 22:45:02.149 +03:00 [DBG] Link generation succeeded for endpoints ["Finance_Manager_Backend.Controllers.SavingsController.GetById (Finance_Manager_Backend)"] with result /api/Savings/159
2025-04-24 22:45:02.153 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend) in 244.2768ms
2025-04-24 22:45:02.157 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend)'
2025-04-24 22:45:02.159 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-24 22:45:02.161 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:02.163 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-24 22:45:02.165 +03:00 [INF] Request finished HTTP/2 POST https://localhost:49464/api/Savings - 201 null application/json; charset=utf-8 729.9273ms
2025-04-24 22:45:07.060 +03:00 [DBG] Connection id "0HNC3D1D4CJTO" received FIN.
2025-04-24 22:45:07.065 +03:00 [DBG] Connection id "0HNC3D1D4CJTO" is closed. The last processed stream ID was 1.
2025-04-24 22:45:07.065 +03:00 [DBG] The connection queue processing loop for 0HNC3D1D4CJTO completed.
2025-04-24 22:45:07.067 +03:00 [DBG] Connection id "0HNC3D1D4CJTO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 22:45:07.082 +03:00 [DBG] Connection id "0HNC3D1D4CJTO" stopped.
2025-04-24 22:45:22.475 +03:00 [DBG] Connection id "0HNC3D1D4CJTP" accepted.
2025-04-24 22:45:22.483 +03:00 [DBG] Connection id "0HNC3D1D4CJTP" started.
2025-04-24 22:45:22.497 +03:00 [DBG] Connection 0HNC3D1D4CJTP established using the following protocol: "Tls12"
2025-04-24 22:45:22.511 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/Categories - null null
2025-04-24 22:45:22.517 +03:00 [DBG] The request path  does not match the path filter
2025-04-24 22:45:22.519 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Categories'
2025-04-24 22:45:22.521 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)' with route pattern 'api/Categories' is valid for the request path '/api/Categories'
2025-04-24 22:45:22.528 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-04-24 22:45:22.532 +03:00 [DBG] Successfully validated the token.
2025-04-24 22:45:22.533 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 22:45:22.535 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-04-24 22:45:22.542 +03:00 [INF] Route matched with {action = "GetAllCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO]]] GetAllCategories() on controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend).
2025-04-24 22:45:22.545 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 22:45:22.547 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 22:45:22.549 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-24 22:45:22.551 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 22:45:22.553 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 22:45:22.557 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-04-24 22:45:22.560 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-04-24 22:45:22.567 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-24 22:45:22.571 +03:00 [DBG] Compiling query expression: 
'DbSet<Category>()'
2025-04-24 22:45:22.581 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Category>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Category entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Category instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Category);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Category)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                        {
                            return 
                            {
                                Category instance;
                                instance = new Category();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                                instance.<Icon>k__BackingField = dataReader.GetString(2);
                                instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                                instance.<Name>k__BackingField = dataReader.GetString(4);
                                instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Category)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-24 22:45:22.587 +03:00 [DBG] Creating DbConnection.
2025-04-24 22:45:22.590 +03:00 [DBG] Created DbConnection. (3ms).
2025-04-24 22:45:22.592 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:22.594 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:22.595 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 22:45:22.597 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 22:45:22.599 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-24 22:45:22.601 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-24 22:45:22.608 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-24 22:45:22.611 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:45:22.614 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:45:22.616 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:45:22.618 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:45:22.620 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:45:22.624 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:22.626 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 15ms reading results.
2025-04-24 22:45:22.628 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:22.630 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-24 22:45:22.645 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-24 22:45:22.648 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 22:45:22.650 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-24 22:45:22.652 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 22:45:22.653 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 22:45:22.654 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 22:45:22.658 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-24 22:45:22.684 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend) in 126.3735ms
2025-04-24 22:45:22.686 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-04-24 22:45:22.687 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-24 22:45:22.690 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:22.693 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-24 22:45:22.695 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/Categories - 200 null application/json; charset=utf-8 183.4062ms
2025-04-24 22:45:27.077 +03:00 [DBG] Connection id "0HNC3D1D4CJTP" received FIN.
2025-04-24 22:45:27.082 +03:00 [DBG] Connection id "0HNC3D1D4CJTP" is closed. The last processed stream ID was 1.
2025-04-24 22:45:27.083 +03:00 [DBG] The connection queue processing loop for 0HNC3D1D4CJTP completed.
2025-04-24 22:45:27.089 +03:00 [DBG] Connection id "0HNC3D1D4CJTP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 22:45:27.093 +03:00 [DBG] Connection id "0HNC3D1D4CJTP" stopped.
2025-04-24 22:45:35.549 +03:00 [DBG] Connection id "0HNC3D1D4CJTQ" accepted.
2025-04-24 22:45:35.589 +03:00 [DBG] Connection id "0HNC3D1D4CJTQ" started.
2025-04-24 22:45:35.597 +03:00 [DBG] Connection 0HNC3D1D4CJTQ established using the following protocol: "Tls12"
2025-04-24 22:45:35.603 +03:00 [INF] Request starting HTTP/2 POST https://localhost:49464/api/Transactions - application/json 146
2025-04-24 22:45:35.606 +03:00 [DBG] POST requests are not supported
2025-04-24 22:45:35.608 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions'
2025-04-24 22:45:35.609 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Create (Finance_Manager_Backend)' with route pattern 'api/Transactions' is valid for the request path '/api/Transactions'
2025-04-24 22:45:35.611 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Create (Finance_Manager_Backend)'
2025-04-24 22:45:35.612 +03:00 [DBG] Successfully validated the token.
2025-04-24 22:45:35.613 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-24 22:45:35.617 +03:00 [DBG] Authorization was successful.
2025-04-24 22:45:35.618 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Create (Finance_Manager_Backend)'
2025-04-24 22:45:35.623 +03:00 [INF] Route matched with {action = "Create", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-04-24 22:45:35.624 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-24 22:45:35.626 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-24 22:45:35.627 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-24 22:45:35.630 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-24 22:45:35.631 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-24 22:45:35.634 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-24 22:45:35.636 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-24 22:45:35.638 +03:00 [DBG] Attempting to bind parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO' ...
2025-04-24 22:45:35.639 +03:00 [DBG] Attempting to bind parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO' using the name '' in request data ...
2025-04-24 22:45:35.641 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-24 22:45:35.646 +03:00 [DBG] Connection id "0HNC3D1D4CJTQ", Request id "0HNC3D1D4CJTQ:00000001": started reading request body.
2025-04-24 22:45:35.647 +03:00 [DBG] Connection id "0HNC3D1D4CJTQ", Request id "0HNC3D1D4CJTQ:00000001": done reading request body.
2025-04-24 22:45:35.653 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO'
2025-04-24 22:45:35.655 +03:00 [DBG] Done attempting to bind parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO'.
2025-04-24 22:45:35.656 +03:00 [DBG] Done attempting to bind parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO'.
2025-04-24 22:45:35.657 +03:00 [DBG] Attempting to validate the bound parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO' ...
2025-04-24 22:45:35.660 +03:00 [DBG] Done attempting to validate the bound parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO'.
2025-04-24 22:45:35.683 +03:00 [INF] Executing CreateTransactionAsync method.
2025-04-24 22:45:35.686 +03:00 [INF] Start ExecuteTransactionAsync method.
2025-04-24 22:45:35.741 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-24 22:45:35.760 +03:00 [DBG] Creating DbConnection.
2025-04-24 22:45:35.761 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-24 22:45:35.762 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:35.763 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:35.765 +03:00 [DBG] Beginning transaction with isolation level 'ReadCommitted'.
2025-04-24 22:45:35.769 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-24 22:45:35.770 +03:00 [DBG] Start db transaction.
2025-04-24 22:45:35.773 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 22:45:35.775 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 22:45:35.776 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-24 22:45:35.778 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-24 22:45:35.784 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-24 22:45:35.787 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:45:35.789 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:35.792 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 5ms reading results.
2025-04-24 22:45:35.798 +03:00 [DBG] Compiling query expression: 
'DbSet<Category>()
    .FirstOrDefault(t => t.Id == __categoryId_0)'
2025-04-24 22:45:35.807 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Category>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Category>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
            SELECT TOP(1) c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
            FROM categories AS c
            WHERE c.id == @__categoryId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
            SELECT TOP(1) c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
            FROM categories AS c
            WHERE c.id == @__categoryId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Category entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Category instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Category);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Category)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                            {
                                return 
                                {
                                    Category instance;
                                    instance = new Category();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                                    instance.<Icon>k__BackingField = dataReader.GetString(2);
                                    instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                                    instance.<Name>k__BackingField = dataReader.GetString(4);
                                    instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Category)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-24 22:45:35.812 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 22:45:35.813 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 22:45:35.815 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-24 22:45:35.820 +03:00 [DBG] Executing DbCommand [Parameters=[@__categoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
WHERE [c].[id] = @__categoryId_0
2025-04-24 22:45:35.848 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__categoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
WHERE [c].[id] = @__categoryId_0
2025-04-24 22:45:35.857 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:45:35.859 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:35.861 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-04-24 22:45:35.863 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:45:35.867 +03:00 [DBG] The navigation 'Transaction.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:45:35.870 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:45:35.872 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-24 22:45:35.873 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-24 22:45:35.875 +03:00 [DBG] The unchanged property 'User.Balance' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:45:35.876 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:45:35.878 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-24 22:45:35.882 +03:00 [DBG] Executing 2 update commands as a batch.
2025-04-24 22:45:35.887 +03:00 [DBG] Creating transaction savepoint.
2025-04-24 22:45:35.911 +03:00 [DBG] Created transaction savepoint.
2025-04-24 22:45:35.911 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-24 22:45:35.913 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-24 22:45:35.914 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-24 22:45:35.917 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (Precision = 12) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [transactions] ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [users] SET [balance] = @p6
OUTPUT 1
WHERE [id] = @p7;
2025-04-24 22:45:35.924 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (Precision = 12) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [transactions] ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [users] SET [balance] = @p6
OUTPUT 1
WHERE [id] = @p7;
2025-04-24 22:45:35.926 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-24 22:45:35.928 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:35.929 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-24 22:45:35.931 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:45:35.935 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-24 22:45:35.937 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2025-04-24 22:45:35.938 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-24 22:45:35.939 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-24 22:45:35.941 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-24 22:45:35.942 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 0 entities written to the database.
2025-04-24 22:45:35.943 +03:00 [DBG] Committing transaction.
2025-04-24 22:45:35.944 +03:00 [DBG] Committed transaction.
2025-04-24 22:45:35.945 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:35.947 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-24 22:45:35.948 +03:00 [INF] Transaction successful.
2025-04-24 22:45:35.951 +03:00 [DBG] Disposing transaction.
2025-04-24 22:45:35.952 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-24 22:45:35.955 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-24 22:45:35.956 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-24 22:45:35.958 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-24 22:45:35.958 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-24 22:45:35.959 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-24 22:45:35.962 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Int32'.
2025-04-24 22:45:35.964 +03:00 [DBG] Found the endpoints ["Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)"] for address (id=[750],action=[GetById],controller=[Transactions])
2025-04-24 22:45:35.968 +03:00 [DBG] Successfully processed template api/Transactions/{id} for Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend) resulting in /api/Transactions/750 and 
2025-04-24 22:45:35.970 +03:00 [DBG] Link generation succeeded for endpoints ["Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)"] with result /api/Transactions/750
2025-04-24 22:45:35.972 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.Create (Finance_Manager_Backend) in 337.6142ms
2025-04-24 22:45:35.974 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Create (Finance_Manager_Backend)'
2025-04-24 22:45:35.975 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-24 22:45:35.979 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-24 22:45:35.981 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-24 22:45:35.985 +03:00 [INF] Request finished HTTP/2 POST https://localhost:49464/api/Transactions - 201 null application/json; charset=utf-8 381.9464ms
2025-04-24 22:45:37.097 +03:00 [DBG] Connection id "0HNC3D1D4CJTQ" received FIN.
2025-04-24 22:45:37.101 +03:00 [DBG] Connection id "0HNC3D1D4CJTQ" is closed. The last processed stream ID was 1.
2025-04-24 22:45:37.101 +03:00 [DBG] The connection queue processing loop for 0HNC3D1D4CJTQ completed.
2025-04-24 22:45:37.106 +03:00 [DBG] Connection id "0HNC3D1D4CJTQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-24 22:45:37.113 +03:00 [DBG] Connection id "0HNC3D1D4CJTQ" stopped.
