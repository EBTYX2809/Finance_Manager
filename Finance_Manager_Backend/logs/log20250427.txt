2025-04-27 16:26:41.741 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-27 16:26:43.632 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 16:26:43.749 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()'
2025-04-27 16:26:44.005 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
        FROM users AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
        FROM users AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                instance.<Email>k__BackingField = dataReader.GetString(2);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                instance.<Salt>k__BackingField = dataReader.GetString(5);
                                instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-27 16:26:44.071 +03:00 [DBG] Creating DbConnection.
2025-04-27 16:26:44.091 +03:00 [DBG] Created DbConnection. (19ms).
2025-04-27 16:26:44.096 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:44.473 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:44.480 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:26:44.486 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-04-27 16:26:44.490 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-04-27 16:26:44.498 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
2025-04-27 16:26:44.590 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
2025-04-27 16:26:44.627 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:44.716 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:44.733 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:44.742 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 144ms reading results.
2025-04-27 16:26:44.746 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:44.754 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (7ms).
2025-04-27 16:26:44.762 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 16:26:44.767 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 16:26:44.789 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 16:26:44.908 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:44.912 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:44.919 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:26:44.921 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:26:44.925 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-27 16:26:44.934 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-27 16:26:45.067 +03:00 [INF] Executed DbCommand (140ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-27 16:26:45.083 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:45.087 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 14ms reading results.
2025-04-27 16:26:45.092 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:45.095 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 16:26:45.102 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:45.106 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-27 16:26:45.109 +03:00 [DBG] Compiling query expression: 
'DbSet<Category>()'
2025-04-27 16:26:45.115 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Category>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Category entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Category instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Category);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Category)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                        {
                            return 
                            {
                                Category instance;
                                instance = new Category();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                                instance.<Icon>k__BackingField = dataReader.GetString(2);
                                instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                                instance.<Name>k__BackingField = dataReader.GetString(4);
                                instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Category)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-27 16:26:45.120 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:45.122 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:45.124 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:26:45.125 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:26:45.126 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 16:26:45.127 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-27 16:26:45.146 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-27 16:26:45.180 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:45.198 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:45.201 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:45.204 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:45.207 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:45.208 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:45.211 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:45.212 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:45.215 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:45.217 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:45.219 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:45.221 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 73ms reading results.
2025-04-27 16:26:45.224 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:45.225 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 16:26:45.227 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 16:26:45.228 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 16:26:45.242 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 16:26:45.248 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-27 16:26:45.252 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:45.256 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:45.259 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-04-27 16:26:45.268 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-27 16:26:45.270 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:26:45.272 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:26:45.275 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-27 16:26:45.276 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-27 16:26:45.319 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-27 16:26:45.324 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:45.327 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-27 16:26:45.332 +03:00 [DBG] Committing transaction.
2025-04-27 16:26:45.353 +03:00 [DBG] Committed transaction.
2025-04-27 16:26:45.356 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:45.358 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 16:26:45.361 +03:00 [DBG] Disposing transaction.
2025-04-27 16:26:45.363 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:45.365 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:45.367 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:45.369 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:45.371 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:45.373 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-27 16:26:45.376 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 16:26:45.379 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:45.381 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-27 16:26:45.589 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 16:26:45.604 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Email == __email_0)'
2025-04-27 16:26:45.740 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.email == @__email_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.email == @__email_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Salt>k__BackingField = dataReader.GetString(5);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-27 16:26:45.780 +03:00 [DBG] Creating DbConnection.
2025-04-27 16:26:45.787 +03:00 [DBG] Created DbConnection. (7ms).
2025-04-27 16:26:45.790 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:45.794 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:45.796 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:26:45.798 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:26:45.803 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-27 16:26:45.807 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 16:26:45.840 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 16:26:45.850 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:45.852 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 5ms reading results.
2025-04-27 16:26:45.855 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:45.858 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 16:26:45.910 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:45.918 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:45.919 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 16:26:45.921 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 16:26:45.923 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 16:26:45.934 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:45.935 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:45.937 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:26:45.939 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:26:45.943 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-27 16:26:45.946 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30), @p4='?' (Size = 3), @p5='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt], [secondary_currency_1], [secondary_currency_2])
OUTPUT INSERTED.[id], INSERTED.[primary_currency]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-27 16:26:45.964 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30), @p4='?' (Size = 3), @p5='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt], [secondary_currency_1], [secondary_currency_2])
OUTPUT INSERTED.[id], INSERTED.[primary_currency]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-27 16:26:45.979 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:45.985 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:45.989 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 20ms reading results.
2025-04-27 16:26:45.991 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:45.993 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 16:26:46.000 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.005 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-27 16:26:46.197 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __userDTO_Id_0)'
2025-04-27 16:26:46.206 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Salt>k__BackingField = dataReader.GetString(5);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-27 16:26:46.211 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:46.213 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:46.215 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:26:46.217 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:26:46.218 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-27 16:26:46.220 +03:00 [DBG] Executing DbCommand [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-27 16:26:46.239 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-27 16:26:46.244 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:46.246 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-27 16:26:46.248 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:46.250 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 16:26:46.259 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.262 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.265 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.267 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.270 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.273 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.275 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.278 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.280 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.282 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.284 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 16:26:46.286 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 16:26:46.291 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 16:26:46.298 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-27 16:26:46.303 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:46.306 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:46.308 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:26:46.310 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:26:46.311 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-27 16:26:46.313 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 16:26:46.327 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 16:26:46.332 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.336 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.338 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.340 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.343 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.344 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:46.346 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 16ms reading results.
2025-04-27 16:26:46.349 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:46.351 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 16:26:46.353 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.355 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.357 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.359 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.361 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.364 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-27 16:26:46.369 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.392 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.394 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.396 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.397 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.399 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.401 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.403 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.405 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.408 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.410 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.412 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.413 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.415 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.417 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.419 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.420 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.422 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.424 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.425 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.427 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.429 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.430 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.433 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.434 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.438 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.440 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.443 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.444 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.447 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.449 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.451 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.453 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.456 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.458 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.460 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.463 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.465 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.467 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.469 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.472 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 16:26:46.474 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 16:26:46.483 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 16:26:46.486 +03:00 [DBG] Executing 20 update commands as a batch.
2025-04-27 16:26:46.489 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:46.491 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:46.493 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:26:46.495 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:26:46.497 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-27 16:26:46.499 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 16:26:46.545 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 16:26:46.551 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.555 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.558 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.560 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.561 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.564 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.566 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.568 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.570 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.573 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.575 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.577 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.579 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.581 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.583 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.585 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.587 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.590 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.591 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.593 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.595 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:46.597 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 47ms reading results.
2025-04-27 16:26:46.599 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:46.600 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 16:26:46.603 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.605 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.607 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.609 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.611 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.613 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.615 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.617 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.620 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.622 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.624 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.626 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.628 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.630 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.632 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.635 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.637 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.640 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.642 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.644 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.646 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 20 entities written to the database.
2025-04-27 16:26:46.650 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.666 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.667 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.669 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.670 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.673 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.674 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.676 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.678 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 16:26:46.679 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 16:26:46.684 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 16:26:46.685 +03:00 [DBG] Executing 4 update commands as a batch.
2025-04-27 16:26:46.687 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:46.689 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:46.690 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:26:46.693 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-27 16:26:46.695 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-27 16:26:46.696 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-27 16:26:46.733 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-27 16:26:46.739 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.743 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.745 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.746 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:26:46.748 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:46.750 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 12ms reading results.
2025-04-27 16:26:46.753 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:46.755 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 16:26:46.760 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.763 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.765 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.770 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:26:46.773 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 4 entities written to the database.
2025-04-27 16:26:46.775 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 16:26:46.776 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:26:46.779 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-27 16:26:46.883 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-27 16:44:27.442 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-27 16:44:28.382 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 16:44:28.490 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()'
2025-04-27 16:44:28.734 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
        FROM users AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
        FROM users AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                instance.<Email>k__BackingField = dataReader.GetString(2);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                instance.<Salt>k__BackingField = dataReader.GetString(5);
                                instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-27 16:44:28.793 +03:00 [DBG] Creating DbConnection.
2025-04-27 16:44:28.813 +03:00 [DBG] Created DbConnection. (37ms).
2025-04-27 16:44:28.818 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:29.245 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:29.252 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:44:29.258 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-04-27 16:44:29.261 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-04-27 16:44:29.269 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
2025-04-27 16:44:29.296 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
2025-04-27 16:44:29.339 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:29.408 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:29.418 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:29.426 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 121ms reading results.
2025-04-27 16:44:29.429 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:29.434 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (5ms).
2025-04-27 16:44:29.439 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 16:44:29.442 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 16:44:29.456 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 16:44:29.560 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:29.564 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:29.571 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:44:29.572 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:44:29.576 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-27 16:44:29.582 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-27 16:44:29.696 +03:00 [INF] Executed DbCommand (118ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-27 16:44:29.710 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:29.714 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 14ms reading results.
2025-04-27 16:44:29.719 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:29.721 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 16:44:29.728 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:29.736 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-27 16:44:29.739 +03:00 [DBG] Compiling query expression: 
'DbSet<Category>()'
2025-04-27 16:44:29.746 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Category>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Category entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Category instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Category);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Category)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                        {
                            return 
                            {
                                Category instance;
                                instance = new Category();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                                instance.<Icon>k__BackingField = dataReader.GetString(2);
                                instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                                instance.<Name>k__BackingField = dataReader.GetString(4);
                                instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Category)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-27 16:44:29.751 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:29.753 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:29.754 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:44:29.756 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:44:29.757 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 16:44:29.758 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-27 16:44:29.762 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-27 16:44:29.775 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:29.789 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:29.792 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:29.794 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:29.797 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:29.799 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:29.801 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:29.802 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:29.804 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:29.806 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:29.808 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:29.809 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 44ms reading results.
2025-04-27 16:44:29.811 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:29.813 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 16:44:29.815 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 16:44:29.816 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 16:44:29.824 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 16:44:29.831 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-27 16:44:29.834 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:29.836 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:29.839 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-04-27 16:44:29.847 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-27 16:44:29.849 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:44:29.851 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:44:29.853 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-27 16:44:29.855 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-27 16:44:29.877 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-27 16:44:29.883 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:29.885 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-27 16:44:29.889 +03:00 [DBG] Committing transaction.
2025-04-27 16:44:29.894 +03:00 [DBG] Committed transaction.
2025-04-27 16:44:29.897 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:29.898 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 16:44:29.902 +03:00 [DBG] Disposing transaction.
2025-04-27 16:44:29.903 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:29.907 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:29.909 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:29.911 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:29.915 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:29.917 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-27 16:44:29.920 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 16:44:29.924 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:29.926 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-27 16:44:30.110 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 16:44:30.125 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Email == __email_0)'
2025-04-27 16:44:30.241 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.email == @__email_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.email == @__email_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Salt>k__BackingField = dataReader.GetString(5);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-27 16:44:30.256 +03:00 [DBG] Creating DbConnection.
2025-04-27 16:44:30.258 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-27 16:44:30.259 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:30.261 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:30.262 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:44:30.264 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:44:30.266 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-27 16:44:30.267 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 16:44:30.271 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 16:44:30.277 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:30.278 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-04-27 16:44:30.281 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:30.283 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 16:44:30.335 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.342 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.345 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 16:44:30.346 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 16:44:30.348 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 16:44:30.359 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:30.362 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:30.364 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:44:30.366 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:44:30.369 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-27 16:44:30.371 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30), @p4='?' (Size = 3), @p5='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt], [secondary_currency_1], [secondary_currency_2])
OUTPUT INSERTED.[id], INSERTED.[primary_currency]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-27 16:44:30.377 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30), @p4='?' (Size = 3), @p5='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt], [secondary_currency_1], [secondary_currency_2])
OUTPUT INSERTED.[id], INSERTED.[primary_currency]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-27 16:44:30.390 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:30.397 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:30.400 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 19ms reading results.
2025-04-27 16:44:30.403 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:30.404 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 16:44:30.410 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.413 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-27 16:44:30.661 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __userDTO_Id_0)'
2025-04-27 16:44:30.669 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Salt>k__BackingField = dataReader.GetString(5);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-27 16:44:30.674 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:30.676 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:30.678 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:44:30.679 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:44:30.682 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-27 16:44:30.684 +03:00 [DBG] Executing DbCommand [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-27 16:44:30.690 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-27 16:44:30.694 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:30.696 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-27 16:44:30.699 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:30.701 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 16:44:30.708 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.712 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.715 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.718 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.720 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.722 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.724 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.726 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.728 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.731 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.733 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 16:44:30.735 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 16:44:30.738 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 16:44:30.744 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-27 16:44:30.749 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:30.751 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:30.753 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:44:30.755 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:44:30.756 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 16:44:30.758 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 16:44:30.767 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 16:44:30.771 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:30.773 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:30.775 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:30.776 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:30.778 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:30.779 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:30.783 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 13ms reading results.
2025-04-27 16:44:30.786 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:30.788 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 16:44:30.791 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.793 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.795 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.799 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.801 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.803 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-27 16:44:30.808 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.829 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.832 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.834 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.835 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.837 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.838 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.840 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.843 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.845 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.849 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.851 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.853 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.855 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.857 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.859 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.862 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.865 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.867 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.869 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.871 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.875 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.877 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.879 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.881 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.884 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.886 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.888 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.890 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.893 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.895 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.898 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.900 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.902 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.904 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.907 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.909 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.912 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.914 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.917 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:30.919 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 16:44:30.921 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 16:44:30.931 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 16:44:30.935 +03:00 [DBG] Executing 20 update commands as a batch.
2025-04-27 16:44:30.938 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:30.940 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:30.942 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:44:30.945 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-27 16:44:30.950 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-04-27 16:44:30.953 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 16:44:30.981 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 16:44:30.988 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:30.992 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:30.994 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:30.996 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:30.999 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:31.001 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:31.003 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:31.004 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:31.006 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:31.007 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:31.009 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:31.010 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:31.013 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:31.015 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:31.017 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:31.018 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:31.020 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:31.021 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:31.023 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:31.024 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:31.026 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:31.027 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 40ms reading results.
2025-04-27 16:44:31.029 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:31.031 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 16:44:31.034 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.037 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.039 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.041 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.044 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.046 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.048 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.050 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.052 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.054 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.056 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.058 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.060 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.062 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.065 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.067 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.069 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.071 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.073 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.075 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.077 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 20 entities written to the database.
2025-04-27 16:44:31.080 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.094 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.096 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.099 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.101 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.103 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.106 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.108 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.109 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 16:44:31.111 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 16:44:31.117 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 16:44:31.120 +03:00 [DBG] Executing 4 update commands as a batch.
2025-04-27 16:44:31.122 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:31.124 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:31.125 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:44:31.127 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:44:31.128 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 16:44:31.131 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-27 16:44:31.142 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-27 16:44:31.147 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:31.150 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:31.153 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:31.155 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:44:31.156 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:31.158 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 12ms reading results.
2025-04-27 16:44:31.160 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:31.162 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 16:44:31.168 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.170 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.173 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.176 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:44:31.178 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 4 entities written to the database.
2025-04-27 16:44:31.181 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 16:44:31.183 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:44:31.185 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-27 16:44:31.354 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-27 16:47:29.151 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-27 16:47:29.864 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 16:47:29.935 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()'
2025-04-27 16:47:30.308 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
        FROM users AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
        FROM users AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                instance.<Email>k__BackingField = dataReader.GetString(2);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                instance.<Salt>k__BackingField = dataReader.GetString(5);
                                instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-27 16:47:30.343 +03:00 [DBG] Creating DbConnection.
2025-04-27 16:47:30.363 +03:00 [DBG] Created DbConnection. (19ms).
2025-04-27 16:47:30.368 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:30.648 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:30.657 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:47:30.672 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (13ms).
2025-04-27 16:47:30.677 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2025-04-27 16:47:30.687 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
2025-04-27 16:47:30.792 +03:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
2025-04-27 16:47:30.860 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:30.903 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:30.948 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:30.960 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 139ms reading results.
2025-04-27 16:47:30.966 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:30.978 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (10ms).
2025-04-27 16:47:30.986 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 16:47:30.993 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 16:47:31.018 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 16:47:31.091 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:31.096 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:31.103 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:47:31.104 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:47:31.108 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-27 16:47:31.113 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-27 16:47:31.142 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-27 16:47:31.155 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:31.164 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 18ms reading results.
2025-04-27 16:47:31.176 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:31.182 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (6ms).
2025-04-27 16:47:31.196 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:31.204 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-27 16:47:31.211 +03:00 [DBG] Compiling query expression: 
'DbSet<Category>()'
2025-04-27 16:47:31.222 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Category>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Category entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Category instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Category);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Category)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                        {
                            return 
                            {
                                Category instance;
                                instance = new Category();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                                instance.<Icon>k__BackingField = dataReader.GetString(2);
                                instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                                instance.<Name>k__BackingField = dataReader.GetString(4);
                                instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Category)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-27 16:47:31.236 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:31.241 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:31.247 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:47:31.251 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-04-27 16:47:31.255 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-04-27 16:47:31.262 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-27 16:47:31.271 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-27 16:47:31.289 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:31.306 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:31.313 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:31.316 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:31.320 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:31.323 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:31.328 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:31.331 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:31.335 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:31.340 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:31.344 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:31.348 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 71ms reading results.
2025-04-27 16:47:31.352 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:31.354 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 16:47:31.363 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 16:47:31.365 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 16:47:31.379 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 16:47:31.386 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-27 16:47:31.391 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:31.395 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:31.400 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-04-27 16:47:31.410 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-27 16:47:31.417 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:47:31.422 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-04-27 16:47:31.427 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-04-27 16:47:31.430 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-27 16:47:31.509 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-27 16:47:31.517 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:31.523 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 5ms reading results.
2025-04-27 16:47:31.531 +03:00 [DBG] Committing transaction.
2025-04-27 16:47:31.537 +03:00 [DBG] Committed transaction.
2025-04-27 16:47:31.542 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:31.545 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (3ms).
2025-04-27 16:47:31.560 +03:00 [DBG] Disposing transaction.
2025-04-27 16:47:31.568 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:31.572 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:31.578 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:31.583 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:31.588 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:31.592 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-27 16:47:31.597 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 16:47:31.602 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:31.606 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-04-27 16:47:31.830 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 16:47:31.841 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Email == __email_0)'
2025-04-27 16:47:31.925 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.email == @__email_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.email == @__email_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Salt>k__BackingField = dataReader.GetString(5);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-27 16:47:32.059 +03:00 [DBG] Creating DbConnection.
2025-04-27 16:47:32.078 +03:00 [DBG] Created DbConnection. (18ms).
2025-04-27 16:47:32.082 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.084 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.086 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:47:32.088 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:47:32.091 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-27 16:47:32.093 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 16:47:32.099 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 16:47:32.107 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.109 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-04-27 16:47:32.112 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.114 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 16:47:32.161 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.193 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.199 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 16:47:32.202 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 16:47:32.206 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 16:47:32.222 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.228 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.234 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:47:32.238 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-04-27 16:47:32.244 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-04-27 16:47:32.249 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30), @p4='?' (Size = 3), @p5='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt], [secondary_currency_1], [secondary_currency_2])
OUTPUT INSERTED.[id], INSERTED.[primary_currency]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-27 16:47:32.262 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30), @p4='?' (Size = 3), @p5='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt], [secondary_currency_1], [secondary_currency_2])
OUTPUT INSERTED.[id], INSERTED.[primary_currency]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-27 16:47:32.280 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.288 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.293 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 22ms reading results.
2025-04-27 16:47:32.300 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.306 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (5ms).
2025-04-27 16:47:32.317 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.323 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-27 16:47:32.378 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __userDTO_Id_0)'
2025-04-27 16:47:32.384 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Salt>k__BackingField = dataReader.GetString(5);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-27 16:47:32.390 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.392 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.394 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:47:32.396 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:47:32.398 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-27 16:47:32.400 +03:00 [DBG] Executing DbCommand [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-27 16:47:32.404 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-27 16:47:32.409 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.411 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-27 16:47:32.414 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.417 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 16:47:32.429 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.435 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.443 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.450 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.455 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.461 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.467 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.473 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.489 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.498 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.505 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 16:47:32.509 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 16:47:32.515 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 16:47:32.524 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-27 16:47:32.533 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.537 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.543 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:47:32.546 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-27 16:47:32.558 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-04-27 16:47:32.560 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 16:47:32.576 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 16:47:32.586 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.589 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.591 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.593 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.595 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.599 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.602 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 17ms reading results.
2025-04-27 16:47:32.604 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.606 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 16:47:32.610 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.612 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.616 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.619 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.622 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.625 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-27 16:47:32.630 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.654 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.657 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.659 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.662 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.664 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.666 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.672 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.674 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.681 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.685 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.691 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.694 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.696 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.698 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.700 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.702 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.704 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.706 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.709 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.711 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.713 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.715 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.717 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.719 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.721 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.723 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.726 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.728 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.730 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.732 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.734 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.735 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.738 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.740 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.742 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.744 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.746 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.748 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.751 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.752 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 16:47:32.754 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 16:47:32.763 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 16:47:32.766 +03:00 [DBG] Executing 20 update commands as a batch.
2025-04-27 16:47:32.768 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.770 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.772 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:47:32.774 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:47:32.776 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-27 16:47:32.778 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 16:47:32.802 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 16:47:32.809 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.812 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.814 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.816 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.818 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.821 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.822 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.824 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.826 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.828 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.830 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.832 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.833 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.835 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.837 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.838 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.840 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.841 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.843 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.844 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.845 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.847 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 39ms reading results.
2025-04-27 16:47:32.848 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.850 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 16:47:32.852 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.854 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.856 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.858 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.860 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.862 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.864 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.866 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.868 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.870 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.872 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.874 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.876 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.878 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.880 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.882 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.884 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.886 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.888 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.890 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.892 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 20 entities written to the database.
2025-04-27 16:47:32.895 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.908 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.909 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.911 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.912 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.914 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.916 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.917 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.919 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 16:47:32.920 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 16:47:32.924 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 16:47:32.926 +03:00 [DBG] Executing 4 update commands as a batch.
2025-04-27 16:47:32.928 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.929 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.934 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:47:32.936 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-27 16:47:32.938 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-27 16:47:32.940 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-27 16:47:32.951 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-27 16:47:32.955 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.958 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.960 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.962 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:47:32.964 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.966 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 12ms reading results.
2025-04-27 16:47:32.969 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.971 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 16:47:32.976 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.979 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.982 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.984 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:47:32.987 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 4 entities written to the database.
2025-04-27 16:47:32.989 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 16:47:32.990 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:47:32.992 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-27 16:47:33.039 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-27 16:47:33.111 +03:00 [DBG] Hosting starting
2025-04-27 16:47:33.327 +03:00 [INF] User profile is available. Using 'C:\Users\ebtyx\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-27 16:47:33.354 +03:00 [DBG] Reading data from file 'C:\Users\ebtyx\AppData\Local\ASP.NET\DataProtection-Keys\key-036e1e5f-5347-47d7-8236-0b64ed0a76a1.xml'.
2025-04-27 16:47:33.365 +03:00 [DBG] Found key {036e1e5f-5347-47d7-8236-0b64ed0a76a1}.
2025-04-27 16:47:33.378 +03:00 [DBG] Considering key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} with expiration date 2025-07-16 20:11:06Z as default key.
2025-04-27 16:47:33.383 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-27 16:47:33.385 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-27 16:47:33.388 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-27 16:47:33.392 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-27 16:47:33.395 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-27 16:47:33.398 +03:00 [DBG] Using key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} as the default key.
2025-04-27 16:47:33.400 +03:00 [DBG] Key ring with default key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} was loaded during application startup.
2025-04-27 16:47:33.472 +03:00 [DBG] Middleware loaded
2025-04-27 16:47:33.476 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16531 B).
2025-04-27 16:47:33.490 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-27 16:47:35.634 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-27 16:47:35.771 +03:00 [INF] Now listening on: https://localhost:49464
2025-04-27 16:47:35.776 +03:00 [INF] Now listening on: http://localhost:49465
2025-04-27 16:47:35.778 +03:00 [DBG] Loaded hosting startup assembly Finance_Manager_Backend
2025-04-27 16:47:35.779 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-04-27 16:47:35.781 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-27 16:47:35.782 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-04-27 16:47:36.098 +03:00 [DBG] Connection id "0HNC5I88N74TE" received FIN.
2025-04-27 16:47:36.240 +03:00 [DBG] Connection id "0HNC5I88N74TE" accepted.
2025-04-27 16:47:36.263 +03:00 [DBG] Connection id "0HNC5I88N74TE" started.
2025-04-27 16:47:36.820 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-04-27 16:47:36.846 +03:00 [DBG] Connection id "0HNC5I88N74TE" stopped.
2025-04-27 16:47:36.849 +03:00 [DBG] Connection id "0HNC5I88N74TE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 16:47:39.080 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-27 16:47:39.081 +03:00 [INF] Hosting environment: Development
2025-04-27 16:47:39.083 +03:00 [INF] Content root path: G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend
2025-04-27 16:47:39.084 +03:00 [DBG] Hosting started
2025-04-27 16:47:48.624 +03:00 [DBG] Connection id "0HNC5I88N74TF" accepted.
2025-04-27 16:47:48.628 +03:00 [DBG] Connection id "0HNC5I88N74TF" started.
2025-04-27 16:47:49.069 +03:00 [DBG] Connection 0HNC5I88N74TF established using the following protocol: "Tls12"
2025-04-27 16:47:49.219 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/swagger - null null
2025-04-27 16:47:49.643 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-27 16:47:49.656 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/swagger - 301 0 null 437.2806ms
2025-04-27 16:47:50.013 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/swagger/index.html - null null
2025-04-27 16:47:50.111 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-04-27 16:47:50.114 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-27 16:47:50.165 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-04-27 16:47:50.166 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-27 16:47:50.168 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/swagger/index.html - 200 null text/html;charset=utf-8 154.8654ms
2025-04-27 16:47:52.635 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/swagger/swagger-ui.css - null null
2025-04-27 16:47:52.635 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/swagger/index.css - null null
2025-04-27 16:47:52.635 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/swagger/swagger-ui-bundle.js - null null
2025-04-27 16:47:52.635 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/swagger/swagger-ui-standalone-preset.js - null null
2025-04-27 16:47:52.635 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/swagger/index.js - null null
2025-04-27 16:47:52.682 +03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-04-27 16:47:52.684 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/swagger/index.css - 200 202 text/css 49.0154ms
2025-04-27 16:47:52.688 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/_vs/browserLink - null null
2025-04-27 16:47:52.696 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/_framework/aspnetcore-browser-refresh.js - null null
2025-04-27 16:47:52.709 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-27 16:47:52.716 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 19.9267ms
2025-04-27 16:47:52.722 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/swagger/index.js - 200 null application/javascript;charset=utf-8 86.5406ms
2025-04-27 16:47:52.748 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-04-27 16:47:52.750 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 115.3806ms
2025-04-27 16:47:52.836 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-04-27 16:47:52.838 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/swagger/swagger-ui.css - 200 154949 text/css 203.4472ms
2025-04-27 16:47:52.994 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-04-27 16:47:52.996 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/swagger/swagger-ui-bundle.js - 200 1466908 text/javascript 361.5188ms
2025-04-27 16:47:53.031 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/_vs/browserLink - 200 null text/javascript; charset=UTF-8 343.7422ms
2025-04-27 16:47:53.623 +03:00 [DBG] Connection id "0HNC5I88N74TF" received FIN.
2025-04-27 16:47:53.630 +03:00 [DBG] Connection id "0HNC5I88N74TF" is closed. The last processed stream ID was 17.
2025-04-27 16:47:53.633 +03:00 [DBG] The connection queue processing loop for 0HNC5I88N74TF completed.
2025-04-27 16:47:53.633 +03:00 [DBG] Connection id "0HNC5I88N74TF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 16:47:53.636 +03:00 [DBG] Connection id "0HNC5I88N74TF" stopped.
2025-04-27 16:47:54.020 +03:00 [DBG] Connection id "0HNC5I88N74TG" accepted.
2025-04-27 16:47:54.023 +03:00 [DBG] Connection id "0HNC5I88N74TG" started.
2025-04-27 16:47:54.032 +03:00 [DBG] Connection 0HNC5I88N74TG established using the following protocol: "Tls12"
2025-04-27 16:47:54.034 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/swagger/v1/swagger.json - null null
2025-04-27 16:47:54.034 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/swagger/favicon-32x32.png - null null
2025-04-27 16:47:54.041 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-04-27 16:47:54.046 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/swagger/favicon-32x32.png - 200 628 image/png 11.3995ms
2025-04-27 16:47:54.086 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.1828ms
2025-04-27 16:47:58.623 +03:00 [DBG] Connection id "0HNC5I88N74TG" received FIN.
2025-04-27 16:47:58.628 +03:00 [DBG] Connection id "0HNC5I88N74TG" is closed. The last processed stream ID was 3.
2025-04-27 16:47:58.628 +03:00 [DBG] The connection queue processing loop for 0HNC5I88N74TG completed.
2025-04-27 16:47:58.634 +03:00 [DBG] Connection id "0HNC5I88N74TG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 16:47:58.642 +03:00 [DBG] Connection id "0HNC5I88N74TG" stopped.
2025-04-27 16:48:24.373 +03:00 [DBG] Connection id "0HNC5I88N74TH" accepted.
2025-04-27 16:48:24.379 +03:00 [DBG] Connection id "0HNC5I88N74TH" started.
2025-04-27 16:48:24.390 +03:00 [DBG] Connection 0HNC5I88N74TH established using the following protocol: "Tls12"
2025-04-27 16:48:24.398 +03:00 [INF] Request starting HTTP/2 POST https://localhost:49464/api/Auth/authenticate - application/json 62
2025-04-27 16:48:24.403 +03:00 [DBG] POST requests are not supported
2025-04-27 16:48:24.486 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/authenticate'
2025-04-27 16:48:24.489 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)' with route pattern 'api/Auth/authenticate' is valid for the request path '/api/Auth/authenticate'
2025-04-27 16:48:24.492 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-27 16:48:24.624 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-27 16:48:24.628 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-27 16:48:24.661 +03:00 [INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokenDTO]] Authenticate(Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-04-27 16:48:24.664 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 16:48:24.666 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 16:48:24.667 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 16:48:24.672 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 16:48:24.674 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 16:48:24.679 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-04-27 16:48:24.683 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-04-27 16:48:24.717 +03:00 [DBG] Attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' ...
2025-04-27 16:48:24.724 +03:00 [DBG] Attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' using the name '' in request data ...
2025-04-27 16:48:24.726 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-27 16:48:24.736 +03:00 [DBG] Connection id "0HNC5I88N74TH", Request id "0HNC5I88N74TH:00000001": started reading request body.
2025-04-27 16:48:24.738 +03:00 [DBG] Connection id "0HNC5I88N74TH", Request id "0HNC5I88N74TH:00000001": done reading request body.
2025-04-27 16:48:24.767 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'
2025-04-27 16:48:24.769 +03:00 [DBG] Done attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-04-27 16:48:24.771 +03:00 [DBG] Done attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-04-27 16:48:24.773 +03:00 [DBG] Attempting to validate the bound parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' ...
2025-04-27 16:48:24.781 +03:00 [DBG] Done attempting to validate the bound parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-04-27 16:48:24.875 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 16:48:24.904 +03:00 [DBG] Creating DbConnection.
2025-04-27 16:48:24.906 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-27 16:48:24.907 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:48:24.909 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:48:24.911 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:48:24.912 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:48:24.913 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 16:48:24.915 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 16:48:24.921 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 16:48:24.946 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:48:24.948 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:48:24.949 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 24ms reading results.
2025-04-27 16:48:24.951 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:48:24.953 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 16:48:24.987 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend) in 306.0384ms
2025-04-27 16:48:24.994 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-27 16:48:24.998 +03:00 [ERR] Invalid password. Please try again.
System.InvalidOperationException: Invalid password. Please try again.
   at Finance_Manager_Backend.BusinessLogic.Services.AuthServices.AuthService.AuthenticateUserAsync(String email, String password) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\BusinessLogic\Services\AuthServices\AuthService.cs:line 54
   at Finance_Manager_Backend.Controllers.AuthController.Authenticate(AuthDataDTO authDataDTO) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Controllers\AuthController.cs:line 50
   at lambda_method384(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Finance_Manager_Backend.Middleware.ExceptionsHandler.InvokeAsync(HttpContext httpContext) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Middleware\ExceptionsHandler.cs:line 23
2025-04-27 16:48:25.045 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 16:48:25.072 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:48:25.077 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-04-27 16:48:25.084 +03:00 [INF] Request finished HTTP/2 POST https://localhost:49464/api/Auth/authenticate - 400 null application/json 685.6439ms
2025-04-27 16:48:28.682 +03:00 [DBG] Connection id "0HNC5I88N74TH" received FIN.
2025-04-27 16:48:28.689 +03:00 [DBG] Connection id "0HNC5I88N74TH" is closed. The last processed stream ID was 1.
2025-04-27 16:48:28.689 +03:00 [DBG] The connection queue processing loop for 0HNC5I88N74TH completed.
2025-04-27 16:48:28.693 +03:00 [DBG] Connection id "0HNC5I88N74TH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 16:48:28.711 +03:00 [DBG] Connection id "0HNC5I88N74TH" stopped.
2025-04-27 16:48:33.677 +03:00 [DBG] Connection id "0HNC5I88N74TI" accepted.
2025-04-27 16:48:33.711 +03:00 [DBG] Connection id "0HNC5I88N74TI" started.
2025-04-27 16:48:33.723 +03:00 [DBG] Connection 0HNC5I88N74TI established using the following protocol: "Tls12"
2025-04-27 16:48:33.739 +03:00 [INF] Request starting HTTP/2 POST https://localhost:49464/api/Auth/authenticate - application/json 63
2025-04-27 16:48:33.759 +03:00 [DBG] POST requests are not supported
2025-04-27 16:48:33.764 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/authenticate'
2025-04-27 16:48:33.765 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)' with route pattern 'api/Auth/authenticate' is valid for the request path '/api/Auth/authenticate'
2025-04-27 16:48:33.767 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-27 16:48:33.771 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-27 16:48:33.772 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-27 16:48:33.774 +03:00 [INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokenDTO]] Authenticate(Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-04-27 16:48:33.776 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 16:48:33.778 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 16:48:33.780 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 16:48:33.782 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 16:48:33.783 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 16:48:33.785 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-04-27 16:48:33.789 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-04-27 16:48:33.791 +03:00 [DBG] Attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' ...
2025-04-27 16:48:33.793 +03:00 [DBG] Attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' using the name '' in request data ...
2025-04-27 16:48:33.794 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-27 16:48:33.796 +03:00 [DBG] Connection id "0HNC5I88N74TI", Request id "0HNC5I88N74TI:00000001": started reading request body.
2025-04-27 16:48:33.797 +03:00 [DBG] Connection id "0HNC5I88N74TI", Request id "0HNC5I88N74TI:00000001": done reading request body.
2025-04-27 16:48:33.799 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'
2025-04-27 16:48:33.800 +03:00 [DBG] Done attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-04-27 16:48:33.801 +03:00 [DBG] Done attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-04-27 16:48:33.802 +03:00 [DBG] Attempting to validate the bound parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' ...
2025-04-27 16:48:33.804 +03:00 [DBG] Done attempting to validate the bound parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-04-27 16:48:33.808 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 16:48:33.816 +03:00 [DBG] Creating DbConnection.
2025-04-27 16:48:33.818 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-27 16:48:33.819 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:48:33.821 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:48:33.823 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:48:33.826 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-04-27 16:48:33.828 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-27 16:48:33.830 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 16:48:33.844 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 16:48:33.849 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:48:33.851 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:48:33.853 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-04-27 16:48:33.856 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:48:33.857 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 16:48:33.874 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend) in 89.7044ms
2025-04-27 16:48:33.878 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-27 16:48:33.880 +03:00 [ERR] Invalid password. Please try again.
System.InvalidOperationException: Invalid password. Please try again.
   at Finance_Manager_Backend.BusinessLogic.Services.AuthServices.AuthService.AuthenticateUserAsync(String email, String password) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\BusinessLogic\Services\AuthServices\AuthService.cs:line 54
   at Finance_Manager_Backend.Controllers.AuthController.Authenticate(AuthDataDTO authDataDTO) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Controllers\AuthController.cs:line 50
   at lambda_method384(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Finance_Manager_Backend.Middleware.ExceptionsHandler.InvokeAsync(HttpContext httpContext) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Middleware\ExceptionsHandler.cs:line 23
2025-04-27 16:48:33.885 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 16:48:33.888 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:48:33.890 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-27 16:48:33.895 +03:00 [INF] Request finished HTTP/2 POST https://localhost:49464/api/Auth/authenticate - 400 null application/json 155.4143ms
2025-04-27 16:48:38.698 +03:00 [DBG] Connection id "0HNC5I88N74TI" received FIN.
2025-04-27 16:48:38.706 +03:00 [DBG] Connection id "0HNC5I88N74TI" is closed. The last processed stream ID was 1.
2025-04-27 16:48:38.707 +03:00 [DBG] The connection queue processing loop for 0HNC5I88N74TI completed.
2025-04-27 16:48:38.711 +03:00 [DBG] Connection id "0HNC5I88N74TI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 16:48:38.729 +03:00 [DBG] Connection id "0HNC5I88N74TI" stopped.
2025-04-27 16:48:41.885 +03:00 [DBG] Connection id "0HNC5I88N74TJ" accepted.
2025-04-27 16:48:41.889 +03:00 [DBG] Connection id "0HNC5I88N74TJ" started.
2025-04-27 16:48:41.897 +03:00 [DBG] Connection 0HNC5I88N74TJ established using the following protocol: "Tls12"
2025-04-27 16:48:41.909 +03:00 [INF] Request starting HTTP/2 POST https://localhost:49464/api/Auth/authenticate - application/json 62
2025-04-27 16:48:41.919 +03:00 [DBG] POST requests are not supported
2025-04-27 16:48:41.923 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/authenticate'
2025-04-27 16:48:41.924 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)' with route pattern 'api/Auth/authenticate' is valid for the request path '/api/Auth/authenticate'
2025-04-27 16:48:41.926 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-27 16:48:41.929 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-27 16:48:41.931 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-27 16:48:41.936 +03:00 [INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokenDTO]] Authenticate(Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-04-27 16:48:41.938 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 16:48:41.940 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 16:48:41.941 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 16:48:41.944 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 16:48:41.946 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 16:48:41.947 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-04-27 16:48:41.949 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-04-27 16:48:41.953 +03:00 [DBG] Attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' ...
2025-04-27 16:48:41.955 +03:00 [DBG] Attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' using the name '' in request data ...
2025-04-27 16:48:41.957 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-27 16:48:41.958 +03:00 [DBG] Connection id "0HNC5I88N74TJ", Request id "0HNC5I88N74TJ:00000001": started reading request body.
2025-04-27 16:48:41.959 +03:00 [DBG] Connection id "0HNC5I88N74TJ", Request id "0HNC5I88N74TJ:00000001": done reading request body.
2025-04-27 16:48:41.961 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'
2025-04-27 16:48:41.962 +03:00 [DBG] Done attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-04-27 16:48:41.963 +03:00 [DBG] Done attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-04-27 16:48:41.967 +03:00 [DBG] Attempting to validate the bound parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' ...
2025-04-27 16:48:41.969 +03:00 [DBG] Done attempting to validate the bound parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-04-27 16:48:41.973 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 16:48:41.975 +03:00 [DBG] Creating DbConnection.
2025-04-27 16:48:41.976 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-27 16:48:41.977 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:48:41.979 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:48:41.981 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:48:41.985 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-04-27 16:48:41.987 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-27 16:48:41.989 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 16:48:41.995 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 16:48:41.998 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:48:42.002 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:48:42.004 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 5ms reading results.
2025-04-27 16:48:42.006 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:48:42.008 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 16:48:42.023 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-27 16:48:42.027 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-27 16:48:42.029 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-27 16:48:42.031 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-27 16:48:42.031 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-27 16:48:42.034 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-27 16:48:42.036 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokenDTO'.
2025-04-27 16:48:42.081 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend) in 134.3488ms
2025-04-27 16:48:42.085 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-27 16:48:42.087 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 16:48:42.089 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:48:42.094 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-04-27 16:48:42.097 +03:00 [INF] Request finished HTTP/2 POST https://localhost:49464/api/Auth/authenticate - 200 null application/json; charset=utf-8 187.7897ms
2025-04-27 16:48:43.710 +03:00 [DBG] Connection id "0HNC5I88N74TJ" received FIN.
2025-04-27 16:48:43.716 +03:00 [DBG] Connection id "0HNC5I88N74TJ" is closed. The last processed stream ID was 1.
2025-04-27 16:48:43.716 +03:00 [DBG] The connection queue processing loop for 0HNC5I88N74TJ completed.
2025-04-27 16:48:43.719 +03:00 [DBG] Connection id "0HNC5I88N74TJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 16:48:43.729 +03:00 [DBG] Connection id "0HNC5I88N74TJ" stopped.
2025-04-27 16:49:19.239 +03:00 [DBG] Connection id "0HNC5I88N74TK" accepted.
2025-04-27 16:49:19.242 +03:00 [DBG] Connection id "0HNC5I88N74TK" started.
2025-04-27 16:49:19.253 +03:00 [DBG] Connection 0HNC5I88N74TK established using the following protocol: "Tls12"
2025-04-27 16:49:19.257 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:49464/api/User - application/json 75
2025-04-27 16:49:19.260 +03:00 [DBG] PUT requests are not supported
2025-04-27 16:49:19.261 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User'
2025-04-27 16:49:19.262 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)' with route pattern 'api/User' is valid for the request path '/api/User'
2025-04-27 16:49:19.264 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 16:49:20.314 +03:00 [DBG] Successfully validated the token.
2025-04-27 16:49:20.317 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-27 16:49:20.323 +03:00 [DBG] Authorization was successful.
2025-04-27 16:49:20.324 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 16:49:20.329 +03:00 [INF] Route matched with {action = "UpdateCurrency", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateCurrency(Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-04-27 16:49:20.333 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 16:49:20.334 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 16:49:20.336 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 16:49:20.338 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 16:49:20.340 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 16:49:20.341 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 16:49:20.347 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 16:49:20.349 +03:00 [DBG] Attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' ...
2025-04-27 16:49:20.350 +03:00 [DBG] Attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' using the name '' in request data ...
2025-04-27 16:49:20.352 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-27 16:49:20.354 +03:00 [DBG] Connection id "0HNC5I88N74TK", Request id "0HNC5I88N74TK:00000001": started reading request body.
2025-04-27 16:49:20.356 +03:00 [DBG] Connection id "0HNC5I88N74TK", Request id "0HNC5I88N74TK:00000001": done reading request body.
2025-04-27 16:49:20.359 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'
2025-04-27 16:49:20.360 +03:00 [DBG] Done attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 16:49:20.361 +03:00 [DBG] Done attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 16:49:20.362 +03:00 [DBG] Attempting to validate the bound parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' ...
2025-04-27 16:49:20.367 +03:00 [DBG] Done attempting to validate the bound parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 16:49:20.401 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 16:49:20.405 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __userId_0)'
2025-04-27 16:49:20.418 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__userId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__userId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Salt>k__BackingField = dataReader.GetString(5);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-27 16:49:20.424 +03:00 [DBG] Creating DbConnection.
2025-04-27 16:49:20.425 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-27 16:49:20.426 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:20.428 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:20.431 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:49:20.434 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-27 16:49:20.435 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-27 16:49:20.437 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 16:49:20.457 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 16:49:20.460 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:49:20.463 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:20.467 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 6ms reading results.
2025-04-27 16:49:20.469 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:20.471 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 16:49:20.478 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __id_0)'
2025-04-27 16:49:20.489 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Salt>k__BackingField = dataReader.GetString(5);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-27 16:49:20.496 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:20.501 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:20.503 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:49:20.504 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:49:20.506 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-27 16:49:20.508 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__id_0
2025-04-27 16:49:20.527 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__id_0
2025-04-27 16:49:20.533 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:20.535 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-27 16:49:20.538 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:20.540 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 16:49:20.543 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 16:49:20.545 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 16:49:20.550 +03:00 [DBG] The unchanged property 'User.SecondaryCurrency1' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:49:20.552 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:49:20.557 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 16:49:20.576 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:20.577 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:20.579 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:49:20.580 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:49:20.582 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-27 16:49:20.583 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [secondary_currency_1] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-04-27 16:49:20.625 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [secondary_currency_1] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-04-27 16:49:20.627 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:20.628 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-04-27 16:49:20.631 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:20.633 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 16:49:20.634 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:49:20.636 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-27 16:49:20.639 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-27 16:49:20.640 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend) in 298.3482ms
2025-04-27 16:49:20.641 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 16:49:20.643 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 16:49:20.644 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:20.646 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-27 16:49:20.650 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:49464/api/User - 204 null null 1393.4628ms
2025-04-27 16:49:23.771 +03:00 [DBG] Connection id "0HNC5I88N74TK" received FIN.
2025-04-27 16:49:23.776 +03:00 [DBG] Connection id "0HNC5I88N74TK" is closed. The last processed stream ID was 1.
2025-04-27 16:49:23.776 +03:00 [DBG] The connection queue processing loop for 0HNC5I88N74TK completed.
2025-04-27 16:49:23.780 +03:00 [DBG] Connection id "0HNC5I88N74TK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 16:49:23.790 +03:00 [DBG] Connection id "0HNC5I88N74TK" stopped.
2025-04-27 16:49:29.576 +03:00 [DBG] Connection id "0HNC5I88N74TL" accepted.
2025-04-27 16:49:29.584 +03:00 [DBG] Connection id "0HNC5I88N74TL" started.
2025-04-27 16:49:29.592 +03:00 [DBG] Connection 0HNC5I88N74TL established using the following protocol: "Tls12"
2025-04-27 16:49:29.596 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:49464/api/User - application/json 75
2025-04-27 16:49:29.602 +03:00 [DBG] PUT requests are not supported
2025-04-27 16:49:29.603 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User'
2025-04-27 16:49:29.604 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)' with route pattern 'api/User' is valid for the request path '/api/User'
2025-04-27 16:49:29.610 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 16:49:29.614 +03:00 [DBG] Successfully validated the token.
2025-04-27 16:49:29.615 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-27 16:49:29.618 +03:00 [DBG] Authorization was successful.
2025-04-27 16:49:29.619 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 16:49:29.623 +03:00 [INF] Route matched with {action = "UpdateCurrency", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateCurrency(Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-04-27 16:49:29.625 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 16:49:29.627 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 16:49:29.628 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 16:49:29.631 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 16:49:29.633 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 16:49:29.634 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 16:49:29.637 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 16:49:29.640 +03:00 [DBG] Attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' ...
2025-04-27 16:49:29.642 +03:00 [DBG] Attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' using the name '' in request data ...
2025-04-27 16:49:29.643 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-27 16:49:29.645 +03:00 [DBG] Connection id "0HNC5I88N74TL", Request id "0HNC5I88N74TL:00000001": started reading request body.
2025-04-27 16:49:29.646 +03:00 [DBG] Connection id "0HNC5I88N74TL", Request id "0HNC5I88N74TL:00000001": done reading request body.
2025-04-27 16:49:29.647 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'
2025-04-27 16:49:29.648 +03:00 [DBG] Done attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 16:49:29.650 +03:00 [DBG] Done attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 16:49:29.652 +03:00 [DBG] Attempting to validate the bound parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' ...
2025-04-27 16:49:29.653 +03:00 [DBG] Done attempting to validate the bound parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 16:49:29.657 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 16:49:29.660 +03:00 [DBG] Creating DbConnection.
2025-04-27 16:49:29.661 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-27 16:49:29.662 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:29.663 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:29.665 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:49:29.666 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:49:29.667 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 16:49:29.668 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 16:49:29.674 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 16:49:29.676 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:49:29.677 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:29.678 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-27 16:49:29.680 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:29.682 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 16:49:29.684 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:29.685 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:29.687 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:49:29.689 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-27 16:49:29.691 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-27 16:49:29.692 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__id_0
2025-04-27 16:49:29.696 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__id_0
2025-04-27 16:49:29.698 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:29.699 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-04-27 16:49:29.701 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:29.702 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 16:49:29.705 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 16:49:29.706 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 16:49:29.708 +03:00 [DBG] The unchanged property 'User.SecondaryCurrency2' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 16:49:29.709 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:49:29.711 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 16:49:29.713 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:29.714 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:29.716 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:49:29.717 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:49:29.719 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 16:49:29.721 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [secondary_currency_2] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-04-27 16:49:29.726 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [secondary_currency_2] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-04-27 16:49:29.729 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:29.731 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-04-27 16:49:29.732 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:29.734 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 16:49:29.735 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:49:29.737 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-27 16:49:29.740 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-27 16:49:29.741 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend) in 106.7733ms
2025-04-27 16:49:29.742 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 16:49:29.744 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 16:49:29.745 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:29.748 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-27 16:49:29.752 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:49464/api/User - 204 null null 155.4358ms
2025-04-27 16:49:33.783 +03:00 [DBG] Connection id "0HNC5I88N74TL" received FIN.
2025-04-27 16:49:33.786 +03:00 [DBG] Connection id "0HNC5I88N74TL" is closed. The last processed stream ID was 1.
2025-04-27 16:49:33.786 +03:00 [DBG] The connection queue processing loop for 0HNC5I88N74TL completed.
2025-04-27 16:49:33.789 +03:00 [DBG] Connection id "0HNC5I88N74TL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 16:49:33.798 +03:00 [DBG] Connection id "0HNC5I88N74TL" stopped.
2025-04-27 16:49:56.869 +03:00 [DBG] Connection id "0HNC5I88N74TM" accepted.
2025-04-27 16:49:56.873 +03:00 [DBG] Connection id "0HNC5I88N74TM" started.
2025-04-27 16:49:56.888 +03:00 [DBG] Connection 0HNC5I88N74TM established using the following protocol: "Tls12"
2025-04-27 16:49:56.891 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:49464/api/User - application/json 76
2025-04-27 16:49:56.905 +03:00 [DBG] PUT requests are not supported
2025-04-27 16:49:56.907 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User'
2025-04-27 16:49:56.912 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)' with route pattern 'api/User' is valid for the request path '/api/User'
2025-04-27 16:49:56.915 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 16:49:56.917 +03:00 [DBG] Successfully validated the token.
2025-04-27 16:49:56.919 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-27 16:49:56.922 +03:00 [DBG] Authorization was successful.
2025-04-27 16:49:56.923 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 16:49:56.925 +03:00 [INF] Route matched with {action = "UpdateCurrency", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateCurrency(Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-04-27 16:49:56.931 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 16:49:56.933 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 16:49:56.935 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 16:49:56.939 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 16:49:56.942 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 16:49:56.950 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 16:49:56.954 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 16:49:56.963 +03:00 [DBG] Attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' ...
2025-04-27 16:49:56.969 +03:00 [DBG] Attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' using the name '' in request data ...
2025-04-27 16:49:56.974 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-27 16:49:56.979 +03:00 [DBG] Connection id "0HNC5I88N74TM", Request id "0HNC5I88N74TM:00000001": started reading request body.
2025-04-27 16:49:56.986 +03:00 [DBG] Connection id "0HNC5I88N74TM", Request id "0HNC5I88N74TM:00000001": done reading request body.
2025-04-27 16:49:56.989 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'
2025-04-27 16:49:56.991 +03:00 [DBG] Done attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 16:49:56.996 +03:00 [DBG] Done attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 16:49:57.001 +03:00 [DBG] Attempting to validate the bound parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' ...
2025-04-27 16:49:57.004 +03:00 [DBG] Done attempting to validate the bound parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 16:49:57.009 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 16:49:57.023 +03:00 [DBG] Creating DbConnection.
2025-04-27 16:49:57.025 +03:00 [DBG] Created DbConnection. (2ms).
2025-04-27 16:49:57.035 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:57.037 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:57.039 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:49:57.041 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-27 16:49:57.044 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-27 16:49:57.051 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 16:49:57.062 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 16:49:57.073 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:49:57.082 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:57.086 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 13ms reading results.
2025-04-27 16:49:57.089 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:57.095 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (6ms).
2025-04-27 16:49:57.105 +03:00 [DBG] Request was short circuited at action filter 'Finance_Manager_Backend.Middleware.ValidationFilter'.
2025-04-27 16:49:57.106 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-27 16:49:57.110 +03:00 [DBG] No information found on request to perform content negotiation.
2025-04-27 16:49:57.112 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-27 16:49:57.113 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-27 16:49:57.115 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-27 16:49:57.116 +03:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType5`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-27 16:49:57.122 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend) in 172.2064ms
2025-04-27 16:49:57.124 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 16:49:57.125 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 16:49:57.128 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:49:57.130 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-27 16:49:57.132 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:49464/api/User - 400 null application/json; charset=utf-8 240.9374ms
2025-04-27 16:49:58.808 +03:00 [DBG] Connection id "0HNC5I88N74TM" received FIN.
2025-04-27 16:49:58.810 +03:00 [DBG] Connection id "0HNC5I88N74TM" is closed. The last processed stream ID was 1.
2025-04-27 16:49:58.810 +03:00 [DBG] The connection queue processing loop for 0HNC5I88N74TM completed.
2025-04-27 16:49:58.816 +03:00 [DBG] Connection id "0HNC5I88N74TM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 16:49:58.824 +03:00 [DBG] Connection id "0HNC5I88N74TM" stopped.
2025-04-27 16:50:15.455 +03:00 [DBG] Connection id "0HNC5I88N74TN" accepted.
2025-04-27 16:50:15.462 +03:00 [DBG] Connection id "0HNC5I88N74TN" started.
2025-04-27 16:50:15.469 +03:00 [DBG] Connection 0HNC5I88N74TN established using the following protocol: "Tls12"
2025-04-27 16:50:15.471 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/User/60 - null null
2025-04-27 16:50:15.474 +03:00 [DBG] The request path  does not match the path filter
2025-04-27 16:50:15.477 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/60'
2025-04-27 16:50:15.478 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/60'
2025-04-27 16:50:15.480 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 16:50:15.481 +03:00 [DBG] Successfully validated the token.
2025-04-27 16:50:15.482 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-27 16:50:15.483 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 16:50:15.489 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-04-27 16:50:15.490 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 16:50:15.493 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 16:50:15.494 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 16:50:15.497 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 16:50:15.498 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 16:50:15.500 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 16:50:15.501 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 16:50:15.503 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-27 16:50:15.504 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-27 16:50:15.506 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-27 16:50:15.508 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-27 16:50:15.510 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-27 16:50:15.512 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-27 16:50:15.516 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 16:50:15.521 +03:00 [DBG] Creating DbConnection.
2025-04-27 16:50:15.522 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-27 16:50:15.523 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:50:15.524 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:50:15.527 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 16:50:15.528 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 16:50:15.529 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 16:50:15.531 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 16:50:15.535 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 16:50:15.537 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 16:50:15.539 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:50:15.540 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-27 16:50:15.543 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:50:15.544 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 16:50:15.549 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/fc359277c02189baaea0133c/pair/USD/EUR
2025-04-27 16:50:15.553 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/fc359277c02189baaea0133c/pair/USD/EUR
2025-04-27 16:50:15.966 +03:00 [INF] Received HTTP response headers after 410.3605ms - 200
2025-04-27 16:50:15.968 +03:00 [INF] End processing HTTP request after 419.9469ms - 200
2025-04-27 16:50:15.975 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/fc359277c02189baaea0133c/pair/USD/UAH
2025-04-27 16:50:15.977 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/fc359277c02189baaea0133c/pair/USD/UAH
2025-04-27 16:50:16.056 +03:00 [INF] Received HTTP response headers after 77.6283ms - 200
2025-04-27 16:50:16.060 +03:00 [INF] End processing HTTP request after 85.0464ms - 200
2025-04-27 16:50:16.065 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-27 16:50:16.070 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-27 16:50:16.072 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-27 16:50:16.074 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-27 16:50:16.078 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-27 16:50:16.082 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-27 16:50:16.084 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-04-27 16:50:16.086 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 586.0279ms
2025-04-27 16:50:16.090 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 16:50:16.093 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 16:50:16.100 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 16:50:16.104 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-04-27 16:50:16.114 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/User/60 - 200 null application/json; charset=utf-8 642.5083ms
2025-04-27 16:50:18.836 +03:00 [DBG] Connection id "0HNC5I88N74TN" received FIN.
2025-04-27 16:50:18.846 +03:00 [DBG] Connection id "0HNC5I88N74TN" is closed. The last processed stream ID was 1.
2025-04-27 16:50:18.846 +03:00 [DBG] The connection queue processing loop for 0HNC5I88N74TN completed.
2025-04-27 16:50:18.849 +03:00 [DBG] Connection id "0HNC5I88N74TN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 16:50:18.858 +03:00 [DBG] Connection id "0HNC5I88N74TN" stopped.
2025-04-27 16:51:20.357 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'CurrencyConverterService'
2025-04-27 16:51:30.364 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 16:51:30.370 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.9341ms - processed: 1 items - remaining: 0 items
2025-04-27 17:45:48.011 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-27 17:45:48.756 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 17:45:48.863 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()'
2025-04-27 17:45:49.148 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
        FROM users AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
        FROM users AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                instance.<Email>k__BackingField = dataReader.GetString(2);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                instance.<Salt>k__BackingField = dataReader.GetString(5);
                                instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-27 17:45:49.171 +03:00 [DBG] Creating DbConnection.
2025-04-27 17:45:49.187 +03:00 [DBG] Created DbConnection. (15ms).
2025-04-27 17:45:49.193 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:49.477 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:49.482 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:45:49.490 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-04-27 17:45:49.493 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-04-27 17:45:49.500 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
2025-04-27 17:45:49.542 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
2025-04-27 17:45:49.575 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:49.611 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:49.622 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:49.631 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 81ms reading results.
2025-04-27 17:45:49.634 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:49.641 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (6ms).
2025-04-27 17:45:49.647 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:45:49.651 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:45:49.669 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:45:49.726 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:49.730 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:49.736 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:45:49.737 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:45:49.741 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-27 17:45:49.747 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-27 17:45:49.913 +03:00 [INF] Executed DbCommand (169ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-27 17:45:49.931 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:49.937 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 18ms reading results.
2025-04-27 17:45:49.947 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:49.951 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (4ms).
2025-04-27 17:45:49.970 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:49.976 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-27 17:45:49.980 +03:00 [DBG] Compiling query expression: 
'DbSet<Category>()'
2025-04-27 17:45:49.988 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Category>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Category entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Category instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Category);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Category)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                        {
                            return 
                            {
                                Category instance;
                                instance = new Category();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                                instance.<Icon>k__BackingField = dataReader.GetString(2);
                                instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                                instance.<Name>k__BackingField = dataReader.GetString(4);
                                instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Category)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-27 17:45:49.993 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:49.995 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:49.997 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:45:49.998 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:45:50.000 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-27 17:45:50.002 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-27 17:45:50.007 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-27 17:45:50.021 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:50.032 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:50.036 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:50.038 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:50.040 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:50.043 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:50.045 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:50.047 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:50.052 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:50.057 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:50.061 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:50.065 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 54ms reading results.
2025-04-27 17:45:50.070 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:50.073 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (3ms).
2025-04-27 17:45:50.077 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:45:50.080 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:45:50.094 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:45:50.104 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-27 17:45:50.110 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:50.129 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:50.134 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-04-27 17:45:50.142 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-27 17:45:50.145 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:45:50.147 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:45:50.153 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-04-27 17:45:50.156 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-27 17:45:50.201 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-27 17:45:50.209 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:50.211 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-04-27 17:45:50.215 +03:00 [DBG] Committing transaction.
2025-04-27 17:45:50.220 +03:00 [DBG] Committed transaction.
2025-04-27 17:45:50.222 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:50.224 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 17:45:50.230 +03:00 [DBG] Disposing transaction.
2025-04-27 17:45:50.232 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:50.235 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:50.239 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:50.242 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:50.245 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:50.248 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-27 17:45:50.252 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 17:45:50.255 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:50.258 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-27 17:45:50.442 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 17:45:50.462 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Email == __email_0)'
2025-04-27 17:45:50.532 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.email == @__email_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.email == @__email_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Salt>k__BackingField = dataReader.GetString(5);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-27 17:45:50.546 +03:00 [DBG] Creating DbConnection.
2025-04-27 17:45:50.548 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-27 17:45:50.549 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:50.551 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:50.554 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:45:50.556 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-27 17:45:50.559 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-27 17:45:50.564 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 17:45:50.575 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 17:45:50.588 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:50.597 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 11ms reading results.
2025-04-27 17:45:50.602 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:50.607 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (4ms).
2025-04-27 17:45:50.698 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:50.708 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:50.714 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:45:50.718 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:45:50.724 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:45:50.734 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:50.737 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:50.739 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:45:50.741 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:45:50.744 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-27 17:45:50.746 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30), @p4='?' (Size = 3), @p5='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt], [secondary_currency_1], [secondary_currency_2])
OUTPUT INSERTED.[id], INSERTED.[primary_currency]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-27 17:45:50.753 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30), @p4='?' (Size = 3), @p5='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt], [secondary_currency_1], [secondary_currency_2])
OUTPUT INSERTED.[id], INSERTED.[primary_currency]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-27 17:45:50.763 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:50.769 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:50.771 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 15ms reading results.
2025-04-27 17:45:50.773 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:50.775 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 17:45:50.780 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:50.784 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-27 17:45:50.935 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __userDTO_Id_0)'
2025-04-27 17:45:50.945 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Salt>k__BackingField = dataReader.GetString(5);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-27 17:45:50.951 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:50.955 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:50.958 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:45:50.960 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-27 17:45:50.965 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-04-27 17:45:50.968 +03:00 [DBG] Executing DbCommand [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-27 17:45:50.976 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-27 17:45:50.980 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:50.982 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-27 17:45:50.985 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:50.988 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 17:45:50.994 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:50.998 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.000 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.003 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.006 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.009 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.011 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.014 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.016 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.019 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.021 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:45:51.023 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:45:51.027 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:45:51.031 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-27 17:45:51.035 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:51.037 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:51.039 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:45:51.041 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:45:51.044 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-27 17:45:51.046 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 17:45:51.055 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 17:45:51.059 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.063 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.065 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.067 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.072 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.076 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:51.080 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 21ms reading results.
2025-04-27 17:45:51.087 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:51.093 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (6ms).
2025-04-27 17:45:51.102 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.107 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.114 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.120 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.127 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.134 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-27 17:45:51.142 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.173 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.180 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.185 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.189 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.195 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.199 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.205 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.209 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.215 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.220 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.228 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.233 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.239 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.241 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.246 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.248 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.251 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.252 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.256 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.257 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.262 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.264 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.267 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.270 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.273 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.276 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.278 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.281 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.283 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.285 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.287 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.289 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.294 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.296 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.299 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.301 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.303 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.304 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.306 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.308 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:45:51.309 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:45:51.315 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:45:51.318 +03:00 [DBG] Executing 20 update commands as a batch.
2025-04-27 17:45:51.319 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:51.321 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:51.323 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:45:51.324 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:45:51.326 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 17:45:51.327 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 17:45:51.354 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 17:45:51.369 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.374 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.376 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.378 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.380 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.382 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.385 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.388 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.390 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.393 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.395 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.397 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.400 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.403 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.405 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.407 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.409 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.412 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.414 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.417 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.419 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:51.421 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 54ms reading results.
2025-04-27 17:45:51.424 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:51.426 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 17:45:51.430 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.434 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.437 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.440 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.444 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.448 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.451 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.455 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.458 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.460 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.466 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.470 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.473 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.476 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.479 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.483 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.486 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.489 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.492 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.495 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.499 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 20 entities written to the database.
2025-04-27 17:45:51.503 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.518 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.521 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.524 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.530 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.532 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.534 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.536 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.538 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:45:51.539 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:45:51.545 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:45:51.548 +03:00 [DBG] Executing 4 update commands as a batch.
2025-04-27 17:45:51.550 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:51.551 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:51.553 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:45:51.555 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:45:51.557 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-27 17:45:51.559 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-27 17:45:51.571 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-27 17:45:51.576 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.578 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.580 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.582 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:45:51.584 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:51.586 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 11ms reading results.
2025-04-27 17:45:51.588 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:51.591 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (3ms).
2025-04-27 17:45:51.599 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.607 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.616 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.628 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:45:51.633 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 4 entities written to the database.
2025-04-27 17:45:51.638 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 17:45:51.642 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:45:51.651 +03:00 [DBG] Disposed connection to database '' on server '' (8ms).
2025-04-27 17:45:51.787 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-27 17:45:51.846 +03:00 [DBG] Hosting starting
2025-04-27 17:45:51.871 +03:00 [INF] User profile is available. Using 'C:\Users\ebtyx\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-27 17:45:51.903 +03:00 [DBG] Reading data from file 'C:\Users\ebtyx\AppData\Local\ASP.NET\DataProtection-Keys\key-036e1e5f-5347-47d7-8236-0b64ed0a76a1.xml'.
2025-04-27 17:45:51.914 +03:00 [DBG] Found key {036e1e5f-5347-47d7-8236-0b64ed0a76a1}.
2025-04-27 17:45:51.926 +03:00 [DBG] Considering key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} with expiration date 2025-07-16 20:11:06Z as default key.
2025-04-27 17:45:51.936 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-27 17:45:51.941 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-27 17:45:51.946 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-27 17:45:51.954 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-27 17:45:51.961 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-27 17:45:51.966 +03:00 [DBG] Using key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} as the default key.
2025-04-27 17:45:51.979 +03:00 [DBG] Key ring with default key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} was loaded during application startup.
2025-04-27 17:45:51.988 +03:00 [DBG] Middleware loaded
2025-04-27 17:45:51.993 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16531 B).
2025-04-27 17:45:51.997 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-27 17:45:52.142 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-27 17:45:52.276 +03:00 [INF] Now listening on: https://localhost:49464
2025-04-27 17:45:52.279 +03:00 [INF] Now listening on: http://localhost:49465
2025-04-27 17:45:52.281 +03:00 [DBG] Loaded hosting startup assembly Finance_Manager_Backend
2025-04-27 17:45:52.282 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-04-27 17:45:52.284 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-27 17:45:52.286 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-04-27 17:45:52.429 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-27 17:45:52.442 +03:00 [INF] Hosting environment: Development
2025-04-27 17:45:52.446 +03:00 [INF] Content root path: G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend
2025-04-27 17:45:52.449 +03:00 [DBG] Hosting started
2025-04-27 17:45:52.632 +03:00 [DBG] Connection id "0HNC5J8QOOF9A" accepted.
2025-04-27 17:45:52.636 +03:00 [DBG] Connection id "0HNC5J8QOOF9A" started.
2025-04-27 17:45:52.641 +03:00 [DBG] Connection id "0HNC5J8QOOF9A" received FIN.
2025-04-27 17:45:52.667 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-04-27 17:45:52.691 +03:00 [DBG] Connection id "0HNC5J8QOOF9A" stopped.
2025-04-27 17:45:52.697 +03:00 [DBG] Connection id "0HNC5J8QOOF9A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:45:52.878 +03:00 [DBG] Connection id "0HNC5J8QOOF9B" accepted.
2025-04-27 17:45:52.881 +03:00 [DBG] Connection id "0HNC5J8QOOF9B" started.
2025-04-27 17:45:52.972 +03:00 [DBG] Connection 0HNC5J8QOOF9B established using the following protocol: "Tls12"
2025-04-27 17:45:53.020 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/swagger/index.html - null null
2025-04-27 17:45:53.129 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-27 17:45:53.194 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-04-27 17:45:53.196 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-04-27 17:45:53.203 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-04-27 17:45:53.207 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-04-27 17:45:53.211 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/swagger/index.html - 200 null text/html;charset=utf-8 192.1784ms
2025-04-27 17:45:53.779 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/_framework/aspnetcore-browser-refresh.js - null null
2025-04-27 17:45:53.859 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-27 17:45:53.875 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 96.1467ms
2025-04-27 17:45:53.928 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/_vs/browserLink - null null
2025-04-27 17:45:53.998 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/_vs/browserLink - 200 null text/javascript; charset=UTF-8 69.5184ms
2025-04-27 17:45:54.677 +03:00 [DBG] Connection id "0HNC5J8QOOF9B" received FIN.
2025-04-27 17:45:54.688 +03:00 [DBG] Connection id "0HNC5J8QOOF9B" is closed. The last processed stream ID was 5.
2025-04-27 17:45:54.691 +03:00 [DBG] The connection queue processing loop for 0HNC5J8QOOF9B completed.
2025-04-27 17:45:54.695 +03:00 [DBG] Connection id "0HNC5J8QOOF9B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:45:54.708 +03:00 [DBG] Connection id "0HNC5J8QOOF9B" stopped.
2025-04-27 17:46:50.289 +03:00 [DBG] Connection id "0HNC5J8QOOF9C" accepted.
2025-04-27 17:46:50.407 +03:00 [DBG] Connection id "0HNC5J8QOOF9C" started.
2025-04-27 17:46:50.433 +03:00 [DBG] Connection 0HNC5J8QOOF9C established using the following protocol: "Tls12"
2025-04-27 17:46:51.155 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/_framework/aspnetcore-browser-refresh.js - null null
2025-04-27 17:46:51.247 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-27 17:46:51.250 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 95.2582ms
2025-04-27 17:46:51.708 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/swagger/v1/swagger.json - null null
2025-04-27 17:46:51.848 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 140.2312ms
2025-04-27 17:46:59.690 +03:00 [DBG] Connection id "0HNC5J8QOOF9C" received FIN.
2025-04-27 17:46:59.693 +03:00 [DBG] Connection id "0HNC5J8QOOF9C" is closed. The last processed stream ID was 3.
2025-04-27 17:46:59.693 +03:00 [DBG] The connection queue processing loop for 0HNC5J8QOOF9C completed.
2025-04-27 17:46:59.695 +03:00 [DBG] Connection id "0HNC5J8QOOF9C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:46:59.704 +03:00 [DBG] Connection id "0HNC5J8QOOF9C" stopped.
2025-04-27 17:48:25.517 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-27 17:48:26.629 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 17:48:26.744 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()'
2025-04-27 17:48:28.355 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
        FROM users AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
        FROM users AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                instance.<Email>k__BackingField = dataReader.GetString(2);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                instance.<Salt>k__BackingField = dataReader.GetString(5);
                                instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-27 17:48:28.455 +03:00 [DBG] Creating DbConnection.
2025-04-27 17:48:28.628 +03:00 [DBG] Created DbConnection. (200ms).
2025-04-27 17:48:28.633 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:30.057 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:30.064 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:48:30.078 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (13ms).
2025-04-27 17:48:30.083 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2025-04-27 17:48:30.120 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
2025-04-27 17:48:30.165 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
2025-04-27 17:48:30.331 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:30.374 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:30.419 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:30.427 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 252ms reading results.
2025-04-27 17:48:30.433 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:30.442 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (9ms).
2025-04-27 17:48:30.449 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:48:30.454 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:48:30.477 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:48:30.745 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:30.753 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:30.762 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:48:30.765 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-04-27 17:48:30.773 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-04-27 17:48:30.783 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-27 17:48:30.854 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-27 17:48:30.891 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:30.894 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 36ms reading results.
2025-04-27 17:48:30.898 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:30.901 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 17:48:30.907 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:30.911 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-27 17:48:30.915 +03:00 [DBG] Compiling query expression: 
'DbSet<Category>()'
2025-04-27 17:48:30.922 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Category>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Category entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Category instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Category);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Category)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                        {
                            return 
                            {
                                Category instance;
                                instance = new Category();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                                instance.<Icon>k__BackingField = dataReader.GetString(2);
                                instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                                instance.<Name>k__BackingField = dataReader.GetString(4);
                                instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Category)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-27 17:48:30.926 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:30.929 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:30.931 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:48:30.937 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-04-27 17:48:30.942 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-04-27 17:48:30.946 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-27 17:48:30.955 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-27 17:48:30.992 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:31.009 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:31.015 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:31.018 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:31.024 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:31.027 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:31.034 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:31.037 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:31.041 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:31.047 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:31.051 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:31.055 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 94ms reading results.
2025-04-27 17:48:31.060 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:31.063 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (3ms).
2025-04-27 17:48:31.068 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:48:31.070 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:48:31.082 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:48:31.103 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-27 17:48:31.106 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:31.110 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:31.114 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-04-27 17:48:31.122 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-27 17:48:31.126 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:48:31.129 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-27 17:48:31.135 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-04-27 17:48:31.138 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-27 17:48:31.162 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-27 17:48:31.167 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:31.169 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-27 17:48:31.202 +03:00 [DBG] Committing transaction.
2025-04-27 17:48:31.208 +03:00 [DBG] Committed transaction.
2025-04-27 17:48:31.212 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:31.215 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 17:48:31.222 +03:00 [DBG] Disposing transaction.
2025-04-27 17:48:31.225 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:31.228 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:31.234 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:31.244 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:31.250 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:31.260 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-27 17:48:31.270 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 17:48:31.275 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:31.279 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-04-27 17:48:31.498 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 17:48:31.519 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Email == __email_0)'
2025-04-27 17:48:31.612 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.email == @__email_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.email == @__email_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Salt>k__BackingField = dataReader.GetString(5);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-27 17:48:31.627 +03:00 [DBG] Creating DbConnection.
2025-04-27 17:48:31.629 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-27 17:48:31.631 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:31.635 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:31.639 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:48:31.640 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:48:31.643 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-27 17:48:31.647 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 17:48:31.653 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 17:48:31.659 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:31.662 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-04-27 17:48:31.664 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:31.667 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 17:48:31.730 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:31.740 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:31.745 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:48:31.748 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:48:31.753 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:48:31.784 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:31.789 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:31.793 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:48:31.796 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-27 17:48:31.799 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-27 17:48:31.803 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30), @p4='?' (Size = 3), @p5='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt], [secondary_currency_1], [secondary_currency_2])
OUTPUT INSERTED.[id], INSERTED.[primary_currency]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-27 17:48:31.815 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30), @p4='?' (Size = 3), @p5='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt], [secondary_currency_1], [secondary_currency_2])
OUTPUT INSERTED.[id], INSERTED.[primary_currency]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-27 17:48:31.833 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:31.841 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:31.844 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 23ms reading results.
2025-04-27 17:48:31.848 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:31.852 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (4ms).
2025-04-27 17:48:31.862 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:31.866 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-27 17:48:32.151 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __userDTO_Id_0)'
2025-04-27 17:48:32.158 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Salt>k__BackingField = dataReader.GetString(5);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-27 17:48:32.163 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:32.165 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:32.167 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:48:32.168 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:48:32.169 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 17:48:32.171 +03:00 [DBG] Executing DbCommand [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-27 17:48:32.177 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-27 17:48:32.180 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:32.182 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-27 17:48:32.185 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:32.187 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 17:48:32.194 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.197 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.199 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.202 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.204 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.207 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.210 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.213 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.215 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.217 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.220 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:48:32.221 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:48:32.227 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:48:32.235 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-27 17:48:32.243 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:32.246 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:32.253 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:48:32.257 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-04-27 17:48:32.261 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-04-27 17:48:32.266 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 17:48:32.281 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 17:48:32.307 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.318 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.322 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.327 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.333 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.338 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:32.342 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 35ms reading results.
2025-04-27 17:48:32.346 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:32.356 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (9ms).
2025-04-27 17:48:32.360 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.366 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.371 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.376 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.380 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.387 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-27 17:48:32.393 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.435 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.438 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.440 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.442 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.445 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.447 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.450 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.452 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.455 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.457 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.459 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.461 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.464 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.467 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.469 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.471 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.473 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.475 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.477 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.479 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.482 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.486 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.489 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.494 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.498 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.503 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.506 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.512 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.515 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.518 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.520 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.523 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.525 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.528 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.531 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.533 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.536 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.538 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.541 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.545 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:48:32.547 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:48:32.555 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:48:32.559 +03:00 [DBG] Executing 20 update commands as a batch.
2025-04-27 17:48:32.563 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:32.567 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:32.569 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:48:32.571 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:48:32.574 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-27 17:48:32.577 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 17:48:32.603 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 17:48:32.610 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.614 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.616 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.619 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.621 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.624 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.626 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.628 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.631 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.634 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.638 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.641 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.643 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.645 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.646 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.648 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.649 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.651 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.653 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.655 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.657 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:32.658 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 49ms reading results.
2025-04-27 17:48:32.660 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:32.662 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 17:48:32.664 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.666 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.668 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.670 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.672 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.674 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.676 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.678 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.680 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.682 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.685 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.687 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.689 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.691 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.693 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.695 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.697 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.699 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.701 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.704 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.706 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 20 entities written to the database.
2025-04-27 17:48:32.709 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.723 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.725 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.727 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.728 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.732 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.735 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.738 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.740 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:48:32.743 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:48:32.750 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:48:32.753 +03:00 [DBG] Executing 4 update commands as a batch.
2025-04-27 17:48:32.755 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:32.758 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:32.760 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:48:32.762 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:48:32.765 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-27 17:48:32.767 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-27 17:48:32.804 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-27 17:48:32.809 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.814 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.816 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.819 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:48:32.821 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:32.825 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 16ms reading results.
2025-04-27 17:48:32.828 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:32.830 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 17:48:32.836 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.841 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.844 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.847 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:48:32.852 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 4 entities written to the database.
2025-04-27 17:48:32.860 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 17:48:32.863 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:48:32.865 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-27 17:48:32.992 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-27 17:48:33.084 +03:00 [DBG] Hosting starting
2025-04-27 17:48:33.109 +03:00 [INF] User profile is available. Using 'C:\Users\ebtyx\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-27 17:48:33.131 +03:00 [DBG] Reading data from file 'C:\Users\ebtyx\AppData\Local\ASP.NET\DataProtection-Keys\key-036e1e5f-5347-47d7-8236-0b64ed0a76a1.xml'.
2025-04-27 17:48:33.146 +03:00 [DBG] Found key {036e1e5f-5347-47d7-8236-0b64ed0a76a1}.
2025-04-27 17:48:33.155 +03:00 [DBG] Considering key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} with expiration date 2025-07-16 20:11:06Z as default key.
2025-04-27 17:48:33.159 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-27 17:48:33.162 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-27 17:48:33.164 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-27 17:48:33.167 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-27 17:48:33.169 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-27 17:48:33.171 +03:00 [DBG] Using key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} as the default key.
2025-04-27 17:48:33.173 +03:00 [DBG] Key ring with default key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} was loaded during application startup.
2025-04-27 17:48:33.202 +03:00 [DBG] Middleware loaded
2025-04-27 17:48:33.205 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16531 B).
2025-04-27 17:48:33.207 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-27 17:48:33.348 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-27 17:48:33.459 +03:00 [INF] Now listening on: https://localhost:49464
2025-04-27 17:48:33.460 +03:00 [INF] Now listening on: http://localhost:49465
2025-04-27 17:48:33.461 +03:00 [DBG] Loaded hosting startup assembly Finance_Manager_Backend
2025-04-27 17:48:33.462 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-04-27 17:48:33.463 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-27 17:48:33.464 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-04-27 17:48:33.587 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-27 17:48:33.590 +03:00 [INF] Hosting environment: Development
2025-04-27 17:48:33.593 +03:00 [INF] Content root path: G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend
2025-04-27 17:48:33.603 +03:00 [DBG] Hosting started
2025-04-27 17:48:33.796 +03:00 [DBG] Connection id "0HNC5JAAPNP9H" received FIN.
2025-04-27 17:48:33.802 +03:00 [DBG] Connection id "0HNC5JAAPNP9H" accepted.
2025-04-27 17:48:33.804 +03:00 [DBG] Connection id "0HNC5JAAPNP9H" started.
2025-04-27 17:48:33.956 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-04-27 17:48:33.993 +03:00 [DBG] Connection id "0HNC5JAAPNP9H" stopped.
2025-04-27 17:48:34.003 +03:00 [DBG] Connection id "0HNC5JAAPNP9H" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:48:34.658 +03:00 [DBG] Connection id "0HNC5JAAPNP9I" accepted.
2025-04-27 17:48:34.703 +03:00 [DBG] Connection id "0HNC5JAAPNP9I" started.
2025-04-27 17:48:34.812 +03:00 [DBG] Connection 0HNC5JAAPNP9I established using the following protocol: "Tls12"
2025-04-27 17:48:34.847 +03:00 [DBG] Connection id "0HNC5JAAPNP9I" received FIN.
2025-04-27 17:48:34.913 +03:00 [DBG] Connection id "0HNC5JAAPNP9I" is closed. The last processed stream ID was 0.
2025-04-27 17:48:34.921 +03:00 [DBG] The connection queue processing loop for 0HNC5JAAPNP9I completed.
2025-04-27 17:48:34.924 +03:00 [DBG] Connection id "0HNC5JAAPNP9I" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:48:34.947 +03:00 [DBG] Connection id "0HNC5JAAPNP9I" stopped.
2025-04-27 17:48:36.927 +03:00 [DBG] Connection id "0HNC5JAAPNP9J" accepted.
2025-04-27 17:48:36.949 +03:00 [DBG] Connection id "0HNC5JAAPNP9J" started.
2025-04-27 17:48:36.965 +03:00 [DBG] Connection 0HNC5JAAPNP9J established using the following protocol: "Tls12"
2025-04-27 17:48:37.065 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/_vs/browserLink - null null
2025-04-27 17:48:37.065 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/_framework/aspnetcore-browser-refresh.js - null null
2025-04-27 17:48:37.099 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-27 17:48:37.107 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 41.2759ms
2025-04-27 17:48:37.252 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/_vs/browserLink - 200 null text/javascript; charset=UTF-8 189.4289ms
2025-04-27 17:48:39.847 +03:00 [DBG] Connection id "0HNC5JAAPNP9J" received FIN.
2025-04-27 17:48:39.893 +03:00 [DBG] Connection id "0HNC5JAAPNP9J" is closed. The last processed stream ID was 3.
2025-04-27 17:48:39.893 +03:00 [DBG] The connection queue processing loop for 0HNC5JAAPNP9J completed.
2025-04-27 17:48:39.900 +03:00 [DBG] Connection id "0HNC5JAAPNP9J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:48:39.919 +03:00 [DBG] Connection id "0HNC5JAAPNP9J" stopped.
2025-04-27 17:48:40.277 +03:00 [DBG] Connection id "0HNC5JAAPNP9K" accepted.
2025-04-27 17:48:40.278 +03:00 [DBG] Connection id "0HNC5JAAPNP9K" started.
2025-04-27 17:48:40.286 +03:00 [DBG] Connection 0HNC5JAAPNP9K established using the following protocol: "Tls12"
2025-04-27 17:48:40.302 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/swagger/v1/swagger.json - null null
2025-04-27 17:48:40.320 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-27 17:48:40.398 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 95.3308ms
2025-04-27 17:48:44.843 +03:00 [DBG] Connection id "0HNC5JAAPNP9K" received FIN.
2025-04-27 17:48:44.850 +03:00 [DBG] The connection queue processing loop for 0HNC5JAAPNP9K completed.
2025-04-27 17:48:44.849 +03:00 [DBG] Connection id "0HNC5JAAPNP9K" is closed. The last processed stream ID was 1.
2025-04-27 17:48:44.853 +03:00 [DBG] Connection id "0HNC5JAAPNP9K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:48:44.859 +03:00 [DBG] Connection id "0HNC5JAAPNP9K" stopped.
2025-04-27 17:49:05.514 +03:00 [DBG] Connection id "0HNC5JAAPNP9L" accepted.
2025-04-27 17:49:05.522 +03:00 [DBG] Connection id "0HNC5JAAPNP9L" started.
2025-04-27 17:49:05.538 +03:00 [DBG] Connection 0HNC5JAAPNP9L established using the following protocol: "Tls12"
2025-04-27 17:49:05.545 +03:00 [INF] Request starting HTTP/2 POST https://localhost:49464/api/Auth/authenticate - application/json 62
2025-04-27 17:49:05.553 +03:00 [DBG] POST requests are not supported
2025-04-27 17:49:05.600 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/authenticate'
2025-04-27 17:49:05.604 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)' with route pattern 'api/Auth/authenticate' is valid for the request path '/api/Auth/authenticate'
2025-04-27 17:49:05.611 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-27 17:49:05.748 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-27 17:49:05.752 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-27 17:49:05.789 +03:00 [INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokenDTO]] Authenticate(Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-04-27 17:49:05.793 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 17:49:05.798 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 17:49:05.800 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 17:49:05.804 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 17:49:05.806 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 17:49:05.809 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-04-27 17:49:05.818 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-04-27 17:49:05.834 +03:00 [DBG] Attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' ...
2025-04-27 17:49:05.839 +03:00 [DBG] Attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' using the name '' in request data ...
2025-04-27 17:49:05.843 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-27 17:49:05.857 +03:00 [DBG] Connection id "0HNC5JAAPNP9L", Request id "0HNC5JAAPNP9L:00000001": started reading request body.
2025-04-27 17:49:05.859 +03:00 [DBG] Connection id "0HNC5JAAPNP9L", Request id "0HNC5JAAPNP9L:00000001": done reading request body.
2025-04-27 17:49:05.891 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'
2025-04-27 17:49:05.894 +03:00 [DBG] Done attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-04-27 17:49:05.896 +03:00 [DBG] Done attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-04-27 17:49:05.898 +03:00 [DBG] Attempting to validate the bound parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' ...
2025-04-27 17:49:05.907 +03:00 [DBG] Done attempting to validate the bound parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-04-27 17:49:06.014 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 17:49:06.036 +03:00 [DBG] Creating DbConnection.
2025-04-27 17:49:06.037 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-27 17:49:06.038 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:49:06.042 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:49:06.046 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:49:06.047 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:49:06.049 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-27 17:49:06.051 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 17:49:06.058 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 17:49:06.067 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:49:06.072 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:49:06.074 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 7ms reading results.
2025-04-27 17:49:06.076 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:49:06.080 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (3ms).
2025-04-27 17:49:06.104 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-27 17:49:06.114 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-27 17:49:06.117 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-27 17:49:06.120 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-27 17:49:06.121 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-27 17:49:06.123 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-27 17:49:06.126 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokenDTO'.
2025-04-27 17:49:06.144 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend) in 332.4604ms
2025-04-27 17:49:06.148 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-27 17:49:06.151 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 17:49:06.159 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:49:06.164 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-04-27 17:49:06.166 +03:00 [INF] Request finished HTTP/2 POST https://localhost:49464/api/Auth/authenticate - 200 null application/json; charset=utf-8 621.697ms
2025-04-27 17:49:09.884 +03:00 [DBG] Connection id "0HNC5JAAPNP9L" received FIN.
2025-04-27 17:49:09.893 +03:00 [DBG] Connection id "0HNC5JAAPNP9L" is closed. The last processed stream ID was 1.
2025-04-27 17:49:09.894 +03:00 [DBG] The connection queue processing loop for 0HNC5JAAPNP9L completed.
2025-04-27 17:49:09.896 +03:00 [DBG] Connection id "0HNC5JAAPNP9L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:49:09.914 +03:00 [DBG] Connection id "0HNC5JAAPNP9L" stopped.
2025-04-27 17:49:33.523 +03:00 [DBG] Connection id "0HNC5JAAPNP9M" accepted.
2025-04-27 17:49:33.529 +03:00 [DBG] Connection id "0HNC5JAAPNP9M" started.
2025-04-27 17:49:33.537 +03:00 [DBG] Connection 0HNC5JAAPNP9M established using the following protocol: "Tls12"
2025-04-27 17:49:33.542 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/User/61 - null null
2025-04-27 17:49:33.546 +03:00 [DBG] The request path  does not match the path filter
2025-04-27 17:49:33.549 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/61'
2025-04-27 17:49:33.550 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/61'
2025-04-27 17:49:33.553 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 17:49:33.706 +03:00 [DBG] Successfully validated the token.
2025-04-27 17:49:33.707 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-27 17:49:33.709 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 17:49:33.717 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-04-27 17:49:33.720 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 17:49:33.721 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 17:49:33.723 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 17:49:33.725 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 17:49:33.727 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 17:49:33.728 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 17:49:33.740 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 17:49:33.742 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-27 17:49:33.744 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-27 17:49:33.747 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-27 17:49:33.748 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-27 17:49:33.751 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-27 17:49:33.754 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-27 17:49:33.775 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 17:49:33.779 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __userId_0)'
2025-04-27 17:49:33.828 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__userId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__userId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Salt>k__BackingField = dataReader.GetString(5);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-27 17:49:33.834 +03:00 [DBG] Creating DbConnection.
2025-04-27 17:49:33.836 +03:00 [DBG] Created DbConnection. (2ms).
2025-04-27 17:49:33.838 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:49:33.841 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:49:33.843 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:49:33.844 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:49:33.846 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-27 17:49:33.847 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:49:33.859 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:49:33.863 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:49:33.864 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-04-27 17:49:33.869 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:49:33.877 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (7ms).
2025-04-27 17:49:34.044 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 315.8299ms
2025-04-27 17:49:34.080 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 17:49:34.083 +03:00 [ERR] User with ID 61 isn't exist.
Finance_Manager_Backend.Exceptions.EntityNotFoundException`1[Finance_Manager_Backend.BusinessLogic.Models.User]: User with ID 61 isn't exist.
   at Finance_Manager_Backend.BusinessLogic.Services.UsersService.GetUserByIdAsync(Int32 userId) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\BusinessLogic\Services\UsersService.cs:line 23
   at Finance_Manager_Backend.BusinessLogic.Services.UsersService.GetUserBalanceByIdAsync(Int32 userId) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\BusinessLogic\Services\UsersService.cs:line 30
   at Finance_Manager_Backend.Controllers.UserController.GetBalanceById(Int32 id) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Controllers\UserController.cs:line 35
   at lambda_method394(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Finance_Manager_Backend.Middleware.ExceptionsHandler.InvokeAsync(HttpContext httpContext) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Middleware\ExceptionsHandler.cs:line 23
2025-04-27 17:49:34.151 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 17:49:34.155 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:49:34.160 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-04-27 17:49:34.189 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/User/61 - 404 null application/json 646.9954ms
2025-04-27 17:49:34.905 +03:00 [DBG] Connection id "0HNC5JAAPNP9M" received FIN.
2025-04-27 17:49:34.906 +03:00 [DBG] Connection id "0HNC5JAAPNP9M" is closed. The last processed stream ID was 1.
2025-04-27 17:49:34.906 +03:00 [DBG] The connection queue processing loop for 0HNC5JAAPNP9M completed.
2025-04-27 17:49:34.910 +03:00 [DBG] Connection id "0HNC5JAAPNP9M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:49:34.922 +03:00 [DBG] Connection id "0HNC5JAAPNP9M" stopped.
2025-04-27 17:49:44.411 +03:00 [DBG] Connection id "0HNC5JAAPNP9N" accepted.
2025-04-27 17:49:44.420 +03:00 [DBG] Connection id "0HNC5JAAPNP9N" started.
2025-04-27 17:49:44.434 +03:00 [DBG] Connection 0HNC5JAAPNP9N established using the following protocol: "Tls12"
2025-04-27 17:49:44.438 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/User/62 - null null
2025-04-27 17:49:44.450 +03:00 [DBG] The request path  does not match the path filter
2025-04-27 17:49:44.452 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/62'
2025-04-27 17:49:44.454 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/62'
2025-04-27 17:49:44.456 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 17:49:44.465 +03:00 [DBG] Successfully validated the token.
2025-04-27 17:49:44.466 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-27 17:49:44.468 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 17:49:44.469 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-04-27 17:49:44.472 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 17:49:44.474 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 17:49:44.479 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 17:49:44.481 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 17:49:44.483 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 17:49:44.485 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 17:49:44.487 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 17:49:44.488 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-27 17:49:44.493 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-27 17:49:44.496 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-27 17:49:44.497 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-27 17:49:44.499 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-27 17:49:44.500 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-27 17:49:44.503 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 17:49:44.505 +03:00 [DBG] Creating DbConnection.
2025-04-27 17:49:44.506 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-27 17:49:44.507 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:49:44.509 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:49:44.512 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:49:44.514 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:49:44.515 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-27 17:49:44.517 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:49:44.521 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:49:44.523 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:49:44.527 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:49:44.529 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 6ms reading results.
2025-04-27 17:49:44.531 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:49:44.532 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 17:49:44.537 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-27 17:49:44.539 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-27 17:49:44.541 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-27 17:49:44.545 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-27 17:49:44.546 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-27 17:49:44.547 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-27 17:49:44.548 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-04-27 17:49:44.610 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 125.5525ms
2025-04-27 17:49:44.612 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 17:49:44.613 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 17:49:44.617 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:49:44.618 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-27 17:49:44.620 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/User/62 - 200 null application/json; charset=utf-8 181.7429ms
2025-04-27 17:49:44.913 +03:00 [DBG] Connection id "0HNC5JAAPNP9N" received FIN.
2025-04-27 17:49:44.931 +03:00 [DBG] Connection id "0HNC5JAAPNP9N" is closed. The last processed stream ID was 1.
2025-04-27 17:49:44.931 +03:00 [DBG] The connection queue processing loop for 0HNC5JAAPNP9N completed.
2025-04-27 17:49:44.935 +03:00 [DBG] Connection id "0HNC5JAAPNP9N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:49:44.944 +03:00 [DBG] Connection id "0HNC5JAAPNP9N" stopped.
2025-04-27 17:50:11.657 +03:00 [DBG] Connection id "0HNC5JAAPNP9O" accepted.
2025-04-27 17:50:11.692 +03:00 [DBG] Connection id "0HNC5JAAPNP9O" started.
2025-04-27 17:50:11.707 +03:00 [DBG] Connection 0HNC5JAAPNP9O established using the following protocol: "Tls12"
2025-04-27 17:50:11.719 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:49464/api/User - application/json 75
2025-04-27 17:50:11.725 +03:00 [DBG] PUT requests are not supported
2025-04-27 17:50:11.727 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User'
2025-04-27 17:50:11.730 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)' with route pattern 'api/User' is valid for the request path '/api/User'
2025-04-27 17:50:11.737 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 17:50:11.740 +03:00 [DBG] Successfully validated the token.
2025-04-27 17:50:11.743 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-27 17:50:11.756 +03:00 [DBG] Authorization was successful.
2025-04-27 17:50:11.758 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 17:50:11.768 +03:00 [INF] Route matched with {action = "UpdateCurrency", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateCurrency(Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-04-27 17:50:11.772 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 17:50:11.775 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 17:50:11.777 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 17:50:11.789 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 17:50:11.791 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 17:50:11.795 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 17:50:11.807 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 17:50:11.810 +03:00 [DBG] Attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' ...
2025-04-27 17:50:11.817 +03:00 [DBG] Attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' using the name '' in request data ...
2025-04-27 17:50:11.824 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-27 17:50:11.828 +03:00 [DBG] Connection id "0HNC5JAAPNP9O", Request id "0HNC5JAAPNP9O:00000001": started reading request body.
2025-04-27 17:50:11.839 +03:00 [DBG] Connection id "0HNC5JAAPNP9O", Request id "0HNC5JAAPNP9O:00000001": done reading request body.
2025-04-27 17:50:11.845 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'
2025-04-27 17:50:11.850 +03:00 [DBG] Done attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 17:50:11.854 +03:00 [DBG] Done attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 17:50:11.855 +03:00 [DBG] Attempting to validate the bound parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' ...
2025-04-27 17:50:11.858 +03:00 [DBG] Done attempting to validate the bound parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 17:50:13.209 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 17:50:13.212 +03:00 [DBG] Creating DbConnection.
2025-04-27 17:50:13.213 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-27 17:50:13.214 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:13.217 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:13.219 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:50:13.220 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:50:13.221 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 17:50:13.223 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:50:13.227 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:50:13.230 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:13.233 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-27 17:50:13.235 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:13.236 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 17:50:13.240 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend) in 1445.521ms
2025-04-27 17:50:13.242 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 17:50:13.243 +03:00 [ERR] User with ID 61 isn't exist.
Finance_Manager_Backend.Exceptions.EntityNotFoundException`1[Finance_Manager_Backend.BusinessLogic.Models.User]: User with ID 61 isn't exist.
   at Finance_Manager_Backend.BusinessLogic.Services.UsersService.GetUserByIdAsync(Int32 userId) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\BusinessLogic\Services\UsersService.cs:line 23
   at Finance_Manager_Backend.BusinessLogic.Models.DTOs.Validators.UpdateUserCurrencyDTOValidator.<.ctor>b__1_1(Int32 userId, CancellationToken cancellationToken) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\BusinessLogic\Models\DTOs\Validators\UpdateUserCurrencyDTOValidator.cs:line 19
   at FluentValidation.Internal.RuleComponent`2.ValidateAsync(ValidationContext`1 context, TProperty value, Boolean useAsync, CancellationToken cancellation) in /_/src/FluentValidation/Internal/RuleComponent.cs:line 71
   at FluentValidation.Internal.PropertyRule`2.ValidateAsync(ValidationContext`1 context, Boolean useAsync, CancellationToken cancellation) in /_/src/FluentValidation/Internal/PropertyRule.cs:line 156
   at FluentValidation.AbstractValidator`1.ValidateInternalAsync(ValidationContext`1 context, Boolean useAsync, CancellationToken cancellation) in /_/src/FluentValidation/AbstractValidator.cs:line 246
   at FluentValidation.AbstractValidator`1.ValidateAsync(ValidationContext`1 context, CancellationToken cancellation) in /_/src/FluentValidation/AbstractValidator.cs:line 220
   at Finance_Manager_Backend.Middleware.ValidationFilter.OnActionExecutionAsync(ActionExecutingContext context, ActionExecutionDelegate next) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Middleware\ValidationFilter.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Finance_Manager_Backend.Middleware.ExceptionsHandler.InvokeAsync(HttpContext httpContext) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Middleware\ExceptionsHandler.cs:line 23
2025-04-27 17:50:14.268 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 17:50:14.328 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:14.335 +03:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-04-27 17:50:14.341 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:49464/api/User - 404 null application/json 2621.4506ms
2025-04-27 17:50:14.947 +03:00 [DBG] Connection id "0HNC5JAAPNP9O" received FIN.
2025-04-27 17:50:14.951 +03:00 [DBG] Connection id "0HNC5JAAPNP9O" is closed. The last processed stream ID was 1.
2025-04-27 17:50:14.951 +03:00 [DBG] The connection queue processing loop for 0HNC5JAAPNP9O completed.
2025-04-27 17:50:14.953 +03:00 [DBG] Connection id "0HNC5JAAPNP9O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:50:14.962 +03:00 [DBG] Connection id "0HNC5JAAPNP9O" stopped.
2025-04-27 17:50:19.242 +03:00 [DBG] Connection id "0HNC5JAAPNP9P" accepted.
2025-04-27 17:50:19.269 +03:00 [DBG] Connection id "0HNC5JAAPNP9P" started.
2025-04-27 17:50:19.288 +03:00 [DBG] Connection 0HNC5JAAPNP9P established using the following protocol: "Tls12"
2025-04-27 17:50:19.292 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:49464/api/User - application/json 75
2025-04-27 17:50:19.296 +03:00 [DBG] PUT requests are not supported
2025-04-27 17:50:19.297 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User'
2025-04-27 17:50:19.299 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)' with route pattern 'api/User' is valid for the request path '/api/User'
2025-04-27 17:50:19.302 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 17:50:19.304 +03:00 [DBG] Successfully validated the token.
2025-04-27 17:50:19.305 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-27 17:50:19.308 +03:00 [DBG] Authorization was successful.
2025-04-27 17:50:19.310 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 17:50:19.312 +03:00 [INF] Route matched with {action = "UpdateCurrency", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateCurrency(Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-04-27 17:50:19.315 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 17:50:19.317 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 17:50:19.320 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 17:50:19.322 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 17:50:19.325 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 17:50:19.327 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 17:50:19.329 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 17:50:19.331 +03:00 [DBG] Attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' ...
2025-04-27 17:50:19.334 +03:00 [DBG] Attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' using the name '' in request data ...
2025-04-27 17:50:19.335 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-27 17:50:19.337 +03:00 [DBG] Connection id "0HNC5JAAPNP9P", Request id "0HNC5JAAPNP9P:00000001": started reading request body.
2025-04-27 17:50:19.338 +03:00 [DBG] Connection id "0HNC5JAAPNP9P", Request id "0HNC5JAAPNP9P:00000001": done reading request body.
2025-04-27 17:50:19.340 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'
2025-04-27 17:50:19.342 +03:00 [DBG] Done attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 17:50:19.343 +03:00 [DBG] Done attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 17:50:19.345 +03:00 [DBG] Attempting to validate the bound parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' ...
2025-04-27 17:50:19.347 +03:00 [DBG] Done attempting to validate the bound parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 17:50:19.350 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 17:50:19.352 +03:00 [DBG] Creating DbConnection.
2025-04-27 17:50:19.353 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-27 17:50:19.354 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:19.356 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:19.357 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:50:19.358 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:50:19.359 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 17:50:19.360 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:50:19.365 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:50:19.367 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:50:19.368 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:19.370 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-04-27 17:50:19.372 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:19.373 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 17:50:19.377 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __id_0)'
2025-04-27 17:50:19.942 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Salt>k__BackingField = dataReader.GetString(5);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-27 17:50:19.946 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:19.948 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:19.950 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:50:19.951 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:50:19.954 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-27 17:50:19.957 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__id_0
2025-04-27 17:50:19.966 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__id_0
2025-04-27 17:50:19.970 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:19.975 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-04-27 17:50:19.977 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:19.979 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 17:50:19.983 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:50:19.984 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:50:19.987 +03:00 [DBG] The unchanged property 'User.SecondaryCurrency1' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:50:19.989 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:50:19.992 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:50:20.510 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:20.528 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:20.529 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:50:20.530 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:50:20.532 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 17:50:20.533 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [secondary_currency_1] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-04-27 17:50:22.334 +03:00 [INF] Executed DbCommand (1,800ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [secondary_currency_1] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-04-27 17:50:22.337 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:22.341 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-04-27 17:50:22.343 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:22.346 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 17:50:22.349 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:50:22.352 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-27 17:50:22.357 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-27 17:50:22.358 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend) in 3031.0092ms
2025-04-27 17:50:22.360 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 17:50:22.362 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 17:50:22.370 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:22.377 +03:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-04-27 17:50:22.384 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:49464/api/User - 204 null null 3091.741ms
2025-04-27 17:50:24.968 +03:00 [DBG] Connection id "0HNC5JAAPNP9P" received FIN.
2025-04-27 17:50:24.973 +03:00 [DBG] Connection id "0HNC5JAAPNP9P" is closed. The last processed stream ID was 1.
2025-04-27 17:50:24.973 +03:00 [DBG] The connection queue processing loop for 0HNC5JAAPNP9P completed.
2025-04-27 17:50:24.976 +03:00 [DBG] Connection id "0HNC5JAAPNP9P" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:50:24.982 +03:00 [DBG] Connection id "0HNC5JAAPNP9P" stopped.
2025-04-27 17:50:28.848 +03:00 [DBG] Connection id "0HNC5JAAPNP9Q" accepted.
2025-04-27 17:50:28.850 +03:00 [DBG] Connection id "0HNC5JAAPNP9Q" started.
2025-04-27 17:50:28.862 +03:00 [DBG] Connection 0HNC5JAAPNP9Q established using the following protocol: "Tls12"
2025-04-27 17:50:28.866 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:49464/api/User - application/json 75
2025-04-27 17:50:28.872 +03:00 [DBG] PUT requests are not supported
2025-04-27 17:50:28.874 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User'
2025-04-27 17:50:28.875 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)' with route pattern 'api/User' is valid for the request path '/api/User'
2025-04-27 17:50:28.877 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 17:50:28.879 +03:00 [DBG] Successfully validated the token.
2025-04-27 17:50:28.880 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-27 17:50:28.882 +03:00 [DBG] Authorization was successful.
2025-04-27 17:50:28.883 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 17:50:28.885 +03:00 [INF] Route matched with {action = "UpdateCurrency", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateCurrency(Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-04-27 17:50:28.887 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 17:50:28.892 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 17:50:28.902 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 17:50:28.905 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 17:50:28.908 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 17:50:28.909 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 17:50:28.916 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 17:50:28.920 +03:00 [DBG] Attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' ...
2025-04-27 17:50:28.921 +03:00 [DBG] Attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' using the name '' in request data ...
2025-04-27 17:50:28.924 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-27 17:50:28.926 +03:00 [DBG] Connection id "0HNC5JAAPNP9Q", Request id "0HNC5JAAPNP9Q:00000001": started reading request body.
2025-04-27 17:50:28.930 +03:00 [DBG] Connection id "0HNC5JAAPNP9Q", Request id "0HNC5JAAPNP9Q:00000001": done reading request body.
2025-04-27 17:50:28.936 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'
2025-04-27 17:50:28.938 +03:00 [DBG] Done attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 17:50:28.940 +03:00 [DBG] Done attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 17:50:28.941 +03:00 [DBG] Attempting to validate the bound parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' ...
2025-04-27 17:50:28.943 +03:00 [DBG] Done attempting to validate the bound parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 17:50:28.951 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 17:50:28.963 +03:00 [DBG] Creating DbConnection.
2025-04-27 17:50:28.965 +03:00 [DBG] Created DbConnection. (2ms).
2025-04-27 17:50:28.967 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:28.970 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:28.972 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:50:28.973 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:50:28.975 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 17:50:28.976 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:50:28.986 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:50:28.990 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:50:28.995 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:29.000 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 10ms reading results.
2025-04-27 17:50:29.022 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:29.023 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 17:50:29.025 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:29.027 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:29.032 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:50:29.035 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-04-27 17:50:29.036 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-27 17:50:29.038 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__id_0
2025-04-27 17:50:29.041 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__id_0
2025-04-27 17:50:29.048 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:29.052 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-04-27 17:50:29.055 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:29.057 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 17:50:29.060 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:50:29.063 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:50:29.065 +03:00 [DBG] The unchanged property 'User.SecondaryCurrency2' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:50:29.068 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:50:29.070 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:50:29.071 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:29.073 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:29.075 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:50:29.076 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:50:29.078 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 17:50:29.080 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [secondary_currency_2] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-04-27 17:50:29.118 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [secondary_currency_2] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-04-27 17:50:29.120 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:29.121 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-04-27 17:50:29.123 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:29.125 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 17:50:29.126 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:50:29.130 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-27 17:50:29.134 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-27 17:50:29.135 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend) in 225.6241ms
2025-04-27 17:50:29.137 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 17:50:29.138 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 17:50:29.139 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:29.141 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-27 17:50:29.143 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:49464/api/User - 204 null null 277.2195ms
2025-04-27 17:50:29.977 +03:00 [DBG] Connection id "0HNC5JAAPNP9Q" received FIN.
2025-04-27 17:50:29.978 +03:00 [DBG] Connection id "0HNC5JAAPNP9Q" is closed. The last processed stream ID was 1.
2025-04-27 17:50:29.979 +03:00 [DBG] The connection queue processing loop for 0HNC5JAAPNP9Q completed.
2025-04-27 17:50:29.981 +03:00 [DBG] Connection id "0HNC5JAAPNP9Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:50:29.992 +03:00 [DBG] Connection id "0HNC5JAAPNP9Q" stopped.
2025-04-27 17:50:34.211 +03:00 [DBG] Connection id "0HNC5JAAPNP9R" accepted.
2025-04-27 17:50:34.250 +03:00 [DBG] Connection id "0HNC5JAAPNP9R" started.
2025-04-27 17:50:34.257 +03:00 [DBG] Connection 0HNC5JAAPNP9R established using the following protocol: "Tls12"
2025-04-27 17:50:34.261 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/User/62 - null null
2025-04-27 17:50:34.270 +03:00 [DBG] The request path  does not match the path filter
2025-04-27 17:50:34.272 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/62'
2025-04-27 17:50:34.276 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/62'
2025-04-27 17:50:34.279 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 17:50:34.286 +03:00 [DBG] Successfully validated the token.
2025-04-27 17:50:34.288 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-27 17:50:34.291 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 17:50:34.293 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-04-27 17:50:34.296 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 17:50:34.298 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 17:50:34.302 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 17:50:34.306 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 17:50:34.307 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 17:50:34.309 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 17:50:34.311 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 17:50:34.317 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-27 17:50:34.319 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-27 17:50:34.320 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-27 17:50:34.322 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-27 17:50:34.323 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-27 17:50:34.324 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-27 17:50:34.327 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 17:50:34.329 +03:00 [DBG] Creating DbConnection.
2025-04-27 17:50:34.330 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-27 17:50:34.331 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:34.334 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:34.335 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:50:34.336 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:50:34.338 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 17:50:34.339 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:50:34.343 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:50:34.345 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:50:34.347 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:34.351 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 6ms reading results.
2025-04-27 17:50:34.353 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:34.354 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 17:50:34.360 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/fc359277c02189baaea0133c/pair/USD/EUR
2025-04-27 17:50:34.364 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/fc359277c02189baaea0133c/pair/USD/EUR
2025-04-27 17:50:34.841 +03:00 [INF] Received HTTP response headers after 471.9464ms - 200
2025-04-27 17:50:34.844 +03:00 [INF] End processing HTTP request after 484.7996ms - 200
2025-04-27 17:50:34.855 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/fc359277c02189baaea0133c/pair/USD/UAH
2025-04-27 17:50:34.857 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/fc359277c02189baaea0133c/pair/USD/UAH
2025-04-27 17:50:35.013 +03:00 [INF] Received HTTP response headers after 154.2518ms - 200
2025-04-27 17:50:35.015 +03:00 [INF] End processing HTTP request after 159.4488ms - 200
2025-04-27 17:50:35.018 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-27 17:50:35.021 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-27 17:50:35.023 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-27 17:50:35.025 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-27 17:50:35.026 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-27 17:50:35.027 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-27 17:50:35.029 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-04-27 17:50:35.031 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 721.5282ms
2025-04-27 17:50:35.035 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 17:50:35.036 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 17:50:35.040 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:50:35.043 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-27 17:50:35.047 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/User/62 - 200 null application/json; charset=utf-8 785.7996ms
2025-04-27 17:50:39.984 +03:00 [DBG] Connection id "0HNC5JAAPNP9R" received FIN.
2025-04-27 17:50:39.995 +03:00 [DBG] Connection id "0HNC5JAAPNP9R" is closed. The last processed stream ID was 1.
2025-04-27 17:50:39.995 +03:00 [DBG] The connection queue processing loop for 0HNC5JAAPNP9R completed.
2025-04-27 17:50:39.998 +03:00 [DBG] Connection id "0HNC5JAAPNP9R" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:50:40.015 +03:00 [DBG] Connection id "0HNC5JAAPNP9R" stopped.
2025-04-27 17:51:33.752 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'CurrencyConverterService'
2025-04-27 17:51:43.763 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:51:43.766 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0242ms - processed: 0 items - remaining: 1 items
2025-04-27 17:51:53.776 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:51:53.778 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0064ms - processed: 0 items - remaining: 1 items
2025-04-27 17:52:03.783 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:52:03.785 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0198ms - processed: 0 items - remaining: 1 items
2025-04-27 17:52:13.800 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:52:13.802 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0059ms - processed: 0 items - remaining: 1 items
2025-04-27 17:52:23.817 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:52:23.847 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 1 items
2025-04-27 17:52:33.879 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:52:33.885 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 1 items
2025-04-27 17:52:43.902 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:52:43.904 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 1 items
2025-04-27 17:52:53.914 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:52:53.915 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 1 items
2025-04-27 17:53:03.932 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:53:03.933 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 1 items
2025-04-27 17:53:13.947 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:53:13.949 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 1 items
2025-04-27 17:53:23.957 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:53:23.964 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 1 items
2025-04-27 17:53:33.972 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:53:33.973 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 1 items
2025-04-27 17:53:43.981 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:53:43.982 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1197ms - processed: 0 items - remaining: 1 items
2025-04-27 17:53:53.992 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:53:53.993 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 1 items
2025-04-27 17:54:03.997 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:54:03.999 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 1 items
2025-04-27 17:54:14.011 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:54:14.014 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 1 items
2025-04-27 17:54:24.019 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:54:24.020 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 1 items
2025-04-27 17:54:34.037 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:54:34.046 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 1 items
2025-04-27 17:54:44.060 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:54:44.062 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 1 items
2025-04-27 17:54:54.072 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:54:54.073 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 1 items
2025-04-27 17:55:04.088 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:55:04.089 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 1 items
2025-04-27 17:55:14.102 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:55:14.103 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 1 items
2025-04-27 17:55:24.115 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:55:24.116 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 1 items
2025-04-27 17:55:34.119 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:55:34.121 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 1 items
2025-04-27 17:55:44.127 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:55:44.129 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 1 items
2025-04-27 17:55:54.143 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:55:54.144 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 1 items
2025-04-27 17:56:04.154 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:56:04.155 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 1 items
2025-04-27 17:56:11.849 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-27 17:56:12.708 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 17:56:12.832 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()'
2025-04-27 17:56:13.060 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
        FROM users AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
        FROM users AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                instance.<Email>k__BackingField = dataReader.GetString(2);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                instance.<Salt>k__BackingField = dataReader.GetString(5);
                                instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-27 17:56:13.098 +03:00 [DBG] Creating DbConnection.
2025-04-27 17:56:13.121 +03:00 [DBG] Created DbConnection. (21ms).
2025-04-27 17:56:13.130 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:13.448 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:13.454 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:56:13.460 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-04-27 17:56:13.464 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-04-27 17:56:13.470 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
2025-04-27 17:56:13.494 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
2025-04-27 17:56:13.540 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:13.586 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:13.603 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:13.614 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 111ms reading results.
2025-04-27 17:56:13.620 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:13.629 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (9ms).
2025-04-27 17:56:13.638 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:56:13.647 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:56:13.667 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:56:13.717 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:13.722 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:13.729 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:56:13.730 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:56:13.734 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-27 17:56:13.740 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-27 17:56:13.825 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-27 17:56:13.842 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:13.849 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 16ms reading results.
2025-04-27 17:56:13.857 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:13.863 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (6ms).
2025-04-27 17:56:13.876 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:13.885 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-27 17:56:13.890 +03:00 [DBG] Compiling query expression: 
'DbSet<Category>()'
2025-04-27 17:56:13.900 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Category>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Category entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Category instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Category);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Category)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                        {
                            return 
                            {
                                Category instance;
                                instance = new Category();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                                instance.<Icon>k__BackingField = dataReader.GetString(2);
                                instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                                instance.<Name>k__BackingField = dataReader.GetString(4);
                                instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Category)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-27 17:56:13.914 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:13.916 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:13.918 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:56:13.920 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-27 17:56:13.922 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-27 17:56:13.925 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-27 17:56:13.928 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-27 17:56:13.947 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:13.959 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:13.962 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:13.964 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:13.967 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:13.970 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:13.974 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:13.976 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:13.979 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:13.982 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:13.986 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:13.989 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 57ms reading results.
2025-04-27 17:56:13.994 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:13.996 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 17:56:13.999 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:56:14.003 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:56:14.016 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:56:14.026 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-27 17:56:14.034 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:14.039 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:14.045 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-04-27 17:56:14.058 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-27 17:56:14.062 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:56:14.067 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-04-27 17:56:14.072 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-04-27 17:56:14.076 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-27 17:56:14.101 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-27 17:56:14.109 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:14.114 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 5ms reading results.
2025-04-27 17:56:14.122 +03:00 [DBG] Committing transaction.
2025-04-27 17:56:14.164 +03:00 [DBG] Committed transaction.
2025-04-27 17:56:14.166 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:14.168 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 17:56:14.173 +03:00 [DBG] Disposing transaction.
2025-04-27 17:56:14.174 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:14.177 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:14.180 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:14.182 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:14.186 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:14.189 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-27 17:56:14.192 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 17:56:14.195 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:14.198 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-27 17:56:14.371 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 17:56:14.389 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Email == __email_0)'
2025-04-27 17:56:14.455 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.email == @__email_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.email == @__email_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Salt>k__BackingField = dataReader.GetString(5);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-27 17:56:14.472 +03:00 [DBG] Creating DbConnection.
2025-04-27 17:56:14.474 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-27 17:56:14.475 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:14.477 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:14.479 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:56:14.480 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:56:14.483 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-27 17:56:14.486 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 17:56:14.491 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 17:56:14.498 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:14.503 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 7ms reading results.
2025-04-27 17:56:14.509 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:14.514 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (4ms).
2025-04-27 17:56:14.562 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:14.573 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:14.582 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:56:14.586 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:56:14.590 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:56:14.608 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:14.612 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:14.616 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:56:14.621 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-04-27 17:56:14.627 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-04-27 17:56:14.632 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30), @p4='?' (Size = 3), @p5='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt], [secondary_currency_1], [secondary_currency_2])
OUTPUT INSERTED.[id], INSERTED.[primary_currency]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-27 17:56:14.691 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30), @p4='?' (Size = 3), @p5='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt], [secondary_currency_1], [secondary_currency_2])
OUTPUT INSERTED.[id], INSERTED.[primary_currency]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-27 17:56:14.700 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:14.706 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:14.708 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 12ms reading results.
2025-04-27 17:56:14.710 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:14.712 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 17:56:14.717 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:14.720 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-27 17:56:14.880 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __userDTO_Id_0)'
2025-04-27 17:56:14.889 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Salt>k__BackingField = dataReader.GetString(5);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-27 17:56:14.932 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:14.934 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:14.936 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:56:14.938 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:56:14.940 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-27 17:56:14.942 +03:00 [DBG] Executing DbCommand [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-27 17:56:14.947 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-27 17:56:14.951 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:14.953 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-04-27 17:56:14.956 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:14.958 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 17:56:14.966 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:14.969 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:14.972 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:14.974 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:14.976 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:14.978 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:14.981 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:14.983 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:14.986 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:14.988 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:14.990 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:56:14.991 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:56:14.995 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:56:15.003 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-27 17:56:15.010 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:15.017 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:15.024 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:56:15.029 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-04-27 17:56:15.032 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-04-27 17:56:15.038 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 17:56:15.056 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 17:56:15.066 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.072 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.080 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.086 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.092 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.097 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:15.101 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 36ms reading results.
2025-04-27 17:56:15.109 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:15.114 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (5ms).
2025-04-27 17:56:15.121 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.127 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.132 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.139 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.146 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.152 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-27 17:56:15.161 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.185 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.187 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.190 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.192 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.194 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.196 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.199 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.201 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.204 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.206 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.209 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.212 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.214 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.217 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.220 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.222 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.225 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.227 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.230 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.232 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.235 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.236 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.238 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.239 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.241 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.243 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.245 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.246 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.249 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.251 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.254 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.256 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.259 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.261 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.265 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.267 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.270 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.272 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.275 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.277 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:56:15.279 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:56:15.289 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:56:15.292 +03:00 [DBG] Executing 20 update commands as a batch.
2025-04-27 17:56:15.295 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:15.298 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:15.300 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:56:15.302 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:56:15.305 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-27 17:56:15.307 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 17:56:15.337 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-27 17:56:15.345 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.348 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.350 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.353 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.355 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.358 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.360 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.363 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.365 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.368 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.371 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.374 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.377 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.379 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.382 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.385 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.387 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.389 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.392 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.394 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.397 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:15.399 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 55ms reading results.
2025-04-27 17:56:15.402 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:15.408 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (5ms).
2025-04-27 17:56:15.411 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.413 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.415 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.417 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.419 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.421 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.423 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.425 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.427 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.429 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.431 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.433 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.435 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.437 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.439 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.441 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.443 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.445 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.447 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.450 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.452 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 20 entities written to the database.
2025-04-27 17:56:15.455 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.467 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.469 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.470 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.472 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.474 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.475 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.477 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.478 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:56:15.479 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:56:15.484 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:56:15.486 +03:00 [DBG] Executing 4 update commands as a batch.
2025-04-27 17:56:15.487 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:15.489 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:15.490 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:56:15.492 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:56:15.493 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 17:56:15.495 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-27 17:56:15.507 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-27 17:56:15.513 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.519 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.522 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.524 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:56:15.527 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:15.530 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 18ms reading results.
2025-04-27 17:56:15.533 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:15.536 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 17:56:15.540 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.545 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.548 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.552 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:56:15.555 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 4 entities written to the database.
2025-04-27 17:56:15.557 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 17:56:15.559 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:56:15.563 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-04-27 17:56:15.617 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-27 17:56:15.686 +03:00 [DBG] Hosting starting
2025-04-27 17:56:15.700 +03:00 [INF] User profile is available. Using 'C:\Users\ebtyx\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-27 17:56:15.717 +03:00 [DBG] Reading data from file 'C:\Users\ebtyx\AppData\Local\ASP.NET\DataProtection-Keys\key-036e1e5f-5347-47d7-8236-0b64ed0a76a1.xml'.
2025-04-27 17:56:15.723 +03:00 [DBG] Found key {036e1e5f-5347-47d7-8236-0b64ed0a76a1}.
2025-04-27 17:56:15.730 +03:00 [DBG] Considering key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} with expiration date 2025-07-16 20:11:06Z as default key.
2025-04-27 17:56:15.734 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-27 17:56:15.736 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-27 17:56:15.738 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-27 17:56:15.741 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-27 17:56:15.743 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-27 17:56:15.746 +03:00 [DBG] Using key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} as the default key.
2025-04-27 17:56:15.748 +03:00 [DBG] Key ring with default key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} was loaded during application startup.
2025-04-27 17:56:15.755 +03:00 [DBG] Middleware loaded
2025-04-27 17:56:15.757 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16531 B).
2025-04-27 17:56:15.760 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-27 17:56:15.852 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-27 17:56:15.943 +03:00 [INF] Now listening on: https://localhost:49464
2025-04-27 17:56:15.944 +03:00 [INF] Now listening on: http://localhost:49465
2025-04-27 17:56:15.945 +03:00 [DBG] Loaded hosting startup assembly Finance_Manager_Backend
2025-04-27 17:56:15.946 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-04-27 17:56:15.947 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-27 17:56:15.949 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-04-27 17:56:16.019 +03:00 [DBG] Connection id "0HNC5JEKHR2VQ" accepted.
2025-04-27 17:56:16.020 +03:00 [DBG] Connection id "0HNC5JEKHR2VQ" started.
2025-04-27 17:56:16.026 +03:00 [DBG] Connection id "0HNC5JEKHR2VR" accepted.
2025-04-27 17:56:16.047 +03:00 [DBG] Connection id "0HNC5JEKHR2VQ" received FIN.
2025-04-27 17:56:16.047 +03:00 [DBG] Connection id "0HNC5JEKHR2VR" received FIN.
2025-04-27 17:56:16.054 +03:00 [DBG] Connection id "0HNC5JEKHR2VR" started.
2025-04-27 17:56:16.056 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-27 17:56:16.069 +03:00 [INF] Hosting environment: Development
2025-04-27 17:56:16.070 +03:00 [INF] Content root path: G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend
2025-04-27 17:56:16.071 +03:00 [DBG] Hosting started
2025-04-27 17:56:16.166 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-04-27 17:56:16.166 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-04-27 17:56:16.602 +03:00 [DBG] Connection id "0HNC5JEKHR2VR" stopped.
2025-04-27 17:56:16.602 +03:00 [DBG] Connection id "0HNC5JEKHR2VQ" stopped.
2025-04-27 17:56:16.606 +03:00 [DBG] Connection id "0HNC5JEKHR2VR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:56:16.607 +03:00 [DBG] Connection id "0HNC5JEKHR2VQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:56:16.748 +03:00 [DBG] Connection id "0HNC5JEKHR2VS" accepted.
2025-04-27 17:56:16.857 +03:00 [DBG] Connection id "0HNC5JEKHR2VS" started.
2025-04-27 17:56:16.920 +03:00 [DBG] Connection 0HNC5JEKHR2VS established using the following protocol: "Tls12"
2025-04-27 17:56:17.284 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/_framework/aspnetcore-browser-refresh.js - null null
2025-04-27 17:56:17.284 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/_vs/browserLink - null null
2025-04-27 17:56:17.339 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-27 17:56:17.401 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 118.8094ms
2025-04-27 17:56:17.551 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/_vs/browserLink - 200 null text/javascript; charset=UTF-8 269.0064ms
2025-04-27 17:56:17.846 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/swagger/v1/swagger.json - null null
2025-04-27 17:56:18.021 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-27 17:56:18.127 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 280.7955ms
2025-04-27 17:56:20.544 +03:00 [DBG] Connection id "0HNC5JEKHR2VS" received FIN.
2025-04-27 17:56:20.550 +03:00 [DBG] Connection id "0HNC5JEKHR2VS" is closed. The last processed stream ID was 5.
2025-04-27 17:56:20.551 +03:00 [DBG] The connection queue processing loop for 0HNC5JEKHR2VS completed.
2025-04-27 17:56:20.552 +03:00 [DBG] Connection id "0HNC5JEKHR2VS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:56:20.558 +03:00 [DBG] Connection id "0HNC5JEKHR2VS" stopped.
2025-04-27 17:57:03.956 +03:00 [DBG] Connection id "0HNC5JEKHR2VT" accepted.
2025-04-27 17:57:03.984 +03:00 [DBG] Connection id "0HNC5JEKHR2VT" started.
2025-04-27 17:57:03.991 +03:00 [DBG] Connection 0HNC5JEKHR2VT established using the following protocol: "Tls12"
2025-04-27 17:57:03.994 +03:00 [INF] Request starting HTTP/2 POST https://localhost:49464/api/Auth/authenticate - application/json 62
2025-04-27 17:57:03.999 +03:00 [DBG] POST requests are not supported
2025-04-27 17:57:04.019 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/authenticate'
2025-04-27 17:57:04.021 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)' with route pattern 'api/Auth/authenticate' is valid for the request path '/api/Auth/authenticate'
2025-04-27 17:57:04.024 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-27 17:57:04.579 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-27 17:57:04.582 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-27 17:57:04.603 +03:00 [INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokenDTO]] Authenticate(Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-04-27 17:57:04.606 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 17:57:04.608 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 17:57:04.610 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 17:57:04.612 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 17:57:04.615 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 17:57:04.618 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-04-27 17:57:04.621 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-04-27 17:57:04.629 +03:00 [DBG] Attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' ...
2025-04-27 17:57:04.633 +03:00 [DBG] Attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' using the name '' in request data ...
2025-04-27 17:57:04.636 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-27 17:57:04.646 +03:00 [DBG] Connection id "0HNC5JEKHR2VT", Request id "0HNC5JEKHR2VT:00000001": started reading request body.
2025-04-27 17:57:04.648 +03:00 [DBG] Connection id "0HNC5JEKHR2VT", Request id "0HNC5JEKHR2VT:00000001": done reading request body.
2025-04-27 17:57:04.659 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'
2025-04-27 17:57:04.660 +03:00 [DBG] Done attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-04-27 17:57:04.662 +03:00 [DBG] Done attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-04-27 17:57:04.663 +03:00 [DBG] Attempting to validate the bound parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' ...
2025-04-27 17:57:04.671 +03:00 [DBG] Done attempting to validate the bound parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-04-27 17:57:04.717 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 17:57:04.722 +03:00 [DBG] Creating DbConnection.
2025-04-27 17:57:04.723 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-27 17:57:04.724 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:04.726 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:04.727 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:57:04.728 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:57:04.730 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 17:57:04.732 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 17:57:04.737 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-27 17:57:04.741 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:57:04.743 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:04.745 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 5ms reading results.
2025-04-27 17:57:04.748 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:04.749 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 17:57:04.768 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-27 17:57:04.773 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-27 17:57:04.775 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-27 17:57:04.777 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-27 17:57:04.778 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-27 17:57:04.779 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-27 17:57:04.782 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokenDTO'.
2025-04-27 17:57:04.795 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend) in 174.3774ms
2025-04-27 17:57:04.796 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-27 17:57:04.800 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 17:57:04.804 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:04.807 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-27 17:57:04.811 +03:00 [INF] Request finished HTTP/2 POST https://localhost:49464/api/Auth/authenticate - 200 null application/json; charset=utf-8 816.9398ms
2025-04-27 17:57:10.580 +03:00 [DBG] Connection id "0HNC5JEKHR2VT" received FIN.
2025-04-27 17:57:10.587 +03:00 [DBG] Connection id "0HNC5JEKHR2VT" is closed. The last processed stream ID was 1.
2025-04-27 17:57:10.587 +03:00 [DBG] Connection id "0HNC5JEKHR2VT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:57:10.591 +03:00 [DBG] The connection queue processing loop for 0HNC5JEKHR2VT completed.
2025-04-27 17:57:10.592 +03:00 [DBG] Connection id "0HNC5JEKHR2VT" stopped.
2025-04-27 17:57:31.143 +03:00 [DBG] Connection id "0HNC5JEKHR2VU" accepted.
2025-04-27 17:57:31.149 +03:00 [DBG] Connection id "0HNC5JEKHR2VU" started.
2025-04-27 17:57:31.152 +03:00 [DBG] Connection 0HNC5JEKHR2VU established using the following protocol: "Tls12"
2025-04-27 17:57:31.155 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:49464/api/User - application/json 75
2025-04-27 17:57:31.159 +03:00 [DBG] PUT requests are not supported
2025-04-27 17:57:31.163 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User'
2025-04-27 17:57:31.167 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)' with route pattern 'api/User' is valid for the request path '/api/User'
2025-04-27 17:57:31.169 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 17:57:31.209 +03:00 [DBG] Successfully validated the token.
2025-04-27 17:57:31.211 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-27 17:57:31.217 +03:00 [DBG] Authorization was successful.
2025-04-27 17:57:31.218 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 17:57:31.225 +03:00 [INF] Route matched with {action = "UpdateCurrency", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateCurrency(Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-04-27 17:57:31.227 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 17:57:31.229 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 17:57:31.231 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 17:57:31.234 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 17:57:31.238 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 17:57:31.241 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 17:57:31.246 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 17:57:31.249 +03:00 [DBG] Attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' ...
2025-04-27 17:57:31.250 +03:00 [DBG] Attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' using the name '' in request data ...
2025-04-27 17:57:31.256 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-27 17:57:31.259 +03:00 [DBG] Connection id "0HNC5JEKHR2VU", Request id "0HNC5JEKHR2VU:00000001": started reading request body.
2025-04-27 17:57:31.261 +03:00 [DBG] Connection id "0HNC5JEKHR2VU", Request id "0HNC5JEKHR2VU:00000001": done reading request body.
2025-04-27 17:57:31.264 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'
2025-04-27 17:57:31.266 +03:00 [DBG] Done attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 17:57:31.272 +03:00 [DBG] Done attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 17:57:31.279 +03:00 [DBG] Attempting to validate the bound parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' ...
2025-04-27 17:57:31.285 +03:00 [DBG] Done attempting to validate the bound parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 17:57:31.324 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 17:57:31.332 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __userId_0)'
2025-04-27 17:57:31.347 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__userId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__userId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Salt>k__BackingField = dataReader.GetString(5);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-27 17:57:31.357 +03:00 [DBG] Creating DbConnection.
2025-04-27 17:57:31.359 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-27 17:57:31.360 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:31.363 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:31.364 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:57:31.366 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:57:31.370 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-27 17:57:31.375 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:57:31.381 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:57:31.388 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:57:31.392 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:31.394 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 6ms reading results.
2025-04-27 17:57:31.396 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:31.398 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 17:57:31.408 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __id_0)'
2025-04-27 17:57:31.417 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Salt (string) Required MaxLength(30), 5], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 6], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 7] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Salt>k__BackingField = dataReader.GetString(5);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-27 17:57:31.427 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:31.429 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:31.430 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:57:31.431 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:57:31.432 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 17:57:31.434 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__id_0
2025-04-27 17:57:31.440 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__id_0
2025-04-27 17:57:31.443 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:31.445 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-04-27 17:57:31.446 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:31.448 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 17:57:31.449 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:57:31.450 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:57:31.453 +03:00 [DBG] The unchanged property 'User.SecondaryCurrency1' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:57:31.455 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:57:31.459 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:57:31.462 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:31.464 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:31.466 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:57:31.467 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:57:31.471 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-27 17:57:31.473 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [secondary_currency_1] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-04-27 17:57:31.848 +03:00 [INF] Executed DbCommand (375ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [secondary_currency_1] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-04-27 17:57:31.859 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:31.862 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-04-27 17:57:31.867 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:31.873 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (5ms).
2025-04-27 17:57:31.877 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:57:31.881 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-27 17:57:31.888 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-27 17:57:31.890 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend) in 649.4882ms
2025-04-27 17:57:31.892 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 17:57:31.894 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 17:57:31.900 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:31.905 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-04-27 17:57:31.909 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:49464/api/User - 204 null null 753.2544ms
2025-04-27 17:57:39.107 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:49464/api/User - application/json 75
2025-04-27 17:57:39.136 +03:00 [DBG] PUT requests are not supported
2025-04-27 17:57:39.139 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User'
2025-04-27 17:57:39.146 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)' with route pattern 'api/User' is valid for the request path '/api/User'
2025-04-27 17:57:39.148 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 17:57:39.153 +03:00 [DBG] Successfully validated the token.
2025-04-27 17:57:39.154 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-27 17:57:39.156 +03:00 [DBG] Authorization was successful.
2025-04-27 17:57:39.162 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 17:57:39.164 +03:00 [INF] Route matched with {action = "UpdateCurrency", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateCurrency(Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-04-27 17:57:39.166 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 17:57:39.168 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 17:57:39.169 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 17:57:39.172 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 17:57:39.174 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 17:57:39.177 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 17:57:39.179 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 17:57:39.181 +03:00 [DBG] Attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' ...
2025-04-27 17:57:39.183 +03:00 [DBG] Attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' using the name '' in request data ...
2025-04-27 17:57:39.184 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-27 17:57:39.186 +03:00 [DBG] Connection id "0HNC5JEKHR2VU", Request id "0HNC5JEKHR2VU:00000003": started reading request body.
2025-04-27 17:57:39.187 +03:00 [DBG] Connection id "0HNC5JEKHR2VU", Request id "0HNC5JEKHR2VU:00000003": done reading request body.
2025-04-27 17:57:39.188 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'
2025-04-27 17:57:39.191 +03:00 [DBG] Done attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 17:57:39.194 +03:00 [DBG] Done attempting to bind parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 17:57:39.196 +03:00 [DBG] Attempting to validate the bound parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO' ...
2025-04-27 17:57:39.197 +03:00 [DBG] Done attempting to validate the bound parameter 'currencyQueryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UpdateUserCurrencyQueryDTO'.
2025-04-27 17:57:39.200 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 17:57:39.203 +03:00 [DBG] Creating DbConnection.
2025-04-27 17:57:39.204 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-27 17:57:39.206 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:39.208 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:39.215 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:57:39.217 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-27 17:57:39.219 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-27 17:57:39.222 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:57:39.229 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:57:39.232 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:57:39.234 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:39.236 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-04-27 17:57:39.239 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:39.241 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 17:57:39.245 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:39.247 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:39.249 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:57:39.251 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:57:39.253 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-27 17:57:39.255 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__id_0
2025-04-27 17:57:39.261 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__id_0
2025-04-27 17:57:39.265 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:39.267 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-27 17:57:39.270 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:39.271 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 17:57:39.274 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:57:39.278 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:57:39.280 +03:00 [DBG] The unchanged property 'User.SecondaryCurrency2' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:57:39.281 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:57:39.286 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:57:39.288 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:39.290 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:39.292 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:57:39.296 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-04-27 17:57:39.299 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-27 17:57:39.301 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [secondary_currency_2] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-04-27 17:57:39.346 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [secondary_currency_2] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-04-27 17:57:39.351 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:39.353 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-27 17:57:39.355 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:39.357 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 17:57:39.360 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:57:39.363 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-27 17:57:39.367 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-27 17:57:39.368 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend) in 191.6825ms
2025-04-27 17:57:39.370 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.UpdateCurrency (Finance_Manager_Backend)'
2025-04-27 17:57:39.371 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 17:57:39.372 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:39.377 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-04-27 17:57:39.382 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:49464/api/User - 204 null null 274.8998ms
2025-04-27 17:57:40.614 +03:00 [DBG] Connection id "0HNC5JEKHR2VU" received FIN.
2025-04-27 17:57:40.619 +03:00 [DBG] Connection id "0HNC5JEKHR2VU" is closed. The last processed stream ID was 3.
2025-04-27 17:57:40.619 +03:00 [DBG] The connection queue processing loop for 0HNC5JEKHR2VU completed.
2025-04-27 17:57:40.621 +03:00 [DBG] Connection id "0HNC5JEKHR2VU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:57:40.633 +03:00 [DBG] Connection id "0HNC5JEKHR2VU" stopped.
2025-04-27 17:57:47.337 +03:00 [DBG] Connection id "0HNC5JEKHR2VV" accepted.
2025-04-27 17:57:47.343 +03:00 [DBG] Connection id "0HNC5JEKHR2VV" started.
2025-04-27 17:57:47.346 +03:00 [DBG] Connection 0HNC5JEKHR2VV established using the following protocol: "Tls12"
2025-04-27 17:57:47.353 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/User/63 - null null
2025-04-27 17:57:47.356 +03:00 [DBG] The request path  does not match the path filter
2025-04-27 17:57:47.357 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/63'
2025-04-27 17:57:47.358 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/63'
2025-04-27 17:57:47.360 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 17:57:47.361 +03:00 [DBG] Successfully validated the token.
2025-04-27 17:57:47.362 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-27 17:57:47.363 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 17:57:47.370 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-04-27 17:57:47.372 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 17:57:47.373 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 17:57:47.375 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 17:57:47.377 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 17:57:47.378 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 17:57:47.380 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 17:57:47.385 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 17:57:47.386 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-27 17:57:47.388 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-27 17:57:47.390 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-27 17:57:47.391 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-27 17:57:47.393 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-27 17:57:47.394 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-27 17:57:47.398 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 17:57:47.401 +03:00 [DBG] Creating DbConnection.
2025-04-27 17:57:47.402 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-27 17:57:47.403 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:47.405 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:47.406 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:57:47.407 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:57:47.408 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 17:57:47.410 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:57:47.414 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:57:47.418 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:57:47.419 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:47.420 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-27 17:57:47.422 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:47.423 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 17:57:47.429 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/fc359277c02189baaea0133c/pair/USD/EUR
2025-04-27 17:57:47.434 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/fc359277c02189baaea0133c/pair/USD/EUR
2025-04-27 17:57:47.668 +03:00 [INF] Received HTTP response headers after 231.0536ms - 200
2025-04-27 17:57:47.670 +03:00 [INF] End processing HTTP request after 242.4087ms - 200
2025-04-27 17:57:47.678 +03:00 [INF] Start processing HTTP request GET https://v6.exchangerate-api.com/v6/fc359277c02189baaea0133c/pair/USD/UAH
2025-04-27 17:57:47.679 +03:00 [INF] Sending HTTP request GET https://v6.exchangerate-api.com/v6/fc359277c02189baaea0133c/pair/USD/UAH
2025-04-27 17:57:47.830 +03:00 [INF] Received HTTP response headers after 149.5162ms - 200
2025-04-27 17:57:47.852 +03:00 [INF] End processing HTTP request after 174.0862ms - 200
2025-04-27 17:57:47.858 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-27 17:57:47.861 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-27 17:57:47.863 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-27 17:57:47.865 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-27 17:57:47.868 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-27 17:57:47.870 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-27 17:57:47.874 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-04-27 17:57:47.878 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 497.7929ms
2025-04-27 17:57:47.880 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 17:57:47.883 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 17:57:47.890 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:57:47.892 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-27 17:57:47.895 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/User/63 - 200 null application/json; charset=utf-8 542.0256ms
2025-04-27 17:57:50.631 +03:00 [DBG] Connection id "0HNC5JEKHR2VV" received FIN.
2025-04-27 17:57:50.634 +03:00 [DBG] Connection id "0HNC5JEKHR2VV" is closed. The last processed stream ID was 1.
2025-04-27 17:57:50.635 +03:00 [DBG] The connection queue processing loop for 0HNC5JEKHR2VV completed.
2025-04-27 17:57:50.637 +03:00 [DBG] Connection id "0HNC5JEKHR2VV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:57:50.648 +03:00 [DBG] Connection id "0HNC5JEKHR2VV" stopped.
2025-04-27 17:59:05.104 +03:00 [DBG] Connection id "0HNC5JEKHR300" accepted.
2025-04-27 17:59:05.107 +03:00 [DBG] Connection id "0HNC5JEKHR300" started.
2025-04-27 17:59:05.110 +03:00 [DBG] Connection 0HNC5JEKHR300 established using the following protocol: "Tls12"
2025-04-27 17:59:05.114 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/Categories - null null
2025-04-27 17:59:05.124 +03:00 [DBG] The request path  does not match the path filter
2025-04-27 17:59:05.125 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Categories'
2025-04-27 17:59:05.126 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)' with route pattern 'api/Categories' is valid for the request path '/api/Categories'
2025-04-27 17:59:05.131 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-04-27 17:59:05.132 +03:00 [DBG] Successfully validated the token.
2025-04-27 17:59:05.133 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-27 17:59:05.134 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-04-27 17:59:05.139 +03:00 [INF] Route matched with {action = "GetAllCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO]]] GetAllCategories() on controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend).
2025-04-27 17:59:05.141 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 17:59:05.143 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 17:59:05.147 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 17:59:05.151 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 17:59:05.155 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 17:59:05.157 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-04-27 17:59:05.159 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-04-27 17:59:05.166 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 17:59:05.169 +03:00 [DBG] Compiling query expression: 
'DbSet<Category>()'
2025-04-27 17:59:05.175 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Category>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Category entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Category instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Category);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Category)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                        {
                            return 
                            {
                                Category instance;
                                instance = new Category();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                                instance.<Icon>k__BackingField = dataReader.GetString(2);
                                instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                                instance.<Name>k__BackingField = dataReader.GetString(4);
                                instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Category)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-27 17:59:05.179 +03:00 [DBG] Creating DbConnection.
2025-04-27 17:59:05.180 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-27 17:59:05.182 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:59:05.183 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:59:05.185 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:59:05.187 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:59:05.189 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-27 17:59:05.190 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-27 17:59:05.194 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-27 17:59:05.197 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:59:05.199 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:59:05.201 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:59:05.202 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:59:05.204 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:59:05.205 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:59:05.206 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 9ms reading results.
2025-04-27 17:59:05.208 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:59:05.209 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 17:59:05.220 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-27 17:59:05.223 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-27 17:59:05.224 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-27 17:59:05.226 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-27 17:59:05.227 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-27 17:59:05.228 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-27 17:59:05.230 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-27 17:59:05.238 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend) in 80.7975ms
2025-04-27 17:59:05.240 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-04-27 17:59:05.241 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 17:59:05.245 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:59:05.247 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-27 17:59:05.249 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/Categories - 200 null application/json; charset=utf-8 134.7902ms
2025-04-27 17:59:10.731 +03:00 [DBG] Connection id "0HNC5JEKHR300" received FIN.
2025-04-27 17:59:10.734 +03:00 [DBG] The connection queue processing loop for 0HNC5JEKHR300 completed.
2025-04-27 17:59:10.734 +03:00 [DBG] Connection id "0HNC5JEKHR300" is closed. The last processed stream ID was 1.
2025-04-27 17:59:10.739 +03:00 [DBG] Connection id "0HNC5JEKHR300" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:59:10.743 +03:00 [DBG] Connection id "0HNC5JEKHR300" stopped.
2025-04-27 17:59:31.255 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'CurrencyConverterService'
2025-04-27 17:59:35.046 +03:00 [DBG] Connection id "0HNC5JEKHR301" accepted.
2025-04-27 17:59:35.049 +03:00 [DBG] Connection id "0HNC5JEKHR301" started.
2025-04-27 17:59:35.082 +03:00 [DBG] Connection 0HNC5JEKHR301 established using the following protocol: "Tls12"
2025-04-27 17:59:35.095 +03:00 [INF] Request starting HTTP/2 POST https://localhost:49464/api/Transactions - application/json 149
2025-04-27 17:59:35.098 +03:00 [DBG] POST requests are not supported
2025-04-27 17:59:35.099 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions'
2025-04-27 17:59:35.101 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Create (Finance_Manager_Backend)' with route pattern 'api/Transactions' is valid for the request path '/api/Transactions'
2025-04-27 17:59:35.105 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Create (Finance_Manager_Backend)'
2025-04-27 17:59:35.107 +03:00 [DBG] Successfully validated the token.
2025-04-27 17:59:35.108 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-27 17:59:35.111 +03:00 [DBG] Authorization was successful.
2025-04-27 17:59:35.112 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Create (Finance_Manager_Backend)'
2025-04-27 17:59:35.116 +03:00 [INF] Route matched with {action = "Create", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-04-27 17:59:35.120 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 17:59:35.122 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 17:59:35.124 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 17:59:35.126 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 17:59:35.128 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 17:59:35.129 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-27 17:59:35.132 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-27 17:59:35.133 +03:00 [DBG] Attempting to bind parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO' ...
2025-04-27 17:59:35.136 +03:00 [DBG] Attempting to bind parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO' using the name '' in request data ...
2025-04-27 17:59:35.138 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-27 17:59:35.142 +03:00 [DBG] Connection id "0HNC5JEKHR301", Request id "0HNC5JEKHR301:00000001": started reading request body.
2025-04-27 17:59:35.144 +03:00 [DBG] Connection id "0HNC5JEKHR301", Request id "0HNC5JEKHR301:00000001": done reading request body.
2025-04-27 17:59:35.148 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO'
2025-04-27 17:59:35.150 +03:00 [DBG] Done attempting to bind parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO'.
2025-04-27 17:59:35.151 +03:00 [DBG] Done attempting to bind parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO'.
2025-04-27 17:59:35.154 +03:00 [DBG] Attempting to validate the bound parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO' ...
2025-04-27 17:59:35.158 +03:00 [DBG] Done attempting to validate the bound parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO'.
2025-04-27 17:59:35.193 +03:00 [INF] Executing CreateTransactionAsync method.
2025-04-27 17:59:35.196 +03:00 [INF] Start ExecuteTransactionAsync method.
2025-04-27 17:59:35.244 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 17:59:35.290 +03:00 [DBG] Creating DbConnection.
2025-04-27 17:59:35.291 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-27 17:59:35.292 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:59:35.294 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:59:35.295 +03:00 [DBG] Beginning transaction with isolation level 'ReadCommitted'.
2025-04-27 17:59:35.297 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-27 17:59:35.298 +03:00 [DBG] Start db transaction.
2025-04-27 17:59:35.300 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:59:35.301 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:59:35.304 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-27 17:59:35.306 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:59:35.310 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:59:35.312 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:59:35.314 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:59:35.315 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-27 17:59:35.321 +03:00 [DBG] Compiling query expression: 
'DbSet<Category>()
    .FirstOrDefault(t => t.Id == __categoryId_0)'
2025-04-27 17:59:35.328 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Category>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Category>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
            SELECT TOP(1) c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
            FROM categories AS c
            WHERE c.id == @__categoryId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
            SELECT TOP(1) c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
            FROM categories AS c
            WHERE c.id == @__categoryId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Category entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Category instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Category);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Category)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                            {
                                return 
                                {
                                    Category instance;
                                    instance = new Category();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                                    instance.<Icon>k__BackingField = dataReader.GetString(2);
                                    instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                                    instance.<Name>k__BackingField = dataReader.GetString(4);
                                    instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Category)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-27 17:59:35.331 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:59:35.332 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:59:35.334 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 17:59:35.337 +03:00 [DBG] Executing DbCommand [Parameters=[@__categoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
WHERE [c].[id] = @__categoryId_0
2025-04-27 17:59:35.356 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__categoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
WHERE [c].[id] = @__categoryId_0
2025-04-27 17:59:35.359 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:59:35.360 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:59:35.362 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-27 17:59:35.364 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:59:35.367 +03:00 [DBG] The navigation 'Transaction.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:59:35.374 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:59:35.375 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:59:35.376 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:59:35.378 +03:00 [DBG] The unchanged property 'User.Balance' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:59:35.379 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:59:35.381 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:59:35.383 +03:00 [DBG] Executing 2 update commands as a batch.
2025-04-27 17:59:35.387 +03:00 [DBG] Creating transaction savepoint.
2025-04-27 17:59:35.426 +03:00 [DBG] Created transaction savepoint.
2025-04-27 17:59:35.427 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:59:35.428 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:59:35.429 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-27 17:59:35.430 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (Precision = 12) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [transactions] ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [users] SET [balance] = @p6
OUTPUT 1
WHERE [id] = @p7;
2025-04-27 17:59:35.441 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (Precision = 12) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [transactions] ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [users] SET [balance] = @p6
OUTPUT 1
WHERE [id] = @p7;
2025-04-27 17:59:35.444 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-27 17:59:35.445 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:59:35.447 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-27 17:59:35.448 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:59:35.450 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:59:35.454 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2025-04-27 17:59:35.456 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-27 17:59:35.458 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-27 17:59:35.459 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-27 17:59:35.460 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 0 entities written to the database.
2025-04-27 17:59:35.461 +03:00 [DBG] Committing transaction.
2025-04-27 17:59:35.493 +03:00 [DBG] Committed transaction.
2025-04-27 17:59:35.494 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:59:35.495 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 17:59:35.497 +03:00 [INF] Transaction successful.
2025-04-27 17:59:35.499 +03:00 [DBG] Disposing transaction.
2025-04-27 17:59:35.502 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-27 17:59:35.507 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-27 17:59:35.509 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-27 17:59:35.511 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-27 17:59:35.512 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-27 17:59:35.513 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-27 17:59:35.514 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Int32'.
2025-04-27 17:59:35.541 +03:00 [DBG] Found the endpoints ["Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)"] for address (id=[871],action=[GetById],controller=[Transactions])
2025-04-27 17:59:35.547 +03:00 [DBG] Successfully processed template api/Transactions/{id} for Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend) resulting in /api/Transactions/871 and 
2025-04-27 17:59:35.554 +03:00 [DBG] Link generation succeeded for endpoints ["Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)"] with result /api/Transactions/871
2025-04-27 17:59:35.564 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.Create (Finance_Manager_Backend) in 434.6806ms
2025-04-27 17:59:35.573 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Create (Finance_Manager_Backend)'
2025-04-27 17:59:35.575 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 17:59:35.582 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:59:35.594 +03:00 [DBG] Disposed connection to database '' on server '' (12ms).
2025-04-27 17:59:35.606 +03:00 [INF] Request finished HTTP/2 POST https://localhost:49464/api/Transactions - 201 null application/json; charset=utf-8 511.5839ms
2025-04-27 17:59:40.783 +03:00 [DBG] Connection id "0HNC5JEKHR301" received FIN.
2025-04-27 17:59:40.788 +03:00 [DBG] The connection queue processing loop for 0HNC5JEKHR301 completed.
2025-04-27 17:59:40.788 +03:00 [DBG] Connection id "0HNC5JEKHR301" is closed. The last processed stream ID was 1.
2025-04-27 17:59:40.791 +03:00 [DBG] Connection id "0HNC5JEKHR301" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:59:40.803 +03:00 [DBG] Connection id "0HNC5JEKHR301" stopped.
2025-04-27 17:59:41.259 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:59:41.262 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0259ms - processed: 0 items - remaining: 1 items
2025-04-27 17:59:48.819 +03:00 [DBG] Connection id "0HNC5JEKHR302" accepted.
2025-04-27 17:59:48.861 +03:00 [DBG] Connection id "0HNC5JEKHR302" started.
2025-04-27 17:59:48.869 +03:00 [DBG] Connection 0HNC5JEKHR302 established using the following protocol: "Tls12"
2025-04-27 17:59:48.874 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/User/63 - null null
2025-04-27 17:59:48.889 +03:00 [DBG] The request path  does not match the path filter
2025-04-27 17:59:48.894 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/63'
2025-04-27 17:59:48.902 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/63'
2025-04-27 17:59:48.908 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 17:59:48.912 +03:00 [DBG] Successfully validated the token.
2025-04-27 17:59:48.922 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-27 17:59:48.928 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 17:59:48.958 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-04-27 17:59:48.961 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 17:59:48.967 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 17:59:48.971 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 17:59:48.974 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 17:59:48.977 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 17:59:48.979 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 17:59:48.983 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 17:59:48.988 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-27 17:59:48.990 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-27 17:59:48.992 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-27 17:59:48.994 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-27 17:59:48.996 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-27 17:59:48.999 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-27 17:59:49.006 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 17:59:49.008 +03:00 [DBG] Creating DbConnection.
2025-04-27 17:59:49.010 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-27 17:59:49.011 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:59:49.013 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:59:49.016 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 17:59:49.017 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 17:59:49.020 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-27 17:59:49.021 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:59:49.026 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 17:59:49.028 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 17:59:49.029 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:59:49.032 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-04-27 17:59:49.034 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:59:49.036 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 17:59:49.038 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-27 17:59:49.041 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-27 17:59:49.042 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-27 17:59:49.043 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-27 17:59:49.044 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-27 17:59:49.045 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-27 17:59:49.048 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-04-27 17:59:49.050 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 71.3479ms
2025-04-27 17:59:49.054 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 17:59:49.055 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 17:59:49.057 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 17:59:49.060 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-27 17:59:49.062 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/User/63 - 200 null application/json; charset=utf-8 187.526ms
2025-04-27 17:59:50.794 +03:00 [DBG] Connection id "0HNC5JEKHR302" received FIN.
2025-04-27 17:59:50.798 +03:00 [DBG] Connection id "0HNC5JEKHR302" is closed. The last processed stream ID was 1.
2025-04-27 17:59:50.798 +03:00 [DBG] The connection queue processing loop for 0HNC5JEKHR302 completed.
2025-04-27 17:59:50.800 +03:00 [DBG] Connection id "0HNC5JEKHR302" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 17:59:50.809 +03:00 [DBG] Connection id "0HNC5JEKHR302" stopped.
2025-04-27 17:59:51.277 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 17:59:51.278 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
2025-04-27 18:00:01.292 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 18:00:01.293 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
2025-04-27 18:00:11.299 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 18:00:11.302 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 1 items
2025-04-27 18:00:21.317 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 18:00:21.318 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 1 items
2025-04-27 18:00:31.324 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 18:00:31.325 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1073ms - processed: 0 items - remaining: 1 items
2025-04-27 18:00:41.329 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 18:00:41.331 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 1 items
2025-04-27 18:00:46.444 +03:00 [DBG] Connection id "0HNC5JEKHR303" accepted.
2025-04-27 18:00:46.450 +03:00 [DBG] Connection id "0HNC5JEKHR303" started.
2025-04-27 18:00:46.461 +03:00 [DBG] Connection 0HNC5JEKHR303 established using the following protocol: "Tls12"
2025-04-27 18:00:46.506 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/Transactions/871 - null null
2025-04-27 18:00:46.518 +03:00 [DBG] The request path  does not match the path filter
2025-04-27 18:00:46.519 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions/871'
2025-04-27 18:00:46.521 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)' with route pattern 'api/Transactions/{id}' is valid for the request path '/api/Transactions/871'
2025-04-27 18:00:46.522 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)'
2025-04-27 18:00:46.524 +03:00 [DBG] Successfully validated the token.
2025-04-27 18:00:46.525 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-27 18:00:46.529 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)'
2025-04-27 18:00:46.534 +03:00 [INF] Route matched with {action = "GetById", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO]] GetById(Int32) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-04-27 18:00:46.536 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 18:00:46.538 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 18:00:46.540 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 18:00:46.544 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 18:00:46.547 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 18:00:46.549 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-27 18:00:46.551 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-27 18:00:46.552 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-27 18:00:46.554 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-27 18:00:46.556 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-27 18:00:46.557 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-27 18:00:46.558 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-27 18:00:46.565 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-27 18:00:46.568 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 18:00:46.571 +03:00 [DBG] Compiling query expression: 
'DbSet<Transaction>()
    .FirstOrDefault(t => t.Id == __transactionId_0)'
2025-04-27 18:00:46.579 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Transaction>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Transaction>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Transaction.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Transaction.CategoryId (int) Required FK Index, 1], [Property: Transaction.Date (DateTime) Required, 2], [Property: Transaction.InnerCategoryId (int?) FK Index, 3], [Property: Transaction.Name (string) Required MaxLength(50), 4], [Property: Transaction.Price (decimal) Required, 5], [Property: Transaction.UserId (int) Required FK Index, 6] }
            SELECT TOP(1) t.id, t.category_fk, t.date, t.inner_category_fk, t.name, t.price, t.user_fk
            FROM transactions AS t
            WHERE t.id == @__transactionId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Transaction.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Transaction.CategoryId (int) Required FK Index, 1], [Property: Transaction.Date (DateTime) Required, 2], [Property: Transaction.InnerCategoryId (int?) FK Index, 3], [Property: Transaction.Name (string) Required MaxLength(50), 4], [Property: Transaction.Price (decimal) Required, 5], [Property: Transaction.UserId (int) Required FK Index, 6] }
            SELECT TOP(1) t.id, t.category_fk, t.date, t.inner_category_fk, t.name, t.price, t.user_fk
            FROM transactions AS t
            WHERE t.id == @__transactionId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Transaction entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Transaction instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Transaction);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Transaction.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Transaction)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")]: 
                            {
                                return 
                                {
                                    Transaction instance;
                                    instance = new Transaction();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CategoryId>k__BackingField = dataReader.GetInt32(1);
                                    instance.<Date>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<InnerCategoryId>k__BackingField = dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3);
                                    instance.<Name>k__BackingField = dataReader.GetString(4);
                                    instance.<Price>k__BackingField = dataReader.GetDecimal(5);
                                    instance.<UserId>k__BackingField = dataReader.GetInt32(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Transaction)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-27 18:00:46.588 +03:00 [DBG] Creating DbConnection.
2025-04-27 18:00:46.589 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-27 18:00:46.591 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 18:00:46.596 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 18:00:46.599 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 18:00:46.600 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 18:00:46.603 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-27 18:00:46.604 +03:00 [DBG] Executing DbCommand [Parameters=[@__transactionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[id] = @__transactionId_0
2025-04-27 18:00:46.984 +03:00 [INF] Executed DbCommand (380ms) [Parameters=[@__transactionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[id] = @__transactionId_0
2025-04-27 18:00:46.987 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 18:00:46.989 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 18:00:46.990 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-04-27 18:00:46.992 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 18:00:46.994 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-27 18:00:46.997 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-27 18:00:47.002 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-27 18:00:47.004 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-27 18:00:47.006 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-27 18:00:47.007 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-27 18:00:47.008 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-27 18:00:47.011 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO'.
2025-04-27 18:00:47.016 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend) in 467.6127ms
2025-04-27 18:00:47.020 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)'
2025-04-27 18:00:47.022 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 18:00:47.026 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 18:00:47.036 +03:00 [DBG] Disposed connection to database '' on server '' (10ms).
2025-04-27 18:00:47.041 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/Transactions/871 - 200 null application/json; charset=utf-8 534.9683ms
2025-04-27 18:00:50.888 +03:00 [DBG] Connection id "0HNC5JEKHR303" received FIN.
2025-04-27 18:00:50.891 +03:00 [DBG] Connection id "0HNC5JEKHR303" is closed. The last processed stream ID was 1.
2025-04-27 18:00:50.891 +03:00 [DBG] The connection queue processing loop for 0HNC5JEKHR303 completed.
2025-04-27 18:00:50.894 +03:00 [DBG] Connection id "0HNC5JEKHR303" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 18:00:50.903 +03:00 [DBG] Connection id "0HNC5JEKHR303" stopped.
2025-04-27 18:00:51.339 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 18:00:51.340 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 1 items
2025-04-27 18:01:01.343 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 18:01:01.345 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 1 items
2025-04-27 18:01:07.545 +03:00 [DBG] Connection id "0HNC5JEKHR304" accepted.
2025-04-27 18:01:07.584 +03:00 [DBG] Connection id "0HNC5JEKHR304" started.
2025-04-27 18:01:07.592 +03:00 [DBG] Connection 0HNC5JEKHR304 established using the following protocol: "Tls12"
2025-04-27 18:01:07.596 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/User/63 - null null
2025-04-27 18:01:07.601 +03:00 [DBG] The request path  does not match the path filter
2025-04-27 18:01:07.603 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/63'
2025-04-27 18:01:07.605 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/63'
2025-04-27 18:01:07.608 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 18:01:07.609 +03:00 [DBG] Successfully validated the token.
2025-04-27 18:01:07.612 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-27 18:01:07.613 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 18:01:07.615 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-04-27 18:01:07.616 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-27 18:01:07.618 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-27 18:01:07.620 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-04-27 18:01:07.623 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-27 18:01:07.630 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-27 18:01:07.634 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 18:01:07.638 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-04-27 18:01:07.647 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-27 18:01:07.650 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-27 18:01:07.651 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-27 18:01:07.653 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-27 18:01:07.655 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-27 18:01:07.657 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-27 18:01:07.659 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-27 18:01:07.665 +03:00 [DBG] Creating DbConnection.
2025-04-27 18:01:07.667 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-27 18:01:07.668 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 18:01:07.670 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 18:01:07.672 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-27 18:01:07.674 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-27 18:01:07.676 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-27 18:01:07.680 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 18:01:07.687 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-27 18:01:07.699 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-27 18:01:07.703 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-27 18:01:07.708 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 8ms reading results.
2025-04-27 18:01:07.715 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 18:01:07.718 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-27 18:01:07.721 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-27 18:01:07.730 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-27 18:01:07.733 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-27 18:01:07.736 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-27 18:01:07.740 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-27 18:01:07.747 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-27 18:01:07.749 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-04-27 18:01:07.752 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 117.6915ms
2025-04-27 18:01:07.759 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-04-27 18:01:07.762 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-27 18:01:07.767 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-27 18:01:07.778 +03:00 [DBG] Disposed connection to database '' on server '' (10ms).
2025-04-27 18:01:07.782 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/User/63 - 200 null application/json; charset=utf-8 185.3804ms
2025-04-27 18:01:10.918 +03:00 [DBG] Connection id "0HNC5JEKHR304" received FIN.
2025-04-27 18:01:10.922 +03:00 [DBG] Connection id "0HNC5JEKHR304" is closed. The last processed stream ID was 1.
2025-04-27 18:01:10.922 +03:00 [DBG] The connection queue processing loop for 0HNC5JEKHR304 completed.
2025-04-27 18:01:10.924 +03:00 [DBG] Connection id "0HNC5JEKHR304" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-27 18:01:10.930 +03:00 [DBG] Connection id "0HNC5JEKHR304" stopped.
2025-04-27 18:01:11.353 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 18:01:11.354 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 1 items
2025-04-27 18:01:21.363 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-04-27 18:01:21.364 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 1 items
