2025-04-20 16:39:51.132 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-20 16:39:52.780 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:39:52.891 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()'
2025-04-20 16:39:53.272 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.salt
        FROM users AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.salt
        FROM users AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                instance.<Email>k__BackingField = dataReader.GetString(2);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                instance.<Salt>k__BackingField = dataReader.GetString(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-20 16:39:53.320 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:39:53.359 +03:00 [DBG] Created DbConnection. (36ms).
2025-04-20 16:39:53.365 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:54.072 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:54.079 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:39:54.088 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-04-20 16:39:54.092 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-04-20 16:39:54.106 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
2025-04-20 16:39:55.753 +03:00 [INF] Executed DbCommand (1,647ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
2025-04-20 16:39:55.864 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:56.485 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:56.562 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:56.572 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 765ms reading results.
2025-04-20 16:39:56.576 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:56.584 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (8ms).
2025-04-20 16:39:56.591 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 16:39:56.595 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 16:39:56.625 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 16:39:57.390 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:57.421 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:57.429 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:39:57.431 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:39:57.436 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-04-20 16:39:57.444 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-20 16:39:57.723 +03:00 [INF] Executed DbCommand (283ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-20 16:39:57.736 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:57.741 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 15ms reading results.
2025-04-20 16:39:57.746 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:57.748 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:39:57.754 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:57.759 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-20 16:39:57.762 +03:00 [DBG] Compiling query expression: 
'DbSet<Category>()'
2025-04-20 16:39:57.840 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Category>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Category entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Category instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Category);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Category)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                        {
                            return 
                            {
                                Category instance;
                                instance = new Category();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                                instance.<Icon>k__BackingField = dataReader.GetString(2);
                                instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                                instance.<Name>k__BackingField = dataReader.GetString(4);
                                instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Category)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-20 16:39:57.845 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:57.847 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:57.849 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:39:57.850 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:39:57.852 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 16:39:57.854 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-20 16:39:57.946 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-20 16:39:57.979 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:57.991 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:57.994 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:57.995 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:57.997 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:57.998 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:58.000 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:58.002 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:58.006 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:58.007 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:58.009 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:58.010 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 61ms reading results.
2025-04-20 16:39:58.012 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:58.014 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:39:58.015 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 16:39:58.016 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 16:39:58.029 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 16:39:58.034 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-20 16:39:58.037 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:58.040 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:58.043 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-04-20 16:39:58.057 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-20 16:39:58.059 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:39:58.060 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:39:58.063 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 16:39:58.064 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-20 16:39:58.179 +03:00 [INF] Executed DbCommand (114ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-20 16:39:58.183 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:58.185 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-20 16:39:58.190 +03:00 [DBG] Committing transaction.
2025-04-20 16:39:58.196 +03:00 [DBG] Committed transaction.
2025-04-20 16:39:58.198 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:58.200 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:39:58.204 +03:00 [DBG] Disposing transaction.
2025-04-20 16:39:58.206 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:58.212 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:58.214 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:58.216 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:58.218 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:58.221 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-20 16:39:58.225 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:39:58.228 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:58.231 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-20 16:39:58.522 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:39:58.541 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Email == __email_0)'
2025-04-20 16:39:58.726 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.email == @__email_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.email == @__email_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<Salt>k__BackingField = dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-20 16:39:58.745 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:39:58.746 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-20 16:39:58.747 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:58.748 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:58.750 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:39:58.752 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:39:58.754 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 16:39:58.755 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-20 16:39:58.798 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-20 16:39:58.804 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:58.806 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 5ms reading results.
2025-04-20 16:39:58.808 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:58.809 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:39:58.854 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:58.865 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:58.867 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 16:39:58.868 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 16:39:58.870 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 16:39:58.911 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:58.913 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:58.914 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:39:58.916 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:39:58.918 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 16:39:58.920 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3);
2025-04-20 16:39:58.949 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3);
2025-04-20 16:39:58.962 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:58.968 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:58.970 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 17ms reading results.
2025-04-20 16:39:58.973 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:58.974 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:39:58.980 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:58.983 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-20 16:39:59.345 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __userDTO_Id_0)'
2025-04-20 16:39:59.356 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<Salt>k__BackingField = dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-20 16:39:59.365 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:59.369 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:59.375 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:39:59.376 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:39:59.378 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 16:39:59.380 +03:00 [DBG] Executing DbCommand [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-20 16:39:59.443 +03:00 [INF] Executed DbCommand (63ms) [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-20 16:39:59.447 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:59.449 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-20 16:39:59.451 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:59.453 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:39:59.463 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.466 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.469 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.471 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.473 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.476 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.477 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.479 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.481 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.484 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.486 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 16:39:59.487 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 16:39:59.491 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 16:39:59.496 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-20 16:39:59.499 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:59.501 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:59.503 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:39:59.504 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:39:59.505 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:39:59.508 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-20 16:39:59.536 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-20 16:39:59.540 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.543 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.548 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.550 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.551 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.553 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:59.554 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 15ms reading results.
2025-04-20 16:39:59.557 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:59.559 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:39:59.562 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.564 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.566 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.568 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.570 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.572 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-20 16:39:59.578 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.645 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.660 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.662 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.664 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.666 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.668 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.670 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.673 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.675 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.677 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.679 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.681 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.684 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.686 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.688 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.691 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.693 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.695 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.697 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.701 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.704 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.707 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.709 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.711 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.713 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.715 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.718 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.720 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.724 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.726 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.728 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.730 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.733 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.734 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.736 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.738 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.741 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.742 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.744 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.746 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 16:39:59.747 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 16:39:59.753 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 16:39:59.757 +03:00 [DBG] Executing 20 update commands as a batch.
2025-04-20 16:39:59.758 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:59.760 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:59.761 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:39:59.763 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:39:59.766 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-20 16:39:59.768 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-20 16:39:59.836 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-20 16:39:59.843 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.850 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.867 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.869 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.871 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.875 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.878 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.881 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.884 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.887 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.892 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.895 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.898 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.901 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.905 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.913 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.917 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.920 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.926 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.929 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:39:59.932 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:59.935 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 93ms reading results.
2025-04-20 16:39:59.939 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:39:59.944 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (5ms).
2025-04-20 16:39:59.949 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.952 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.955 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.958 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.961 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.964 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.966 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.972 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.979 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.982 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.985 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.988 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.991 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.993 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.996 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:39:59.998 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:00.000 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:00.002 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:00.004 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:00.006 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:00.008 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 20 entities written to the database.
2025-04-20 16:40:00.011 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:00.027 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:00.029 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:00.032 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:00.034 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:00.036 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:00.037 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:00.039 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:00.041 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 16:40:00.043 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 16:40:00.047 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 16:40:00.049 +03:00 [DBG] Executing 4 update commands as a batch.
2025-04-20 16:40:00.051 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:40:00.052 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:40:00.054 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:40:00.055 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:40:00.057 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 16:40:00.058 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-20 16:40:00.124 +03:00 [INF] Executed DbCommand (66ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-20 16:40:00.129 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:40:00.132 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:40:00.134 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:40:00.135 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:40:00.137 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:40:00.143 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 16ms reading results.
2025-04-20 16:40:00.147 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:40:00.148 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:40:00.154 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:00.158 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:00.161 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:00.164 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:00.166 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 4 entities written to the database.
2025-04-20 16:40:00.168 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:40:00.170 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:40:00.172 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-20 16:40:00.432 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-20 16:40:00.545 +03:00 [DBG] Hosting starting
2025-04-20 16:40:00.655 +03:00 [INF] User profile is available. Using 'C:\Users\ebtyx\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-20 16:40:00.681 +03:00 [DBG] Reading data from file 'C:\Users\ebtyx\AppData\Local\ASP.NET\DataProtection-Keys\key-036e1e5f-5347-47d7-8236-0b64ed0a76a1.xml'.
2025-04-20 16:40:00.695 +03:00 [DBG] Found key {036e1e5f-5347-47d7-8236-0b64ed0a76a1}.
2025-04-20 16:40:00.709 +03:00 [DBG] Considering key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} with expiration date 2025-07-16 20:11:06Z as default key.
2025-04-20 16:40:00.714 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-20 16:40:00.716 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-20 16:40:00.719 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-20 16:40:00.730 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-20 16:40:00.738 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-20 16:40:00.750 +03:00 [DBG] Using key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} as the default key.
2025-04-20 16:40:00.752 +03:00 [DBG] Key ring with default key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} was loaded during application startup.
2025-04-20 16:40:00.780 +03:00 [DBG] Middleware loaded
2025-04-20 16:40:00.784 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16531 B).
2025-04-20 16:40:00.786 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-20 16:40:01.372 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-20 16:40:01.652 +03:00 [INF] Now listening on: https://localhost:49464
2025-04-20 16:40:01.653 +03:00 [INF] Now listening on: http://localhost:49465
2025-04-20 16:40:01.655 +03:00 [DBG] Loaded hosting startup assembly Finance_Manager_Backend
2025-04-20 16:40:01.656 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-04-20 16:40:01.656 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-20 16:40:01.658 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-04-20 16:40:01.907 +03:00 [DBG] Connection id "0HNC023CTEBBS" received FIN.
2025-04-20 16:40:01.922 +03:00 [DBG] Connection id "0HNC023CTEBBS" accepted.
2025-04-20 16:40:01.933 +03:00 [DBG] Connection id "0HNC023CTEBBS" started.
2025-04-20 16:40:02.034 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-04-20 16:40:02.049 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-20 16:40:02.366 +03:00 [INF] Hosting environment: Development
2025-04-20 16:40:02.367 +03:00 [DBG] Connection id "0HNC023CTEBBS" stopped.
2025-04-20 16:40:02.380 +03:00 [INF] Content root path: G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend
2025-04-20 16:40:02.384 +03:00 [DBG] Hosting started
2025-04-20 16:40:02.386 +03:00 [DBG] Connection id "0HNC023CTEBBS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:40:33.730 +03:00 [DBG] Connection id "0HNC023CTEBBT" accepted.
2025-04-20 16:40:33.764 +03:00 [DBG] Connection id "0HNC023CTEBBT" started.
2025-04-20 16:40:34.758 +03:00 [DBG] Connection 0HNC023CTEBBT established using the following protocol: "Tls12"
2025-04-20 16:40:35.453 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/_vs/browserLink - null null
2025-04-20 16:40:35.453 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/_framework/aspnetcore-browser-refresh.js - null null
2025-04-20 16:40:35.500 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-20 16:40:35.515 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 118.8649ms
2025-04-20 16:40:36.073 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/_vs/browserLink - 200 null text/javascript; charset=UTF-8 677.8969ms
2025-04-20 16:40:36.276 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/swagger/v1/swagger.json - null null
2025-04-20 16:40:36.290 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-20 16:40:36.425 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 149.6801ms
2025-04-20 16:40:38.448 +03:00 [DBG] Connection id "0HNC023CTEBBT" received FIN.
2025-04-20 16:40:38.459 +03:00 [DBG] Connection id "0HNC023CTEBBT" is closed. The last processed stream ID was 5.
2025-04-20 16:40:38.461 +03:00 [DBG] The connection queue processing loop for 0HNC023CTEBBT completed.
2025-04-20 16:40:38.466 +03:00 [DBG] Connection id "0HNC023CTEBBT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:40:38.473 +03:00 [DBG] Connection id "0HNC023CTEBBT" stopped.
2025-04-20 16:40:47.275 +03:00 [DBG] Connection id "0HNC023CTEBBU" accepted.
2025-04-20 16:40:47.285 +03:00 [DBG] Connection id "0HNC023CTEBBU" started.
2025-04-20 16:40:47.294 +03:00 [DBG] Connection 0HNC023CTEBBU established using the following protocol: "Tls12"
2025-04-20 16:40:47.300 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/Categories - null null
2025-04-20 16:40:47.313 +03:00 [DBG] The request path  does not match the path filter
2025-04-20 16:40:47.355 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Categories'
2025-04-20 16:40:47.357 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)' with route pattern 'api/Categories' is valid for the request path '/api/Categories'
2025-04-20 16:40:47.360 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-04-20 16:40:47.526 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-20 16:40:47.535 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-04-20 16:40:47.568 +03:00 [INF] Route matched with {action = "GetAllCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.CategoryDTO]]] GetAllCategories() on controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend).
2025-04-20 16:40:47.573 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:40:47.575 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:40:47.577 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:40:47.582 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:40:47.584 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:40:47.588 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-04-20 16:40:47.592 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-04-20 16:40:47.618 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:40:47.622 +03:00 [DBG] Compiling query expression: 
'DbSet<Category>()'
2025-04-20 16:40:47.653 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Category>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Category entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Category instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Category);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Category)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                        {
                            return 
                            {
                                Category instance;
                                instance = new Category();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                                instance.<Icon>k__BackingField = dataReader.GetString(2);
                                instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                                instance.<Name>k__BackingField = dataReader.GetString(4);
                                instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Category)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-20 16:40:47.657 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:40:47.658 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-20 16:40:47.659 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:40:47.662 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:40:47.665 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:40:47.666 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:40:47.668 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:40:47.669 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-20 16:40:47.679 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-20 16:40:47.684 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:47.687 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:47.689 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:47.690 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:47.692 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:40:47.694 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:40:47.696 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 12ms reading results.
2025-04-20 16:40:47.699 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:40:47.700 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:40:47.717 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-20 16:40:47.721 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-20 16:40:47.724 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-20 16:40:47.726 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-20 16:40:47.727 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-20 16:40:47.731 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-20 16:40:47.734 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.CategoryDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 16:40:47.782 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend) in 190.1212ms
2025-04-20 16:40:47.786 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-04-20 16:40:47.790 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:40:47.802 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:40:47.805 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-04-20 16:40:47.808 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/Categories - 200 null application/json; charset=utf-8 508.6127ms
2025-04-20 16:40:48.451 +03:00 [DBG] Connection id "0HNC023CTEBBU" received FIN.
2025-04-20 16:40:48.470 +03:00 [DBG] Connection id "0HNC023CTEBBU" is closed. The last processed stream ID was 1.
2025-04-20 16:40:48.470 +03:00 [DBG] The connection queue processing loop for 0HNC023CTEBBU completed.
2025-04-20 16:40:48.473 +03:00 [DBG] Connection id "0HNC023CTEBBU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:40:48.484 +03:00 [DBG] Connection id "0HNC023CTEBBU" stopped.
2025-04-20 16:41:17.155 +03:00 [DBG] Connection id "0HNC023CTEBBV" accepted.
2025-04-20 16:41:17.211 +03:00 [DBG] Connection id "0HNC023CTEBBV" started.
2025-04-20 16:41:17.222 +03:00 [DBG] Connection 0HNC023CTEBBV established using the following protocol: "Tls12"
2025-04-20 16:41:17.225 +03:00 [INF] Request starting HTTP/2 POST https://localhost:49464/api/Auth/authenticate?email=test%40email.com&password=test_password - null 0
2025-04-20 16:41:17.228 +03:00 [DBG] POST requests are not supported
2025-04-20 16:41:17.230 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/authenticate'
2025-04-20 16:41:17.232 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)' with route pattern 'api/Auth/authenticate' is valid for the request path '/api/Auth/authenticate'
2025-04-20 16:41:17.234 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-20 16:41:17.238 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-20 16:41:17.239 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-20 16:41:17.250 +03:00 [INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.Controllers.AuthUserTokenDTO]] Authenticate(System.String, System.String) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-04-20 16:41:17.254 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:41:17.255 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:41:17.257 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:41:17.259 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:41:17.261 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:41:17.263 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-04-20 16:41:17.265 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-04-20 16:41:17.331 +03:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' ...
2025-04-20 16:41:17.339 +03:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ...
2025-04-20 16:41:17.342 +03:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2025-04-20 16:41:17.344 +03:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2025-04-20 16:41:17.345 +03:00 [DBG] Attempting to validate the bound parameter 'email' of type 'System.String' ...
2025-04-20 16:41:17.357 +03:00 [DBG] Done attempting to validate the bound parameter 'email' of type 'System.String'.
2025-04-20 16:41:17.360 +03:00 [DBG] Attempting to bind parameter 'password' of type 'System.String' ...
2025-04-20 16:41:17.362 +03:00 [DBG] Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ...
2025-04-20 16:41:17.365 +03:00 [DBG] Done attempting to bind parameter 'password' of type 'System.String'.
2025-04-20 16:41:17.366 +03:00 [DBG] Done attempting to bind parameter 'password' of type 'System.String'.
2025-04-20 16:41:17.370 +03:00 [DBG] Attempting to validate the bound parameter 'password' of type 'System.String' ...
2025-04-20 16:41:17.374 +03:00 [DBG] Done attempting to validate the bound parameter 'password' of type 'System.String'.
2025-04-20 16:41:17.384 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:41:17.445 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:41:17.446 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-20 16:41:17.447 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:41:17.449 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:41:17.451 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:41:17.454 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-04-20 16:41:17.457 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-20 16:41:17.461 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-20 16:41:17.500 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-20 16:41:17.503 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:41:17.505 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:41:17.506 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-04-20 16:41:17.508 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:41:17.509 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:41:17.524 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-20 16:41:17.529 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-20 16:41:17.530 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-20 16:41:17.531 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-20 16:41:17.532 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-20 16:41:17.533 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-20 16:41:17.535 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.Controllers.AuthUserTokenDTO'.
2025-04-20 16:41:17.571 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend) in 308.5478ms
2025-04-20 16:41:17.574 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-20 16:41:17.575 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:41:17.576 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:41:17.578 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-20 16:41:17.579 +03:00 [INF] Request finished HTTP/2 POST https://localhost:49464/api/Auth/authenticate?email=test%40email.com&password=test_password - 200 null application/json; charset=utf-8 354.414ms
2025-04-20 16:41:18.473 +03:00 [DBG] Connection id "0HNC023CTEBBV" received FIN.
2025-04-20 16:41:18.506 +03:00 [DBG] Connection id "0HNC023CTEBBV" is closed. The last processed stream ID was 1.
2025-04-20 16:41:18.506 +03:00 [DBG] The connection queue processing loop for 0HNC023CTEBBV completed.
2025-04-20 16:41:18.508 +03:00 [DBG] Connection id "0HNC023CTEBBV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:41:18.518 +03:00 [DBG] Connection id "0HNC023CTEBBV" stopped.
2025-04-20 16:42:12.314 +03:00 [DBG] Connection id "0HNC023CTEBC0" accepted.
2025-04-20 16:42:12.322 +03:00 [DBG] Connection id "0HNC023CTEBC0" started.
2025-04-20 16:42:12.331 +03:00 [DBG] Connection 0HNC023CTEBC0 established using the following protocol: "Tls12"
2025-04-20 16:42:12.335 +03:00 [INF] Request starting HTTP/2 POST https://localhost:49464/api/Savings - application/json 85
2025-04-20 16:42:12.337 +03:00 [DBG] POST requests are not supported
2025-04-20 16:42:12.338 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-04-20 16:42:12.339 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-04-20 16:42:12.341 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend)'
2025-04-20 16:42:12.529 +03:00 [DBG] Successfully validated the token.
2025-04-20 16:42:12.534 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 16:42:12.542 +03:00 [DBG] Authorization was successful.
2025-04-20 16:42:12.543 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend)'
2025-04-20 16:42:12.554 +03:00 [INF] Route matched with {action = "Create", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-04-20 16:42:12.556 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:42:12.558 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:42:12.560 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:42:12.563 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:42:12.567 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:42:12.569 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 16:42:12.572 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 16:42:12.575 +03:00 [DBG] Attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO' ...
2025-04-20 16:42:12.578 +03:00 [DBG] Attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO' using the name '' in request data ...
2025-04-20 16:42:12.584 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-20 16:42:12.595 +03:00 [DBG] Connection id "0HNC023CTEBC0", Request id "0HNC023CTEBC0:00000001": started reading request body.
2025-04-20 16:42:12.599 +03:00 [DBG] Connection id "0HNC023CTEBC0", Request id "0HNC023CTEBC0:00000001": done reading request body.
2025-04-20 16:42:12.637 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO'
2025-04-20 16:42:12.639 +03:00 [DBG] Done attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO'.
2025-04-20 16:42:12.641 +03:00 [DBG] Done attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO'.
2025-04-20 16:42:12.643 +03:00 [DBG] Attempting to validate the bound parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO' ...
2025-04-20 16:42:12.652 +03:00 [DBG] Done attempting to validate the bound parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO'.
2025-04-20 16:42:12.657 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:42:12.660 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __userId_0)'
2025-04-20 16:42:12.670 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.id == @__userId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.id == @__userId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<Salt>k__BackingField = dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-20 16:42:12.675 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:42:12.676 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-20 16:42:12.678 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:42:12.682 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:42:12.684 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:42:12.685 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:42:12.687 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 16:42:12.689 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:42:12.722 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:42:12.725 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:42:12.726 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:42:12.728 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-20 16:42:12.731 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:42:12.733 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:42:12.736 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:42:12.741 +03:00 [DBG] The navigation 'Saving.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:42:12.744 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:42:12.745 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 16:42:12.749 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 16:42:12.750 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 16:42:12.775 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:42:12.776 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:42:12.778 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:42:12.779 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:42:12.782 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-20 16:42:12.784 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [savings] ([goal], [name], [user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount]
VALUES (@p0, @p1, @p2);
2025-04-20 16:42:12.816 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [savings] ([goal], [name], [user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount]
VALUES (@p0, @p1, @p2);
2025-04-20 16:42:12.820 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:42:12.823 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:42:12.835 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 14ms reading results.
2025-04-20 16:42:12.840 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:42:12.841 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:42:12.844 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:42:12.846 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-20 16:43:36.279 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-20 16:43:36.282 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-20 16:43:36.283 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-20 16:43:36.285 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-20 16:43:36.286 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-20 16:43:36.286 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-20 16:43:36.288 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Int32'.
2025-04-20 16:43:36.368 +03:00 [DBG] Found the endpoints ["Finance_Manager_Backend.Controllers.SavingsController.GetById (Finance_Manager_Backend)"] for address (id=[0],action=[GetById],controller=[Savings])
2025-04-20 16:43:36.373 +03:00 [DBG] Successfully processed template api/Savings/{id} for Finance_Manager_Backend.Controllers.SavingsController.GetById (Finance_Manager_Backend) resulting in /api/Savings/0 and 
2025-04-20 16:43:36.381 +03:00 [DBG] Link generation succeeded for endpoints ["Finance_Manager_Backend.Controllers.SavingsController.GetById (Finance_Manager_Backend)"] with result /api/Savings/0
2025-04-20 16:43:36.385 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend) in 83815.6991ms
2025-04-20 16:43:36.386 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend)'
2025-04-20 16:43:38.729 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:43:38.731 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:43:38.733 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-20 16:43:38.739 +03:00 [INF] Request finished HTTP/2 POST https://localhost:49464/api/Savings - 201 null application/json; charset=utf-8 86404.7771ms
2025-04-20 16:43:39.764 +03:00 [DBG] Connection id "0HNC023CTEBC0" received FIN.
2025-04-20 16:43:39.792 +03:00 [DBG] Connection id "0HNC023CTEBC0" is closed. The last processed stream ID was 1.
2025-04-20 16:43:39.793 +03:00 [DBG] The connection queue processing loop for 0HNC023CTEBC0 completed.
2025-04-20 16:43:39.807 +03:00 [DBG] Connection id "0HNC023CTEBC0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:43:39.826 +03:00 [DBG] Connection id "0HNC023CTEBC0" stopped.
2025-04-20 16:44:14.623 +03:00 [DBG] Connection id "0HNC023CTEBC1" accepted.
2025-04-20 16:44:14.640 +03:00 [DBG] Connection id "0HNC023CTEBC1" started.
2025-04-20 16:44:14.652 +03:00 [DBG] Connection 0HNC023CTEBC1 established using the following protocol: "Tls12"
2025-04-20 16:44:14.659 +03:00 [INF] Request starting HTTP/2 POST https://localhost:49464/api/Savings - application/json 86
2025-04-20 16:44:14.671 +03:00 [DBG] POST requests are not supported
2025-04-20 16:44:14.672 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-04-20 16:44:14.674 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-04-20 16:44:14.676 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend)'
2025-04-20 16:44:14.686 +03:00 [DBG] Successfully validated the token.
2025-04-20 16:44:14.687 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 16:44:14.690 +03:00 [DBG] Authorization was successful.
2025-04-20 16:44:14.692 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend)'
2025-04-20 16:44:14.693 +03:00 [INF] Route matched with {action = "Create", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-04-20 16:44:14.698 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:44:14.699 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:44:14.702 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:44:14.704 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:44:14.706 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:44:14.708 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 16:44:14.710 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 16:44:14.712 +03:00 [DBG] Attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO' ...
2025-04-20 16:44:14.714 +03:00 [DBG] Attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO' using the name '' in request data ...
2025-04-20 16:44:14.716 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-20 16:44:14.719 +03:00 [DBG] Connection id "0HNC023CTEBC1", Request id "0HNC023CTEBC1:00000001": started reading request body.
2025-04-20 16:44:14.720 +03:00 [DBG] Connection id "0HNC023CTEBC1", Request id "0HNC023CTEBC1:00000001": done reading request body.
2025-04-20 16:44:14.722 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO'
2025-04-20 16:44:14.723 +03:00 [DBG] Done attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO'.
2025-04-20 16:44:14.724 +03:00 [DBG] Done attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO'.
2025-04-20 16:44:14.726 +03:00 [DBG] Attempting to validate the bound parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO' ...
2025-04-20 16:44:14.727 +03:00 [DBG] Done attempting to validate the bound parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO'.
2025-04-20 16:44:17.569 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:44:17.572 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:44:17.573 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-20 16:44:17.574 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:44:17.576 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:44:17.584 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:44:17.590 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-04-20 16:44:17.591 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-04-20 16:44:17.594 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:44:17.636 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:44:17.641 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:44:17.644 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:44:17.645 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-04-20 16:44:17.648 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:44:17.652 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (3ms).
2025-04-20 16:44:37.804 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:44:37.807 +03:00 [DBG] The navigation 'Saving.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:44:37.809 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:12.125 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-20 16:45:13.058 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:45:13.125 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()'
2025-04-20 16:45:13.369 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.salt
        FROM users AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.salt
        FROM users AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                instance.<Email>k__BackingField = dataReader.GetString(2);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                instance.<Salt>k__BackingField = dataReader.GetString(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-20 16:45:13.416 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:45:13.453 +03:00 [DBG] Created DbConnection. (33ms).
2025-04-20 16:45:13.478 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:13.939 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:13.946 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:45:13.953 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-04-20 16:45:13.956 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-04-20 16:45:13.966 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
2025-04-20 16:45:14.050 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
2025-04-20 16:45:14.087 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:14.126 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:14.138 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:14.146 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 87ms reading results.
2025-04-20 16:45:14.149 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:14.158 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (8ms).
2025-04-20 16:45:14.163 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 16:45:14.167 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 16:45:14.185 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 16:45:14.298 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:14.331 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:14.340 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:45:14.342 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:45:14.346 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-20 16:45:14.352 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-20 16:45:14.481 +03:00 [INF] Executed DbCommand (132ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-20 16:45:14.500 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:14.505 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 17ms reading results.
2025-04-20 16:45:14.512 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:14.515 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-20 16:45:14.535 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:14.545 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-20 16:45:14.549 +03:00 [DBG] Compiling query expression: 
'DbSet<Category>()'
2025-04-20 16:45:14.565 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Category>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Category entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Category instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Category);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Category)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                        {
                            return 
                            {
                                Category instance;
                                instance = new Category();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                                instance.<Icon>k__BackingField = dataReader.GetString(2);
                                instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                                instance.<Name>k__BackingField = dataReader.GetString(4);
                                instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Category)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-20 16:45:14.570 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:14.572 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:14.574 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:45:14.575 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:45:14.578 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-20 16:45:14.580 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-20 16:45:14.584 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-20 16:45:14.600 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:14.618 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:14.621 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:14.622 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:14.625 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:14.626 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:14.631 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:14.632 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:14.634 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:14.636 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:14.638 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:14.639 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 52ms reading results.
2025-04-20 16:45:14.641 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:14.642 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:45:14.647 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 16:45:14.648 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 16:45:14.662 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 16:45:14.667 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-20 16:45:14.670 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:14.672 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:14.674 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-04-20 16:45:14.682 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-20 16:45:14.684 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:45:14.687 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:45:14.689 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-20 16:45:14.691 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-20 16:45:14.713 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-20 16:45:14.716 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:14.719 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-04-20 16:45:14.725 +03:00 [DBG] Committing transaction.
2025-04-20 16:45:14.730 +03:00 [DBG] Committed transaction.
2025-04-20 16:45:14.733 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:14.735 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:45:14.738 +03:00 [DBG] Disposing transaction.
2025-04-20 16:45:14.739 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:14.742 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:14.746 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:14.748 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:14.751 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:14.753 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-20 16:45:14.755 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:45:14.759 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:14.763 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-04-20 16:45:14.928 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:45:14.940 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Email == __email_0)'
2025-04-20 16:45:15.020 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.email == @__email_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.email == @__email_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<Salt>k__BackingField = dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-20 16:45:15.059 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:45:15.060 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-20 16:45:15.063 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.066 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.068 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:45:15.070 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:45:15.072 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 16:45:15.074 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-20 16:45:15.079 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-20 16:45:15.087 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.089 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 5ms reading results.
2025-04-20 16:45:15.091 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.092 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:45:15.128 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.134 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.136 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 16:45:15.137 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 16:45:15.139 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 16:45:15.154 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.157 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.158 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:45:15.160 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:45:15.163 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-20 16:45:15.165 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3);
2025-04-20 16:45:15.215 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3);
2025-04-20 16:45:15.231 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.247 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.251 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 31ms reading results.
2025-04-20 16:45:15.254 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.256 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-20 16:45:15.263 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.266 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-20 16:45:15.411 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __userDTO_Id_0)'
2025-04-20 16:45:15.418 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<Salt>k__BackingField = dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-20 16:45:15.422 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.424 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.426 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:45:15.429 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-04-20 16:45:15.432 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-20 16:45:15.437 +03:00 [DBG] Executing DbCommand [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-20 16:45:15.455 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-20 16:45:15.458 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.460 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-04-20 16:45:15.462 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.464 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:45:15.472 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.475 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.479 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.481 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.483 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.485 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.487 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.490 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.491 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.493 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.496 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 16:45:15.497 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 16:45:15.500 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 16:45:15.508 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-20 16:45:15.513 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.515 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.517 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:45:15.518 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:45:15.520 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:45:15.522 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-20 16:45:15.533 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-20 16:45:15.537 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.540 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.542 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.547 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.549 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.551 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.552 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 16ms reading results.
2025-04-20 16:45:15.554 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.556 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:45:15.561 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.565 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.567 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.571 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.573 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.575 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-20 16:45:15.583 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.604 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.606 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.608 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.609 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.611 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.613 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.615 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.616 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.618 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.620 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.621 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.623 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.624 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.626 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.628 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.629 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.631 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.633 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.634 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.637 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.639 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.641 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.643 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.651 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.655 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.657 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.659 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.660 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.663 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.664 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.666 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.668 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.669 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.672 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.674 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.675 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.699 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.700 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.702 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.705 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 16:45:15.708 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 16:45:15.716 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 16:45:15.722 +03:00 [DBG] Executing 20 update commands as a batch.
2025-04-20 16:45:15.744 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.747 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.748 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:45:15.750 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:45:15.755 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-20 16:45:15.757 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-20 16:45:15.807 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-20 16:45:15.815 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.817 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.819 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.821 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.823 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.825 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.827 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.829 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.831 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.832 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.834 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.836 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.838 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.840 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.842 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.845 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.850 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.856 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.858 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.859 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.861 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.863 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 49ms reading results.
2025-04-20 16:45:15.865 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.866 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:45:15.869 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.871 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.873 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.875 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.877 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.880 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.882 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.884 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.887 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.889 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.891 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.893 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.895 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.897 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.899 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.901 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.903 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.905 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.907 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.909 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.912 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 20 entities written to the database.
2025-04-20 16:45:15.915 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.929 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.931 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.933 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.935 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.938 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.940 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.943 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:15.946 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 16:45:15.948 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 16:45:15.955 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 16:45:15.957 +03:00 [DBG] Executing 4 update commands as a batch.
2025-04-20 16:45:15.959 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.961 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:15.963 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:45:15.965 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:45:15.970 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-20 16:45:15.971 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-20 16:45:15.984 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-20 16:45:15.988 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.991 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.994 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.997 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:45:15.998 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:16.000 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 13ms reading results.
2025-04-20 16:45:16.002 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:16.004 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:45:16.009 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:16.012 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:16.015 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:16.017 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:16.019 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 4 entities written to the database.
2025-04-20 16:45:16.022 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:45:16.024 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:16.025 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-20 16:45:16.100 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-20 16:45:16.171 +03:00 [DBG] Hosting starting
2025-04-20 16:45:16.209 +03:00 [INF] User profile is available. Using 'C:\Users\ebtyx\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-20 16:45:16.232 +03:00 [DBG] Reading data from file 'C:\Users\ebtyx\AppData\Local\ASP.NET\DataProtection-Keys\key-036e1e5f-5347-47d7-8236-0b64ed0a76a1.xml'.
2025-04-20 16:45:16.242 +03:00 [DBG] Found key {036e1e5f-5347-47d7-8236-0b64ed0a76a1}.
2025-04-20 16:45:16.260 +03:00 [DBG] Considering key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} with expiration date 2025-07-16 20:11:06Z as default key.
2025-04-20 16:45:16.269 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-20 16:45:16.275 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-20 16:45:16.288 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-20 16:45:16.292 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-20 16:45:16.298 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-20 16:45:16.301 +03:00 [DBG] Using key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} as the default key.
2025-04-20 16:45:16.303 +03:00 [DBG] Key ring with default key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} was loaded during application startup.
2025-04-20 16:45:16.313 +03:00 [DBG] Middleware loaded
2025-04-20 16:45:16.316 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16531 B).
2025-04-20 16:45:16.319 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-20 16:45:16.486 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-20 16:45:16.647 +03:00 [INF] Now listening on: https://localhost:49464
2025-04-20 16:45:16.648 +03:00 [INF] Now listening on: http://localhost:49465
2025-04-20 16:45:16.649 +03:00 [DBG] Loaded hosting startup assembly Finance_Manager_Backend
2025-04-20 16:45:16.650 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-04-20 16:45:16.651 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-20 16:45:16.652 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-04-20 16:45:16.663 +03:00 [DBG] Connection id "0HNC026AN6ATO" received FIN.
2025-04-20 16:45:16.681 +03:00 [DBG] Connection id "0HNC026AN6ATO" accepted.
2025-04-20 16:45:16.688 +03:00 [DBG] Connection id "0HNC026AN6ATO" started.
2025-04-20 16:45:16.742 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-04-20 16:45:16.930 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-20 16:45:17.134 +03:00 [INF] Hosting environment: Development
2025-04-20 16:45:17.135 +03:00 [INF] Content root path: G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend
2025-04-20 16:45:17.137 +03:00 [DBG] Hosting started
2025-04-20 16:45:17.140 +03:00 [DBG] Connection id "0HNC026AN6ATO" stopped.
2025-04-20 16:45:17.149 +03:00 [DBG] Connection id "0HNC026AN6ATO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:45:18.354 +03:00 [DBG] Connection id "0HNC026AN6ATP" accepted.
2025-04-20 16:45:19.127 +03:00 [DBG] Connection id "0HNC026AN6ATP" started.
2025-04-20 16:45:19.335 +03:00 [DBG] Connection id "0HNC026AN6ATQ" accepted.
2025-04-20 16:45:19.336 +03:00 [DBG] Connection id "0HNC026AN6ATQ" received FIN.
2025-04-20 16:45:19.356 +03:00 [DBG] Connection 0HNC026AN6ATP established using the following protocol: "Tls12"
2025-04-20 16:45:19.367 +03:00 [DBG] Connection id "0HNC026AN6ATQ" started.
2025-04-20 16:45:19.380 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-04-20 16:45:19.418 +03:00 [DBG] Connection id "0HNC026AN6ATQ" stopped.
2025-04-20 16:45:19.593 +03:00 [DBG] Connection id "0HNC026AN6ATQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:45:19.607 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/_vs/browserLink - null null
2025-04-20 16:45:19.607 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/_framework/aspnetcore-browser-refresh.js - null null
2025-04-20 16:45:19.654 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-20 16:45:19.663 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 70.637ms
2025-04-20 16:45:19.866 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/_vs/browserLink - 200 null text/javascript; charset=UTF-8 275.0961ms
2025-04-20 16:45:40.747 +03:00 [DBG] Connection id "0HNC026AN6ATP" received FIN.
2025-04-20 16:45:40.776 +03:00 [DBG] Connection id "0HNC026AN6ATP" is closed. The last processed stream ID was 3.
2025-04-20 16:45:40.778 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6ATP completed.
2025-04-20 16:45:40.783 +03:00 [DBG] Connection id "0HNC026AN6ATP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:45:40.794 +03:00 [DBG] Connection id "0HNC026AN6ATP" stopped.
2025-04-20 16:45:43.069 +03:00 [DBG] Connection id "0HNC026AN6ATR" accepted.
2025-04-20 16:45:43.071 +03:00 [DBG] Connection id "0HNC026AN6ATR" started.
2025-04-20 16:45:43.074 +03:00 [DBG] Connection 0HNC026AN6ATR established using the following protocol: "Tls12"
2025-04-20 16:45:43.078 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/swagger/v1/swagger.json - null null
2025-04-20 16:45:43.090 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-20 16:45:43.173 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 96.1035ms
2025-04-20 16:45:48.674 +03:00 [DBG] Connection id "0HNC026AN6ATR" received FIN.
2025-04-20 16:45:48.678 +03:00 [DBG] Connection id "0HNC026AN6ATR" is closed. The last processed stream ID was 1.
2025-04-20 16:45:48.679 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6ATR completed.
2025-04-20 16:45:48.680 +03:00 [DBG] Connection id "0HNC026AN6ATR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:45:48.697 +03:00 [DBG] Connection id "0HNC026AN6ATR" stopped.
2025-04-20 16:45:59.039 +03:00 [DBG] Connection id "0HNC026AN6ATS" accepted.
2025-04-20 16:45:59.066 +03:00 [DBG] Connection id "0HNC026AN6ATS" started.
2025-04-20 16:45:59.073 +03:00 [DBG] Connection 0HNC026AN6ATS established using the following protocol: "Tls12"
2025-04-20 16:45:59.076 +03:00 [INF] Request starting HTTP/2 POST https://localhost:49464/api/Auth/authenticate?email=test%40email.com&password=test_password - null 0
2025-04-20 16:45:59.083 +03:00 [DBG] POST requests are not supported
2025-04-20 16:45:59.114 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/authenticate'
2025-04-20 16:45:59.116 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)' with route pattern 'api/Auth/authenticate' is valid for the request path '/api/Auth/authenticate'
2025-04-20 16:45:59.119 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-20 16:45:59.240 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-20 16:45:59.244 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-20 16:45:59.284 +03:00 [INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.Controllers.AuthUserTokenDTO]] Authenticate(System.String, System.String) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-04-20 16:45:59.288 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:45:59.290 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:45:59.292 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:45:59.295 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:45:59.299 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:45:59.302 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-04-20 16:45:59.307 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-04-20 16:45:59.332 +03:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' ...
2025-04-20 16:45:59.337 +03:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ...
2025-04-20 16:45:59.340 +03:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2025-04-20 16:45:59.341 +03:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2025-04-20 16:45:59.343 +03:00 [DBG] Attempting to validate the bound parameter 'email' of type 'System.String' ...
2025-04-20 16:45:59.352 +03:00 [DBG] Done attempting to validate the bound parameter 'email' of type 'System.String'.
2025-04-20 16:45:59.355 +03:00 [DBG] Attempting to bind parameter 'password' of type 'System.String' ...
2025-04-20 16:45:59.357 +03:00 [DBG] Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ...
2025-04-20 16:45:59.358 +03:00 [DBG] Done attempting to bind parameter 'password' of type 'System.String'.
2025-04-20 16:45:59.360 +03:00 [DBG] Done attempting to bind parameter 'password' of type 'System.String'.
2025-04-20 16:45:59.361 +03:00 [DBG] Attempting to validate the bound parameter 'password' of type 'System.String' ...
2025-04-20 16:45:59.365 +03:00 [DBG] Done attempting to validate the bound parameter 'password' of type 'System.String'.
2025-04-20 16:45:59.393 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:45:59.416 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:45:59.417 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-20 16:45:59.418 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:59.420 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:59.421 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:45:59.422 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:45:59.424 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:45:59.425 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-20 16:45:59.432 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-20 16:45:59.435 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:45:59.438 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:59.439 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-04-20 16:45:59.441 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:59.442 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:45:59.461 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-20 16:45:59.467 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-20 16:45:59.470 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-20 16:45:59.472 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-20 16:45:59.473 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-20 16:45:59.474 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-20 16:45:59.476 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.Controllers.AuthUserTokenDTO'.
2025-04-20 16:45:59.511 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend) in 207.7532ms
2025-04-20 16:45:59.514 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-20 16:45:59.518 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:45:59.523 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:45:59.525 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-20 16:45:59.527 +03:00 [INF] Request finished HTTP/2 POST https://localhost:49464/api/Auth/authenticate?email=test%40email.com&password=test_password - 200 null application/json; charset=utf-8 450.9744ms
2025-04-20 16:46:08.678 +03:00 [DBG] Connection id "0HNC026AN6ATS" received FIN.
2025-04-20 16:46:08.682 +03:00 [DBG] Connection id "0HNC026AN6ATS" is closed. The last processed stream ID was 1.
2025-04-20 16:46:08.682 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6ATS completed.
2025-04-20 16:46:08.684 +03:00 [DBG] Connection id "0HNC026AN6ATS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:46:08.693 +03:00 [DBG] Connection id "0HNC026AN6ATS" stopped.
2025-04-20 16:46:43.527 +03:00 [DBG] Connection id "0HNC026AN6ATT" accepted.
2025-04-20 16:46:43.543 +03:00 [DBG] Connection id "0HNC026AN6ATT" started.
2025-04-20 16:46:43.546 +03:00 [DBG] Connection 0HNC026AN6ATT established using the following protocol: "Tls12"
2025-04-20 16:46:43.548 +03:00 [INF] Request starting HTTP/2 POST https://localhost:49464/api/Savings - application/json 85
2025-04-20 16:46:43.559 +03:00 [DBG] POST requests are not supported
2025-04-20 16:46:43.561 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-04-20 16:46:43.562 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-04-20 16:46:43.564 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend)'
2025-04-20 16:46:43.757 +03:00 [DBG] Successfully validated the token.
2025-04-20 16:46:43.759 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 16:46:43.768 +03:00 [DBG] Authorization was successful.
2025-04-20 16:46:43.769 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend)'
2025-04-20 16:46:43.775 +03:00 [INF] Route matched with {action = "Create", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-04-20 16:46:43.777 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:46:43.779 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:46:43.781 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:46:43.784 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:46:43.786 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:46:43.788 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 16:46:43.792 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 16:46:43.806 +03:00 [DBG] Attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO' ...
2025-04-20 16:46:43.811 +03:00 [DBG] Attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO' using the name '' in request data ...
2025-04-20 16:46:43.814 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-20 16:46:43.825 +03:00 [DBG] Connection id "0HNC026AN6ATT", Request id "0HNC026AN6ATT:00000001": started reading request body.
2025-04-20 16:46:43.827 +03:00 [DBG] Connection id "0HNC026AN6ATT", Request id "0HNC026AN6ATT:00000001": done reading request body.
2025-04-20 16:46:43.844 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO'
2025-04-20 16:46:43.846 +03:00 [DBG] Done attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO'.
2025-04-20 16:46:43.847 +03:00 [DBG] Done attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO'.
2025-04-20 16:46:43.850 +03:00 [DBG] Attempting to validate the bound parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO' ...
2025-04-20 16:46:43.856 +03:00 [DBG] Done attempting to validate the bound parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO'.
2025-04-20 16:46:43.861 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:46:43.863 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __userId_0)'
2025-04-20 16:46:43.874 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.id == @__userId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.id == @__userId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<Salt>k__BackingField = dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-20 16:46:43.877 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:46:43.878 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-20 16:46:43.879 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:46:43.881 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:46:43.885 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:46:43.887 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:46:43.888 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:46:43.890 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:46:43.908 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:46:43.910 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:46:43.912 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:46:43.913 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-04-20 16:46:43.917 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:46:43.919 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:46:43.923 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:46:43.926 +03:00 [DBG] The navigation 'Saving.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:46:43.929 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:46:43.931 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 16:46:43.934 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 16:46:43.936 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 16:46:43.938 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:46:43.939 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:46:43.941 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:46:43.942 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:46:43.943 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:46:43.946 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [savings] ([goal], [name], [user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount]
VALUES (@p0, @p1, @p2);
2025-04-20 16:46:43.954 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [savings] ([goal], [name], [user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount]
VALUES (@p0, @p1, @p2);
2025-04-20 16:46:43.956 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:46:43.958 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:46:43.959 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-04-20 16:46:43.962 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:46:43.963 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:46:43.968 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:46:43.970 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-20 16:46:43.974 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-20 16:46:43.977 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-20 16:46:43.979 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-20 16:46:43.980 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-20 16:46:43.981 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-20 16:46:43.984 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-20 16:46:43.985 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Int32'.
2025-04-20 16:46:44.003 +03:00 [DBG] Found the endpoints ["Finance_Manager_Backend.Controllers.SavingsController.GetById (Finance_Manager_Backend)"] for address (id=[100],action=[GetById],controller=[Savings])
2025-04-20 16:46:44.008 +03:00 [DBG] Successfully processed template api/Savings/{id} for Finance_Manager_Backend.Controllers.SavingsController.GetById (Finance_Manager_Backend) resulting in /api/Savings/100 and 
2025-04-20 16:46:44.011 +03:00 [DBG] Link generation succeeded for endpoints ["Finance_Manager_Backend.Controllers.SavingsController.GetById (Finance_Manager_Backend)"] with result /api/Savings/100
2025-04-20 16:46:44.015 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend) in 227.2146ms
2025-04-20 16:46:44.018 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend)'
2025-04-20 16:46:44.020 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:46:44.022 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:46:44.025 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-20 16:46:44.026 +03:00 [INF] Request finished HTTP/2 POST https://localhost:49464/api/Savings - 201 null application/json; charset=utf-8 478.4914ms
2025-04-20 16:46:48.729 +03:00 [DBG] Connection id "0HNC026AN6ATT" received FIN.
2025-04-20 16:46:48.733 +03:00 [DBG] Connection id "0HNC026AN6ATT" is closed. The last processed stream ID was 1.
2025-04-20 16:46:48.733 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6ATT completed.
2025-04-20 16:46:48.737 +03:00 [DBG] Connection id "0HNC026AN6ATT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:46:48.743 +03:00 [DBG] Connection id "0HNC026AN6ATT" stopped.
2025-04-20 16:48:24.838 +03:00 [DBG] Connection id "0HNC026AN6ATU" accepted.
2025-04-20 16:48:24.852 +03:00 [DBG] Connection id "0HNC026AN6ATU" started.
2025-04-20 16:48:24.856 +03:00 [DBG] Connection 0HNC026AN6ATU established using the following protocol: "Tls12"
2025-04-20 16:48:24.860 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/Savings?userId=43&previousSavingId=0&pageSize=3 - null null
2025-04-20 16:48:24.871 +03:00 [DBG] The request path  does not match the path filter
2025-04-20 16:48:24.875 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-04-20 16:48:24.876 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-04-20 16:48:24.878 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-04-20 16:48:24.884 +03:00 [DBG] Successfully validated the token.
2025-04-20 16:48:24.886 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 16:48:24.887 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-04-20 16:48:24.894 +03:00 [INF] Route matched with {action = "GetSavings", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO]]] GetSavings(Int32, Int32, Int32) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-04-20 16:48:24.901 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:48:24.905 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:48:24.921 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:48:24.924 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:48:24.925 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:48:24.927 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 16:48:24.929 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 16:48:24.933 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-04-20 16:48:24.935 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-04-20 16:48:24.937 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-04-20 16:48:24.938 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-04-20 16:48:24.940 +03:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-04-20 16:48:24.942 +03:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-04-20 16:48:24.943 +03:00 [DBG] Attempting to bind parameter 'previousSavingId' of type 'System.Int32' ...
2025-04-20 16:48:24.945 +03:00 [DBG] Attempting to bind parameter 'previousSavingId' of type 'System.Int32' using the name 'previousSavingId' in request data ...
2025-04-20 16:48:24.946 +03:00 [DBG] Done attempting to bind parameter 'previousSavingId' of type 'System.Int32'.
2025-04-20 16:48:24.950 +03:00 [DBG] Done attempting to bind parameter 'previousSavingId' of type 'System.Int32'.
2025-04-20 16:48:24.952 +03:00 [DBG] Attempting to validate the bound parameter 'previousSavingId' of type 'System.Int32' ...
2025-04-20 16:48:24.954 +03:00 [DBG] Done attempting to validate the bound parameter 'previousSavingId' of type 'System.Int32'.
2025-04-20 16:48:24.955 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-20 16:48:24.956 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-20 16:48:24.958 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-20 16:48:24.960 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-20 16:48:24.961 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-20 16:48:24.962 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-20 16:48:25.012 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:48:25.024 +03:00 [DBG] Compiling query expression: 
'DbSet<Saving>()
    .Where(s => s.UserId == __userId_0 && s.Id > __previousSavingId_1)
    .Take(__p_2)'
2025-04-20 16:48:25.042 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-04-20 16:48:25.051 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Saving>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Saving.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Saving.CurrentAmount (decimal) Required ValueGenerated.OnAdd, 1], [Property: Saving.Goal (decimal) Required, 2], [Property: Saving.Name (string) Required MaxLength(50), 3], [Property: Saving.UserId (int) Required FK Index, 4] }
        SELECT TOP(@__p_2) s.id, s.current_amount, s.goal, s.name, s.user_fk
        FROM savings AS s
        WHERE (s.user_fk == @__userId_0) && (s.id > @__previousSavingId_1)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Saving.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Saving.CurrentAmount (decimal) Required ValueGenerated.OnAdd, 1], [Property: Saving.Goal (decimal) Required, 2], [Property: Saving.Name (string) Required MaxLength(50), 3], [Property: Saving.UserId (int) Required FK Index, 4] }
        SELECT TOP(@__p_2) s.id, s.current_amount, s.goal, s.name, s.user_fk
        FROM savings AS s
        WHERE (s.user_fk == @__userId_0) && (s.id > @__previousSavingId_1), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Saving entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Saving instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Saving);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Saving.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Saving").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Saving)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Saving | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Saving")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Saving | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Saving")]: 
                        {
                            return 
                            {
                                Saving instance;
                                instance = new Saving();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CurrentAmount>k__BackingField = dataReader.GetDecimal(1);
                                instance.<Goal>k__BackingField = dataReader.GetDecimal(2);
                                instance.<Name>k__BackingField = dataReader.GetString(3);
                                instance.<UserId>k__BackingField = dataReader.GetInt32(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Saving | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Saving")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Saving)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-20 16:48:25.056 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:48:25.058 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-20 16:48:25.059 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:48:25.060 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:48:25.062 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:48:25.063 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:48:25.065 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 16:48:25.067 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-04-20 16:48:25.122 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-04-20 16:48:25.139 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:48:25.144 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:48:25.146 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:48:25.150 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:48:25.152 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 12ms reading results.
2025-04-20 16:48:25.153 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:48:25.155 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:48:25.169 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-20 16:48:25.171 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-20 16:48:25.173 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-20 16:48:25.174 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-20 16:48:25.175 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-20 16:48:25.176 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-20 16:48:25.177 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 16:48:25.182 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend) in 254.7948ms
2025-04-20 16:48:25.189 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-04-20 16:48:25.190 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:48:25.192 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:48:25.193 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-20 16:48:25.195 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/Savings?userId=43&previousSavingId=0&pageSize=3 - 200 null application/json; charset=utf-8 335.4771ms
2025-04-20 16:48:28.882 +03:00 [DBG] Connection id "0HNC026AN6ATU" received FIN.
2025-04-20 16:48:28.884 +03:00 [DBG] Connection id "0HNC026AN6ATU" is closed. The last processed stream ID was 1.
2025-04-20 16:48:28.884 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6ATU completed.
2025-04-20 16:48:28.890 +03:00 [DBG] Connection id "0HNC026AN6ATU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:48:28.901 +03:00 [DBG] Connection id "0HNC026AN6ATU" stopped.
2025-04-20 16:48:54.069 +03:00 [DBG] Connection id "0HNC026AN6ATV" accepted.
2025-04-20 16:48:54.112 +03:00 [DBG] Connection id "0HNC026AN6ATV" started.
2025-04-20 16:48:54.114 +03:00 [DBG] Connection 0HNC026AN6ATV established using the following protocol: "Tls12"
2025-04-20 16:48:54.117 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:49464/api/Savings?savingId=97&topUpAmount=1488 - null 0
2025-04-20 16:48:54.120 +03:00 [DBG] PUT requests are not supported
2025-04-20 16:48:54.123 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-04-20 16:48:54.124 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Update (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-04-20 16:48:54.126 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Update (Finance_Manager_Backend)'
2025-04-20 16:48:54.127 +03:00 [DBG] Successfully validated the token.
2025-04-20 16:48:54.128 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 16:48:54.131 +03:00 [DBG] Authorization was successful.
2025-04-20 16:48:54.132 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Update (Finance_Manager_Backend)'
2025-04-20 16:48:54.139 +03:00 [INF] Route matched with {action = "Update", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Update(Int32, Int32) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-04-20 16:48:54.141 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:48:54.142 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:48:54.144 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:48:54.146 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:48:54.148 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:48:54.149 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 16:48:54.157 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 16:48:54.159 +03:00 [DBG] Attempting to bind parameter 'savingId' of type 'System.Int32' ...
2025-04-20 16:48:54.160 +03:00 [DBG] Attempting to bind parameter 'savingId' of type 'System.Int32' using the name 'savingId' in request data ...
2025-04-20 16:48:54.162 +03:00 [DBG] Done attempting to bind parameter 'savingId' of type 'System.Int32'.
2025-04-20 16:48:54.163 +03:00 [DBG] Done attempting to bind parameter 'savingId' of type 'System.Int32'.
2025-04-20 16:48:54.165 +03:00 [DBG] Attempting to validate the bound parameter 'savingId' of type 'System.Int32' ...
2025-04-20 16:48:54.167 +03:00 [DBG] Done attempting to validate the bound parameter 'savingId' of type 'System.Int32'.
2025-04-20 16:48:54.168 +03:00 [DBG] Attempting to bind parameter 'topUpAmount' of type 'System.Int32' ...
2025-04-20 16:48:54.169 +03:00 [DBG] Attempting to bind parameter 'topUpAmount' of type 'System.Int32' using the name 'topUpAmount' in request data ...
2025-04-20 16:48:54.176 +03:00 [DBG] Done attempting to bind parameter 'topUpAmount' of type 'System.Int32'.
2025-04-20 16:48:54.178 +03:00 [DBG] Done attempting to bind parameter 'topUpAmount' of type 'System.Int32'.
2025-04-20 16:48:54.180 +03:00 [DBG] Attempting to validate the bound parameter 'topUpAmount' of type 'System.Int32' ...
2025-04-20 16:48:54.182 +03:00 [DBG] Done attempting to validate the bound parameter 'topUpAmount' of type 'System.Int32'.
2025-04-20 16:48:54.185 +03:00 [INF] Executing UdateSavingAsync method
2025-04-20 16:48:54.193 +03:00 [INF] Start ExecuteTransactionAsync method.
2025-04-20 16:48:54.231 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:48:54.245 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:48:54.246 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-20 16:48:54.248 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:48:54.250 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:48:54.251 +03:00 [DBG] Beginning transaction with isolation level 'ReadCommitted'.
2025-04-20 16:48:54.253 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-20 16:48:54.259 +03:00 [DBG] Start db transaction.
2025-04-20 16:48:54.264 +03:00 [DBG] Compiling query expression: 
'DbSet<Saving>()
    .FirstOrDefault(s => s.Id == __savingId_0)'
2025-04-20 16:48:54.275 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Saving>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Saving>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Saving.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Saving.CurrentAmount (decimal) Required ValueGenerated.OnAdd, 1], [Property: Saving.Goal (decimal) Required, 2], [Property: Saving.Name (string) Required MaxLength(50), 3], [Property: Saving.UserId (int) Required FK Index, 4] }
            SELECT TOP(1) s.id, s.current_amount, s.goal, s.name, s.user_fk
            FROM savings AS s
            WHERE s.id == @__savingId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Saving.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Saving.CurrentAmount (decimal) Required ValueGenerated.OnAdd, 1], [Property: Saving.Goal (decimal) Required, 2], [Property: Saving.Name (string) Required MaxLength(50), 3], [Property: Saving.UserId (int) Required FK Index, 4] }
            SELECT TOP(1) s.id, s.current_amount, s.goal, s.name, s.user_fk
            FROM savings AS s
            WHERE s.id == @__savingId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Saving entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Saving instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Saving);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Saving.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Saving").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Saving)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Saving | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Saving")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Saving | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Saving")]: 
                            {
                                return 
                                {
                                    Saving instance;
                                    instance = new Saving();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CurrentAmount>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Goal>k__BackingField = dataReader.GetDecimal(2);
                                    instance.<Name>k__BackingField = dataReader.GetString(3);
                                    instance.<UserId>k__BackingField = dataReader.GetInt32(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Saving | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Saving")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Saving)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-20 16:48:54.282 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:48:54.283 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:48:54.285 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 16:48:54.287 +03:00 [DBG] Executing DbCommand [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-04-20 16:48:54.336 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-04-20 16:48:54.342 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:48:54.344 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:48:54.346 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-04-20 16:48:54.349 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:48:54.350 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:48:54.352 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 16:48:54.356 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:48:54.363 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:48:54.367 +03:00 [DBG] The navigation 'Saving.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:48:54.369 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:48:54.374 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:48:54.377 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 11ms reading results.
2025-04-20 16:48:54.379 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 16:48:54.381 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 16:48:54.383 +03:00 [DBG] The unchanged property 'Saving.CurrentAmount' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:48:54.385 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:48:54.390 +03:00 [DBG] The unchanged property 'User.Balance' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:48:54.393 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:48:54.396 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 16:48:54.401 +03:00 [DBG] Executing 2 update commands as a batch.
2025-04-20 16:48:54.410 +03:00 [DBG] Creating transaction savepoint.
2025-04-20 16:48:54.462 +03:00 [DBG] Created transaction savepoint.
2025-04-20 16:48:54.463 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:48:54.465 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:48:54.466 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 16:48:54.469 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p2='?' (Precision = 12) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [savings] SET [current_amount] = @p0
OUTPUT 1
WHERE [id] = @p1;
UPDATE [users] SET [balance] = @p2
OUTPUT 1
WHERE [id] = @p3;
2025-04-20 16:48:54.509 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p2='?' (Precision = 12) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [savings] SET [current_amount] = @p0
OUTPUT 1
WHERE [id] = @p1;
UPDATE [users] SET [balance] = @p2
OUTPUT 1
WHERE [id] = @p3;
2025-04-20 16:48:54.515 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:48:54.517 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-20 16:48:54.529 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:48:54.533 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:48:54.546 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2025-04-20 16:48:54.553 +03:00 [DBG] Committing transaction.
2025-04-20 16:48:54.589 +03:00 [DBG] Committed transaction.
2025-04-20 16:48:54.591 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:48:54.593 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:48:54.595 +03:00 [INF] Transaction successful.
2025-04-20 16:48:54.596 +03:00 [DBG] Disposing transaction.
2025-04-20 16:48:54.600 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-20 16:48:54.601 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.Update (Finance_Manager_Backend) in 451.6217ms
2025-04-20 16:48:54.603 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Update (Finance_Manager_Backend)'
2025-04-20 16:48:54.604 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:48:54.610 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:48:54.611 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-20 16:48:54.613 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:49464/api/Savings?savingId=97&topUpAmount=1488 - 204 null null 496.5458ms
2025-04-20 16:48:58.949 +03:00 [DBG] Connection id "0HNC026AN6ATV" received FIN.
2025-04-20 16:48:58.951 +03:00 [DBG] Connection id "0HNC026AN6ATV" is closed. The last processed stream ID was 1.
2025-04-20 16:48:58.951 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6ATV completed.
2025-04-20 16:48:58.954 +03:00 [DBG] Connection id "0HNC026AN6ATV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:48:58.965 +03:00 [DBG] Connection id "0HNC026AN6ATV" stopped.
2025-04-20 16:49:04.087 +03:00 [DBG] Connection id "0HNC026AN6AU0" accepted.
2025-04-20 16:49:04.135 +03:00 [DBG] Connection id "0HNC026AN6AU0" started.
2025-04-20 16:49:04.139 +03:00 [DBG] Connection 0HNC026AN6AU0 established using the following protocol: "Tls12"
2025-04-20 16:49:04.145 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/Savings?userId=43&previousSavingId=0&pageSize=3 - null null
2025-04-20 16:49:04.156 +03:00 [DBG] The request path  does not match the path filter
2025-04-20 16:49:04.158 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-04-20 16:49:04.159 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-04-20 16:49:04.165 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-04-20 16:49:04.168 +03:00 [DBG] Successfully validated the token.
2025-04-20 16:49:04.169 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 16:49:04.171 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-04-20 16:49:04.172 +03:00 [INF] Route matched with {action = "GetSavings", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO]]] GetSavings(Int32, Int32, Int32) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-04-20 16:49:04.174 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:49:04.176 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:49:04.204 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:49:04.206 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:49:04.208 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:49:04.210 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 16:49:04.211 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 16:49:04.217 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-04-20 16:49:04.219 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-04-20 16:49:04.220 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-04-20 16:49:04.222 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-04-20 16:49:04.223 +03:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-04-20 16:49:04.225 +03:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-04-20 16:49:04.226 +03:00 [DBG] Attempting to bind parameter 'previousSavingId' of type 'System.Int32' ...
2025-04-20 16:49:04.232 +03:00 [DBG] Attempting to bind parameter 'previousSavingId' of type 'System.Int32' using the name 'previousSavingId' in request data ...
2025-04-20 16:49:04.234 +03:00 [DBG] Done attempting to bind parameter 'previousSavingId' of type 'System.Int32'.
2025-04-20 16:49:04.236 +03:00 [DBG] Done attempting to bind parameter 'previousSavingId' of type 'System.Int32'.
2025-04-20 16:49:04.237 +03:00 [DBG] Attempting to validate the bound parameter 'previousSavingId' of type 'System.Int32' ...
2025-04-20 16:49:04.239 +03:00 [DBG] Done attempting to validate the bound parameter 'previousSavingId' of type 'System.Int32'.
2025-04-20 16:49:04.241 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-20 16:49:04.242 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-20 16:49:04.244 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-20 16:49:04.250 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-20 16:49:04.251 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-20 16:49:04.253 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-20 16:49:04.257 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:49:04.260 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:49:04.261 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-20 16:49:04.265 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:49:04.267 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:49:04.269 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:49:04.270 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:49:04.272 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:49:04.273 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-04-20 16:49:04.284 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-04-20 16:49:04.286 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:49:04.288 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:49:04.289 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:49:04.291 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:49:04.292 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 5ms reading results.
2025-04-20 16:49:04.294 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:49:04.299 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (5ms).
2025-04-20 16:49:04.303 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-20 16:49:04.305 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-20 16:49:04.307 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-20 16:49:04.309 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-20 16:49:04.310 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-20 16:49:04.311 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-20 16:49:04.316 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 16:49:04.318 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend) in 108.0436ms
2025-04-20 16:49:04.319 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-04-20 16:49:04.321 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:49:04.322 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:49:04.324 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-20 16:49:04.325 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/Savings?userId=43&previousSavingId=0&pageSize=3 - 200 null application/json; charset=utf-8 180.8141ms
2025-04-20 16:49:08.951 +03:00 [DBG] Connection id "0HNC026AN6AU0" received FIN.
2025-04-20 16:49:08.952 +03:00 [DBG] Connection id "0HNC026AN6AU0" is closed. The last processed stream ID was 1.
2025-04-20 16:49:08.953 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6AU0 completed.
2025-04-20 16:49:08.956 +03:00 [DBG] Connection id "0HNC026AN6AU0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:49:08.966 +03:00 [DBG] Connection id "0HNC026AN6AU0" stopped.
2025-04-20 16:49:18.648 +03:00 [DBG] Connection id "0HNC026AN6AU1" accepted.
2025-04-20 16:49:18.662 +03:00 [DBG] Connection id "0HNC026AN6AU1" started.
2025-04-20 16:49:18.665 +03:00 [DBG] Connection 0HNC026AN6AU1 established using the following protocol: "Tls12"
2025-04-20 16:49:18.669 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:49464/api/Savings/100 - null null
2025-04-20 16:49:18.679 +03:00 [DBG] DELETE requests are not supported
2025-04-20 16:49:18.681 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings/100'
2025-04-20 16:49:18.684 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Delete (Finance_Manager_Backend)' with route pattern 'api/Savings/{id}' is valid for the request path '/api/Savings/100'
2025-04-20 16:49:18.686 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Delete (Finance_Manager_Backend)'
2025-04-20 16:49:18.688 +03:00 [DBG] Successfully validated the token.
2025-04-20 16:49:18.689 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 16:49:18.694 +03:00 [DBG] Authorization was successful.
2025-04-20 16:49:18.695 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Delete (Finance_Manager_Backend)'
2025-04-20 16:49:18.701 +03:00 [INF] Route matched with {action = "Delete", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Delete(Int32) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-04-20 16:49:18.704 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:49:18.706 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:49:18.709 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:49:18.712 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:49:18.713 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:49:18.715 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 16:49:18.717 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 16:49:18.719 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-20 16:49:18.722 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-20 16:49:18.728 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-20 16:49:18.737 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-20 16:49:18.739 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-20 16:49:18.741 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-20 16:49:18.745 +03:00 [INF] Executing DeleteSavingAsync method.
2025-04-20 16:49:18.746 +03:00 [INF] Start ExecuteTransactionAsync method.
2025-04-20 16:49:18.747 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:49:18.752 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:49:18.753 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-20 16:49:18.754 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:49:18.756 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:49:18.761 +03:00 [DBG] Beginning transaction with isolation level 'ReadCommitted'.
2025-04-20 16:49:18.762 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-20 16:49:18.764 +03:00 [DBG] Start db transaction.
2025-04-20 16:49:18.766 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:49:18.768 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:49:18.769 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 16:49:18.771 +03:00 [DBG] Executing DbCommand [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-04-20 16:49:18.781 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-04-20 16:49:18.789 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:49:18.793 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:49:18.795 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 6ms reading results.
2025-04-20 16:49:18.797 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:49:18.799 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:49:18.800 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:49:18.802 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:49:18.805 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:49:18.811 +03:00 [DBG] The navigation 'Saving.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:49:18.813 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:49:18.814 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:49:18.816 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 5ms reading results.
2025-04-20 16:49:18.819 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:49:18.821 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 16:49:18.822 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 16:49:18.823 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 16:49:18.826 +03:00 [DBG] Creating transaction savepoint.
2025-04-20 16:49:18.828 +03:00 [DBG] Created transaction savepoint.
2025-04-20 16:49:18.829 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:49:18.831 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:49:18.832 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:49:18.834 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [savings]
OUTPUT 1
WHERE [id] = @p0;
2025-04-20 16:49:18.876 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [savings]
OUTPUT 1
WHERE [id] = @p0;
2025-04-20 16:49:18.879 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:49:18.881 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-04-20 16:49:18.884 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:49:18.886 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-20 16:49:18.888 +03:00 [DBG] Committing transaction.
2025-04-20 16:49:18.889 +03:00 [DBG] Committed transaction.
2025-04-20 16:49:18.891 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:49:18.894 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (3ms).
2025-04-20 16:49:18.895 +03:00 [INF] Transaction successful.
2025-04-20 16:49:18.896 +03:00 [DBG] Disposing transaction.
2025-04-20 16:49:18.897 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-20 16:49:18.898 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.Delete (Finance_Manager_Backend) in 183.5026ms
2025-04-20 16:49:18.900 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Delete (Finance_Manager_Backend)'
2025-04-20 16:49:18.902 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:49:18.903 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:49:18.906 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-20 16:49:18.909 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:49464/api/Savings/100 - 204 null null 240.4186ms
2025-04-20 16:49:18.962 +03:00 [DBG] Connection id "0HNC026AN6AU1" received FIN.
2025-04-20 16:49:18.966 +03:00 [DBG] Connection id "0HNC026AN6AU1" is closed. The last processed stream ID was 1.
2025-04-20 16:49:18.966 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6AU1 completed.
2025-04-20 16:49:18.969 +03:00 [DBG] Connection id "0HNC026AN6AU1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:49:18.972 +03:00 [DBG] Connection id "0HNC026AN6AU1" stopped.
2025-04-20 16:49:59.040 +03:00 [DBG] Connection id "0HNC026AN6AU2" accepted.
2025-04-20 16:49:59.045 +03:00 [DBG] Connection id "0HNC026AN6AU2" started.
2025-04-20 16:49:59.067 +03:00 [DBG] Connection 0HNC026AN6AU2 established using the following protocol: "Tls12"
2025-04-20 16:49:59.070 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/Categories - null null
2025-04-20 16:49:59.079 +03:00 [DBG] The request path  does not match the path filter
2025-04-20 16:49:59.081 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Categories'
2025-04-20 16:49:59.082 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)' with route pattern 'api/Categories' is valid for the request path '/api/Categories'
2025-04-20 16:49:59.085 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-04-20 16:49:59.088 +03:00 [DBG] Successfully validated the token.
2025-04-20 16:49:59.090 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 16:49:59.094 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-04-20 16:49:59.099 +03:00 [INF] Route matched with {action = "GetAllCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.CategoryDTO]]] GetAllCategories() on controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend).
2025-04-20 16:49:59.104 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:49:59.110 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:49:59.115 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:49:59.117 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:49:59.119 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:49:59.122 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-04-20 16:49:59.130 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-04-20 16:49:59.136 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:49:59.142 +03:00 [DBG] Compiling query expression: 
'DbSet<Category>()'
2025-04-20 16:49:59.158 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Category>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Category entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Category instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Category);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Category)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                        {
                            return 
                            {
                                Category instance;
                                instance = new Category();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                                instance.<Icon>k__BackingField = dataReader.GetString(2);
                                instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                                instance.<Name>k__BackingField = dataReader.GetString(4);
                                instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Category)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-20 16:49:59.165 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:49:59.166 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-20 16:49:59.167 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:49:59.169 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:49:59.170 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:49:59.172 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:49:59.176 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-20 16:49:59.177 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-20 16:49:59.183 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-20 16:49:59.194 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:49:59.196 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:49:59.197 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:49:59.199 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:49:59.200 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:49:59.202 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:49:59.204 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 9ms reading results.
2025-04-20 16:49:59.205 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:49:59.209 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (3ms).
2025-04-20 16:49:59.215 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-20 16:49:59.218 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-20 16:49:59.219 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-20 16:49:59.221 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-20 16:49:59.222 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-20 16:49:59.223 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-20 16:49:59.226 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.CategoryDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 16:49:59.268 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend) in 146.0917ms
2025-04-20 16:49:59.270 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-04-20 16:49:59.271 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:49:59.278 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:49:59.280 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-20 16:49:59.282 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/Categories - 200 null application/json; charset=utf-8 212.2838ms
2025-04-20 16:50:09.006 +03:00 [DBG] Connection id "0HNC026AN6AU2" received FIN.
2025-04-20 16:50:09.011 +03:00 [DBG] Connection id "0HNC026AN6AU2" is closed. The last processed stream ID was 1.
2025-04-20 16:50:09.011 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6AU2 completed.
2025-04-20 16:50:09.016 +03:00 [DBG] Connection id "0HNC026AN6AU2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:50:09.028 +03:00 [DBG] Connection id "0HNC026AN6AU2" stopped.
2025-04-20 16:50:16.466 +03:00 [DBG] Connection id "0HNC026AN6AU3" accepted.
2025-04-20 16:50:16.473 +03:00 [DBG] Connection id "0HNC026AN6AU3" started.
2025-04-20 16:50:16.477 +03:00 [DBG] Connection 0HNC026AN6AU3 established using the following protocol: "Tls12"
2025-04-20 16:50:16.483 +03:00 [INF] Request starting HTTP/2 POST https://localhost:49464/api/Transactions - application/json 122
2025-04-20 16:50:16.494 +03:00 [DBG] POST requests are not supported
2025-04-20 16:50:16.496 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions'
2025-04-20 16:50:16.507 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Create (Finance_Manager_Backend)' with route pattern 'api/Transactions' is valid for the request path '/api/Transactions'
2025-04-20 16:50:16.509 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Create (Finance_Manager_Backend)'
2025-04-20 16:50:16.510 +03:00 [DBG] Successfully validated the token.
2025-04-20 16:50:16.511 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 16:50:16.512 +03:00 [DBG] Authorization was successful.
2025-04-20 16:50:16.513 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Create (Finance_Manager_Backend)'
2025-04-20 16:50:16.517 +03:00 [INF] Route matched with {action = "Create", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-04-20 16:50:16.519 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:50:16.523 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:50:16.525 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:50:16.527 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:50:16.528 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:50:16.529 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-20 16:50:16.531 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-20 16:50:16.533 +03:00 [DBG] Attempting to bind parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO' ...
2025-04-20 16:50:16.534 +03:00 [DBG] Attempting to bind parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO' using the name '' in request data ...
2025-04-20 16:50:16.536 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-20 16:50:16.544 +03:00 [DBG] Connection id "0HNC026AN6AU3", Request id "0HNC026AN6AU3:00000001": started reading request body.
2025-04-20 16:50:16.546 +03:00 [DBG] Connection id "0HNC026AN6AU3", Request id "0HNC026AN6AU3:00000001": done reading request body.
2025-04-20 16:50:16.551 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO'
2025-04-20 16:50:16.552 +03:00 [DBG] Done attempting to bind parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO'.
2025-04-20 16:50:16.555 +03:00 [DBG] Done attempting to bind parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO'.
2025-04-20 16:50:16.557 +03:00 [DBG] Attempting to validate the bound parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO' ...
2025-04-20 16:50:16.560 +03:00 [DBG] Done attempting to validate the bound parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO'.
2025-04-20 16:50:16.563 +03:00 [INF] Start ExecuteTransactionAsync method.
2025-04-20 16:50:16.564 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:50:16.576 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:50:16.577 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-20 16:50:16.578 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:50:16.580 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:50:16.581 +03:00 [DBG] Beginning transaction with isolation level 'ReadCommitted'.
2025-04-20 16:50:16.583 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-20 16:50:16.584 +03:00 [DBG] Start db transaction.
2025-04-20 16:50:16.586 +03:00 [INF] Executing CreateTransactionAsync method.
2025-04-20 16:50:16.588 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:50:16.590 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:50:16.591 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:50:16.592 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:50:16.599 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:50:16.601 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:50:16.603 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-04-20 16:50:17.103 +03:00 [ERR] Failed transaction: User with 0 isn't exist.
2025-04-20 16:50:17.107 +03:00 [DBG] Rolling back transaction.
2025-04-20 16:50:17.111 +03:00 [DBG] Rolled back transaction.
2025-04-20 16:50:17.112 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:50:17.114 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:50:17.115 +03:00 [DBG] Disposing transaction.
2025-04-20 16:50:17.116 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-20 16:50:17.119 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-20 16:50:17.120 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-20 16:50:17.123 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-20 16:50:17.124 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-20 16:50:17.125 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-20 16:50:17.127 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Int32'.
2025-04-20 16:50:17.129 +03:00 [DBG] Found the endpoints ["Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)"] for address (id=[0],action=[GetById],controller=[Transactions])
2025-04-20 16:50:17.130 +03:00 [DBG] Successfully processed template api/Transactions/{id} for Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend) resulting in /api/Transactions/0 and 
2025-04-20 16:50:17.132 +03:00 [DBG] Link generation succeeded for endpoints ["Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)"] with result /api/Transactions/0
2025-04-20 16:50:17.135 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.Create (Finance_Manager_Backend) in 605.202ms
2025-04-20 16:50:17.137 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Create (Finance_Manager_Backend)'
2025-04-20 16:50:17.147 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:50:17.160 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:50:17.162 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-20 16:50:17.165 +03:00 [INF] Request finished HTTP/2 POST https://localhost:49464/api/Transactions - 201 null application/json; charset=utf-8 682.1773ms
2025-04-20 16:50:19.006 +03:00 [DBG] Connection id "0HNC026AN6AU3" received FIN.
2025-04-20 16:50:19.008 +03:00 [DBG] Connection id "0HNC026AN6AU3" is closed. The last processed stream ID was 1.
2025-04-20 16:50:19.008 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6AU3 completed.
2025-04-20 16:50:19.011 +03:00 [DBG] Connection id "0HNC026AN6AU3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:50:19.021 +03:00 [DBG] Connection id "0HNC026AN6AU3" stopped.
2025-04-20 16:51:15.911 +03:00 [DBG] Connection id "0HNC026AN6AU4" accepted.
2025-04-20 16:51:15.973 +03:00 [DBG] Connection id "0HNC026AN6AU4" started.
2025-04-20 16:51:15.977 +03:00 [DBG] Connection 0HNC026AN6AU4 established using the following protocol: "Tls12"
2025-04-20 16:51:15.980 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/Transactions?userId=43&pageSize=10 - null null
2025-04-20 16:51:15.990 +03:00 [DBG] The request path  does not match the path filter
2025-04-20 16:51:15.992 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions'
2025-04-20 16:51:15.994 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)' with route pattern 'api/Transactions' is valid for the request path '/api/Transactions'
2025-04-20 16:51:15.996 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-04-20 16:51:15.998 +03:00 [DBG] Successfully validated the token.
2025-04-20 16:51:15.999 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 16:51:16.007 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-04-20 16:51:16.013 +03:00 [INF] Route matched with {action = "GetTransactions", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO]]] GetTransactions(Int32, System.Nullable`1[System.DateTime], Int32) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-04-20 16:51:16.025 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:51:16.043 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:51:16.045 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:51:16.048 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:51:16.049 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:51:16.053 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-20 16:51:16.060 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-20 16:51:16.062 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-04-20 16:51:16.064 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-04-20 16:51:16.067 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-04-20 16:51:16.074 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-04-20 16:51:16.077 +03:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-04-20 16:51:16.078 +03:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-04-20 16:51:16.080 +03:00 [DBG] Attempting to bind parameter 'lastDate' of type 'System.Nullable`1[System.DateTime]' ...
2025-04-20 16:51:16.082 +03:00 [DBG] Attempting to bind parameter 'lastDate' of type 'System.Nullable`1[System.DateTime]' using the name '' in request data ...
2025-04-20 16:51:16.085 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'lastDate' of type 'System.Nullable`1[System.DateTime]'.
2025-04-20 16:51:16.089 +03:00 [DBG] Done attempting to bind parameter 'lastDate' of type 'System.Nullable`1[System.DateTime]'.
2025-04-20 16:51:16.093 +03:00 [DBG] Done attempting to bind parameter 'lastDate' of type 'System.Nullable`1[System.DateTime]'.
2025-04-20 16:51:16.094 +03:00 [DBG] Attempting to validate the bound parameter 'lastDate' of type 'System.Nullable`1[System.DateTime]' ...
2025-04-20 16:51:16.096 +03:00 [DBG] Done attempting to validate the bound parameter 'lastDate' of type 'System.Nullable`1[System.DateTime]'.
2025-04-20 16:51:16.097 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-20 16:51:16.098 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-20 16:51:16.100 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-20 16:51:16.103 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-20 16:51:16.105 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-20 16:51:16.108 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-20 16:51:16.112 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:51:16.115 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:51:16.116 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-20 16:51:16.117 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:51:16.120 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:51:16.121 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:51:16.122 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:51:16.124 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 16:51:16.126 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:51:16.130 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:51:16.137 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:51:16.139 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:51:16.141 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-04-20 16:51:16.142 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:51:16.144 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:51:16.148 +03:00 [DBG] Compiling query expression: 
'DbSet<Transaction>()
    .Where(t => t.UserId == __userId_0)
    .OrderByDescending(t => t.Date)
    .Take(__p_1)'
2025-04-20 16:51:16.159 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Transaction>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Transaction.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Transaction.CategoryId (int) Required FK Index, 1], [Property: Transaction.Date (DateTime) Required, 2], [Property: Transaction.InnerCategoryId (int?) FK Index, 3], [Property: Transaction.Name (string) Required MaxLength(50), 4], [Property: Transaction.Price (decimal) Required, 5], [Property: Transaction.UserId (int) Required FK Index, 6] }
        SELECT TOP(@__p_1) t.id, t.category_fk, t.date, t.inner_category_fk, t.name, t.price, t.user_fk
        FROM transactions AS t
        WHERE t.user_fk == @__userId_0
        ORDER BY t.date DESC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Transaction.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Transaction.CategoryId (int) Required FK Index, 1], [Property: Transaction.Date (DateTime) Required, 2], [Property: Transaction.InnerCategoryId (int?) FK Index, 3], [Property: Transaction.Name (string) Required MaxLength(50), 4], [Property: Transaction.Price (decimal) Required, 5], [Property: Transaction.UserId (int) Required FK Index, 6] }
        SELECT TOP(@__p_1) t.id, t.category_fk, t.date, t.inner_category_fk, t.name, t.price, t.user_fk
        FROM transactions AS t
        WHERE t.user_fk == @__userId_0
        ORDER BY t.date DESC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Transaction entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Transaction instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Transaction);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Transaction.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Transaction)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")]: 
                        {
                            return 
                            {
                                Transaction instance;
                                instance = new Transaction();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CategoryId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Date>k__BackingField = dataReader.GetDateTime(2);
                                instance.<InnerCategoryId>k__BackingField = dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3);
                                instance.<Name>k__BackingField = dataReader.GetString(4);
                                instance.<Price>k__BackingField = dataReader.GetDecimal(5);
                                instance.<UserId>k__BackingField = dataReader.GetInt32(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Transaction)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-20 16:51:16.164 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:51:16.166 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:51:16.167 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:51:16.170 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:51:16.171 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-20 16:51:16.173 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0
ORDER BY [t].[date] DESC
2025-04-20 16:51:16.591 +03:00 [INF] Executed DbCommand (418ms) [Parameters=[@__p_1='?' (DbType = Int32), @__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0
ORDER BY [t].[date] DESC
2025-04-20 16:51:16.601 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:51:16.605 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:51:16.607 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:51:16.609 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:51:16.610 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:51:16.612 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:51:16.614 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:51:16.615 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:51:16.617 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:51:16.621 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:51:16.622 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:51:16.624 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 25ms reading results.
2025-04-20 16:51:16.626 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:51:16.629 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-20 16:51:16.637 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-20 16:51:16.641 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-20 16:51:16.642 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-20 16:51:16.644 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-20 16:51:16.645 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-20 16:51:16.646 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-20 16:51:16.648 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 16:51:16.655 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend) in 601.8576ms
2025-04-20 16:51:16.660 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-04-20 16:51:16.664 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:51:16.694 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:51:16.695 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-20 16:51:16.700 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/Transactions?userId=43&pageSize=10 - 200 null application/json; charset=utf-8 719.7988ms
2025-04-20 16:51:19.077 +03:00 [DBG] Connection id "0HNC026AN6AU4" received FIN.
2025-04-20 16:51:19.079 +03:00 [DBG] Connection id "0HNC026AN6AU4" is closed. The last processed stream ID was 1.
2025-04-20 16:51:19.079 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6AU4 completed.
2025-04-20 16:51:19.083 +03:00 [DBG] Connection id "0HNC026AN6AU4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:51:19.087 +03:00 [DBG] Connection id "0HNC026AN6AU4" stopped.
2025-04-20 16:52:56.973 +03:00 [DBG] Connection id "0HNC026AN6AU5" accepted.
2025-04-20 16:52:56.982 +03:00 [DBG] Connection id "0HNC026AN6AU5" started.
2025-04-20 16:52:56.987 +03:00 [DBG] Connection 0HNC026AN6AU5 established using the following protocol: "Tls12"
2025-04-20 16:52:56.990 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:49464/api/Transactions - application/json 162
2025-04-20 16:52:57.024 +03:00 [DBG] PUT requests are not supported
2025-04-20 16:52:57.025 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions'
2025-04-20 16:52:57.026 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Update (Finance_Manager_Backend)' with route pattern 'api/Transactions' is valid for the request path '/api/Transactions'
2025-04-20 16:52:57.028 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Update (Finance_Manager_Backend)'
2025-04-20 16:52:57.029 +03:00 [DBG] Successfully validated the token.
2025-04-20 16:52:57.030 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 16:52:57.031 +03:00 [DBG] Authorization was successful.
2025-04-20 16:52:57.032 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Update (Finance_Manager_Backend)'
2025-04-20 16:52:57.038 +03:00 [INF] Route matched with {action = "Update", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Update(Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-04-20 16:52:57.039 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:52:57.041 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:52:57.042 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:52:57.044 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:52:57.046 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:52:57.047 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-20 16:52:57.050 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-20 16:52:57.054 +03:00 [DBG] Attempting to bind parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO' ...
2025-04-20 16:52:57.055 +03:00 [DBG] Attempting to bind parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO' using the name '' in request data ...
2025-04-20 16:52:57.057 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-20 16:52:57.058 +03:00 [DBG] Connection id "0HNC026AN6AU5", Request id "0HNC026AN6AU5:00000001": started reading request body.
2025-04-20 16:52:57.062 +03:00 [DBG] Connection id "0HNC026AN6AU5", Request id "0HNC026AN6AU5:00000001": done reading request body.
2025-04-20 16:52:57.065 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO'
2025-04-20 16:52:57.066 +03:00 [DBG] Done attempting to bind parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO'.
2025-04-20 16:52:57.070 +03:00 [DBG] Done attempting to bind parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO'.
2025-04-20 16:52:57.071 +03:00 [DBG] Attempting to validate the bound parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO' ...
2025-04-20 16:52:57.073 +03:00 [DBG] Done attempting to validate the bound parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO'.
2025-04-20 16:52:57.076 +03:00 [INF] Executing UpdateTransactionAsync method.
2025-04-20 16:52:57.078 +03:00 [INF] Start ExecuteTransactionAsync method.
2025-04-20 16:52:57.080 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:52:57.082 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:52:57.082 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-20 16:52:57.085 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:52:57.087 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:52:57.088 +03:00 [DBG] Beginning transaction with isolation level 'ReadCommitted'.
2025-04-20 16:52:57.089 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-20 16:52:57.091 +03:00 [DBG] Start db transaction.
2025-04-20 16:52:57.093 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:52:57.094 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:52:57.095 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:52:57.097 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:52:57.104 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:52:57.107 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:52:57.109 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:52:57.110 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-04-20 16:52:57.910 +03:00 [DBG] Compiling query expression: 
'DbSet<Transaction>()
    .Include(t => t.Category)
    .Include(t => t.InnerCategory)
    .FirstOrDefault(t => t.Id == __transactionId_0)'
2025-04-20 16:52:57.950 +03:00 [DBG] Including navigation: 'Transaction.Category'.
2025-04-20 16:52:57.956 +03:00 [DBG] Including navigation: 'Transaction.InnerCategory'.
2025-04-20 16:52:58.086 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Transaction>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Transaction>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Transaction.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Transaction.CategoryId (int) Required FK Index, 1], [Property: Transaction.Date (DateTime) Required, 2], [Property: Transaction.InnerCategoryId (int?) FK Index, 3], [Property: Transaction.Name (string) Required MaxLength(50), 4], [Property: Transaction.Price (decimal) Required, 5], [Property: Transaction.UserId (int) Required FK Index, 6] }
                1 -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Category.ColorForBackground (string) Required MaxLength(7), 8], [Property: Category.Icon (string) Required MaxLength(100), 9], [Property: Category.IsIncome (bool) Required, 10], [Property: Category.Name (string) Required MaxLength(50), 11], [Property: Category.ParentCategoryId (int?) FK Index, 12] }
                2 -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Category.ColorForBackground (string) Required MaxLength(7), 14], [Property: Category.Icon (string) Required MaxLength(100), 15], [Property: Category.IsIncome (bool) Required, 16], [Property: Category.Name (string) Required MaxLength(50), 17], [Property: Category.ParentCategoryId (int?) FK Index, 18] }
            SELECT TOP(1) t.id, t.category_fk, t.date, t.inner_category_fk, t.name, t.price, t.user_fk, c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk, c0.id, c0.background_color, c0.icon_path, c0.is_income, c0.name, c0.parent_category_fk
            FROM transactions AS t
            INNER JOIN categories AS c ON t.category_fk == c.id
            LEFT JOIN categories AS c0 ON t.inner_category_fk == c0.id
            WHERE t.id == @__transactionId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Transaction.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Transaction.CategoryId (int) Required FK Index, 1], [Property: Transaction.Date (DateTime) Required, 2], [Property: Transaction.InnerCategoryId (int?) FK Index, 3], [Property: Transaction.Name (string) Required MaxLength(50), 4], [Property: Transaction.Price (decimal) Required, 5], [Property: Transaction.UserId (int) Required FK Index, 6] }
                1 -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Category.ColorForBackground (string) Required MaxLength(7), 8], [Property: Category.Icon (string) Required MaxLength(100), 9], [Property: Category.IsIncome (bool) Required, 10], [Property: Category.Name (string) Required MaxLength(50), 11], [Property: Category.ParentCategoryId (int?) FK Index, 12] }
                2 -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Category.ColorForBackground (string) Required MaxLength(7), 14], [Property: Category.Icon (string) Required MaxLength(100), 15], [Property: Category.IsIncome (bool) Required, 16], [Property: Category.Name (string) Required MaxLength(50), 17], [Property: Category.ParentCategoryId (int?) FK Index, 18] }
            SELECT TOP(1) t.id, t.category_fk, t.date, t.inner_category_fk, t.name, t.price, t.user_fk, c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk, c0.id, c0.background_color, c0.icon_path, c0.is_income, c0.name, c0.parent_category_fk
            FROM transactions AS t
            INNER JOIN categories AS c ON t.category_fk == c.id
            LEFT JOIN categories AS c0 ON t.inner_category_fk == c0.id
            WHERE t.id == @__transactionId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Transaction entity;
            Category entity;
            Category entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Transaction instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Transaction);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Transaction.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Transaction)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")]: 
                            {
                                return 
                                {
                                    Transaction instance;
                                    instance = new Transaction();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CategoryId>k__BackingField = dataReader.GetInt32(1);
                                    instance.<Date>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<InnerCategoryId>k__BackingField = dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3);
                                    instance.<Name>k__BackingField = dataReader.GetString(4);
                                    instance.<Price>k__BackingField = dataReader.GetDecimal(5);
                                    instance.<UserId>k__BackingField = dataReader.GetInt32(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Transaction)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                Category instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(Category);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(7) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (Category)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                            {
                                return 
                                {
                                    Category instance;
                                    instance = new Category();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(7);
                                    instance.<ColorForBackground>k__BackingField = dataReader.GetString(8);
                                    instance.<Icon>k__BackingField = dataReader.GetString(9);
                                    instance.<IsIncome>k__BackingField = dataReader.GetBoolean(10);
                                    instance.<Name>k__BackingField = dataReader.GetString(11);
                                    instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(12) ? default(int?) : (int?)dataReader.GetInt32(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Category)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                Category instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(Category);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                    keyValues: new object[]{ dataReader.IsDBNull(13) ? default(object) : (object)dataReader.GetInt32(13) }, 
                    throwOnNullKey: False, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (Category)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                            {
                                return 
                                {
                                    Category instance;
                                    instance = new Category();
                                    instance.<Id>k__BackingField = dataReader.IsDBNull(13) ? default(int) : dataReader.GetInt32(13);
                                    instance.<ColorForBackground>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                    instance.<Icon>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                    instance.<IsIncome>k__BackingField = dataReader.IsDBNull(16) ? default(bool) : dataReader.GetBoolean(16);
                                    instance.<Name>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(18) ? default(int?) : (int?)dataReader.GetInt32(18);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext3.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Category)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Transaction, Transaction, Category>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Transaction.Category (Category) ToPrincipal Category | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction").FindNavigation("Category")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return namelessParameter{10}.<Category>k__BackingField = namelessParameter{11};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Transaction, Transaction, Category>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Transaction.InnerCategory (Category) ToPrincipal Category | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction").FindNavigation("InnerCategory")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{13}, namelessParameter{14}) => 
                {
                    return namelessParameter{13}.<InnerCategory>k__BackingField = namelessParameter{14};
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-20 16:52:58.096 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:52:58.097 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:52:58.099 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:52:58.100 +03:00 [DBG] Executing DbCommand [Parameters=[@__transactionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk], [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk], [c0].[id], [c0].[background_color], [c0].[icon_path], [c0].[is_income], [c0].[name], [c0].[parent_category_fk]
FROM [transactions] AS [t]
INNER JOIN [categories] AS [c] ON [t].[category_fk] = [c].[id]
LEFT JOIN [categories] AS [c0] ON [t].[inner_category_fk] = [c0].[id]
WHERE [t].[id] = @__transactionId_0
2025-04-20 16:52:58.162 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[@__transactionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk], [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk], [c0].[id], [c0].[background_color], [c0].[icon_path], [c0].[is_income], [c0].[name], [c0].[parent_category_fk]
FROM [transactions] AS [t]
INNER JOIN [categories] AS [c] ON [t].[category_fk] = [c].[id]
LEFT JOIN [categories] AS [c0] ON [t].[inner_category_fk] = [c0].[id]
WHERE [t].[id] = @__transactionId_0
2025-04-20 16:52:58.165 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:52:58.168 +03:00 [DBG] The navigation 'Transaction.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:52:58.170 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:52:58.172 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:52:58.173 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 8ms reading results.
2025-04-20 16:52:58.175 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 16:52:58.176 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 16:52:58.177 +03:00 [DBG] The unchanged property 'User.Balance' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:52:58.179 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:52:58.196 +03:00 [DBG] The unchanged property 'Transaction.CategoryId' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:52:58.211 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:52:58.214 +03:00 [DBG] The foreign key property 'Transaction.CategoryId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:52:58.218 +03:00 [DBG] The navigation 'Transaction.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:52:58.221 +03:00 [DBG] The unchanged property 'Transaction.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:52:58.223 +03:00 [DBG] The unchanged property 'Transaction.Price' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:52:58.224 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 16:52:58.226 +03:00 [DBG] Executing 2 update commands as a batch.
2025-04-20 16:52:58.227 +03:00 [DBG] Creating transaction savepoint.
2025-04-20 16:52:58.228 +03:00 [DBG] Created transaction savepoint.
2025-04-20 16:52:58.229 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:52:58.230 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:52:58.232 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:52:58.233 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p4='?' (Precision = 12) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [transactions] SET [category_fk] = @p0, [name] = @p1, [price] = @p2
OUTPUT 1
WHERE [id] = @p3;
UPDATE [users] SET [balance] = @p4
OUTPUT 1
WHERE [id] = @p5;
2025-04-20 16:52:58.271 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p4='?' (Precision = 12) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [transactions] SET [category_fk] = @p0, [name] = @p1, [price] = @p2
OUTPUT 1
WHERE [id] = @p3;
UPDATE [users] SET [balance] = @p4
OUTPUT 1
WHERE [id] = @p5;
2025-04-20 16:52:58.274 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:52:58.275 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-04-20 16:52:58.278 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:52:58.280 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:52:58.282 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2025-04-20 16:52:58.284 +03:00 [DBG] Committing transaction.
2025-04-20 16:52:58.287 +03:00 [DBG] Committed transaction.
2025-04-20 16:52:58.288 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:52:58.290 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:52:58.291 +03:00 [INF] Transaction successful.
2025-04-20 16:52:58.292 +03:00 [DBG] Disposing transaction.
2025-04-20 16:52:58.293 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-20 16:52:58.295 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.Update (Finance_Manager_Backend) in 1247.6702ms
2025-04-20 16:52:58.296 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Update (Finance_Manager_Backend)'
2025-04-20 16:52:58.297 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:52:58.299 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:52:58.304 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-04-20 16:52:58.305 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:49464/api/Transactions - 204 null null 1315.4257ms
2025-04-20 16:52:59.319 +03:00 [DBG] Connection id "0HNC026AN6AU5" received FIN.
2025-04-20 16:52:59.321 +03:00 [DBG] Connection id "0HNC026AN6AU5" is closed. The last processed stream ID was 1.
2025-04-20 16:52:59.322 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6AU5 completed.
2025-04-20 16:52:59.324 +03:00 [DBG] Connection id "0HNC026AN6AU5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:52:59.335 +03:00 [DBG] Connection id "0HNC026AN6AU5" stopped.
2025-04-20 16:53:22.476 +03:00 [DBG] Connection id "0HNC026AN6AU6" accepted.
2025-04-20 16:53:22.550 +03:00 [DBG] Connection id "0HNC026AN6AU6" started.
2025-04-20 16:53:22.553 +03:00 [DBG] Connection 0HNC026AN6AU6 established using the following protocol: "Tls12"
2025-04-20 16:53:22.558 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/Transactions/455 - null null
2025-04-20 16:53:22.561 +03:00 [DBG] The request path  does not match the path filter
2025-04-20 16:53:22.563 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions/455'
2025-04-20 16:53:22.564 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)' with route pattern 'api/Transactions/{id}' is valid for the request path '/api/Transactions/455'
2025-04-20 16:53:22.567 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)'
2025-04-20 16:53:22.568 +03:00 [DBG] Successfully validated the token.
2025-04-20 16:53:22.569 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 16:53:22.573 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)'
2025-04-20 16:53:22.578 +03:00 [INF] Route matched with {action = "GetById", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO]] GetById(Int32) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-04-20 16:53:22.580 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:53:22.583 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:53:22.584 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:53:22.586 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:53:22.590 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:53:22.592 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-20 16:53:22.594 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-20 16:53:22.595 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-20 16:53:22.596 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-20 16:53:22.598 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-20 16:53:22.600 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-20 16:53:22.601 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-20 16:53:22.603 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-20 16:53:22.617 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:53:22.624 +03:00 [DBG] Compiling query expression: 
'DbSet<Transaction>()
    .FirstOrDefault(t => t.Id == __transactionId_0)'
2025-04-20 16:53:22.630 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Transaction>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Transaction>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Transaction.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Transaction.CategoryId (int) Required FK Index, 1], [Property: Transaction.Date (DateTime) Required, 2], [Property: Transaction.InnerCategoryId (int?) FK Index, 3], [Property: Transaction.Name (string) Required MaxLength(50), 4], [Property: Transaction.Price (decimal) Required, 5], [Property: Transaction.UserId (int) Required FK Index, 6] }
            SELECT TOP(1) t.id, t.category_fk, t.date, t.inner_category_fk, t.name, t.price, t.user_fk
            FROM transactions AS t
            WHERE t.id == @__transactionId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Transaction.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Transaction.CategoryId (int) Required FK Index, 1], [Property: Transaction.Date (DateTime) Required, 2], [Property: Transaction.InnerCategoryId (int?) FK Index, 3], [Property: Transaction.Name (string) Required MaxLength(50), 4], [Property: Transaction.Price (decimal) Required, 5], [Property: Transaction.UserId (int) Required FK Index, 6] }
            SELECT TOP(1) t.id, t.category_fk, t.date, t.inner_category_fk, t.name, t.price, t.user_fk
            FROM transactions AS t
            WHERE t.id == @__transactionId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Transaction entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Transaction instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Transaction);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Transaction.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Transaction)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")]: 
                            {
                                return 
                                {
                                    Transaction instance;
                                    instance = new Transaction();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CategoryId>k__BackingField = dataReader.GetInt32(1);
                                    instance.<Date>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<InnerCategoryId>k__BackingField = dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3);
                                    instance.<Name>k__BackingField = dataReader.GetString(4);
                                    instance.<Price>k__BackingField = dataReader.GetDecimal(5);
                                    instance.<UserId>k__BackingField = dataReader.GetInt32(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Transaction)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-20 16:53:22.635 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:53:22.636 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-20 16:53:22.641 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:53:22.643 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:53:22.645 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:53:22.646 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:53:22.648 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 16:53:22.649 +03:00 [DBG] Executing DbCommand [Parameters=[@__transactionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[id] = @__transactionId_0
2025-04-20 16:53:22.702 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__transactionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[id] = @__transactionId_0
2025-04-20 16:53:22.709 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:53:22.711 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:53:22.712 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-04-20 16:53:22.714 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:53:22.716 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:53:22.719 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-20 16:53:22.727 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-20 16:53:22.729 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-20 16:53:22.731 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-20 16:53:22.732 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-20 16:53:22.733 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-20 16:53:22.734 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO'.
2025-04-20 16:53:22.736 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend) in 144.0951ms
2025-04-20 16:53:22.744 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)'
2025-04-20 16:53:22.745 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:53:22.748 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:53:22.751 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-20 16:53:22.753 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/Transactions/455 - 200 null application/json; charset=utf-8 195.4134ms
2025-04-20 16:53:29.363 +03:00 [DBG] Connection id "0HNC026AN6AU6" received FIN.
2025-04-20 16:53:29.365 +03:00 [DBG] Connection id "0HNC026AN6AU6" is closed. The last processed stream ID was 1.
2025-04-20 16:53:29.366 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6AU6 completed.
2025-04-20 16:53:29.369 +03:00 [DBG] Connection id "0HNC026AN6AU6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:53:29.378 +03:00 [DBG] Connection id "0HNC026AN6AU6" stopped.
2025-04-20 16:53:36.429 +03:00 [DBG] Connection id "0HNC026AN6AU7" accepted.
2025-04-20 16:53:36.441 +03:00 [DBG] Connection id "0HNC026AN6AU7" started.
2025-04-20 16:53:36.445 +03:00 [DBG] Connection 0HNC026AN6AU7 established using the following protocol: "Tls12"
2025-04-20 16:53:36.452 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:49464/api/Transactions/455 - null null
2025-04-20 16:53:36.455 +03:00 [DBG] DELETE requests are not supported
2025-04-20 16:53:36.456 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions/455'
2025-04-20 16:53:36.457 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Delete (Finance_Manager_Backend)' with route pattern 'api/Transactions/{id}' is valid for the request path '/api/Transactions/455'
2025-04-20 16:53:36.459 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Delete (Finance_Manager_Backend)'
2025-04-20 16:53:36.460 +03:00 [DBG] Successfully validated the token.
2025-04-20 16:53:36.461 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 16:53:36.462 +03:00 [DBG] Authorization was successful.
2025-04-20 16:53:36.463 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Delete (Finance_Manager_Backend)'
2025-04-20 16:53:36.468 +03:00 [INF] Route matched with {action = "Delete", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Delete(Int32) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-04-20 16:53:36.471 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:53:36.472 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:53:36.474 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:53:36.476 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:53:36.477 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:53:36.479 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-20 16:53:36.480 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-20 16:53:36.482 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-20 16:53:36.485 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-20 16:53:36.486 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-20 16:53:36.488 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-20 16:53:36.489 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-20 16:53:36.490 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-20 16:53:36.493 +03:00 [INF] Executing DeleteTransactionAsync method.
2025-04-20 16:53:36.494 +03:00 [INF] Start ExecuteTransactionAsync method.
2025-04-20 16:53:36.495 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:53:36.497 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:53:36.498 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-20 16:53:36.501 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:53:36.503 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:53:36.504 +03:00 [DBG] Beginning transaction with isolation level 'ReadCommitted'.
2025-04-20 16:53:36.506 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-20 16:53:36.507 +03:00 [DBG] Start db transaction.
2025-04-20 16:53:36.509 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:53:36.510 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:53:36.511 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:53:36.512 +03:00 [DBG] Executing DbCommand [Parameters=[@__transactionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk], [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk], [c0].[id], [c0].[background_color], [c0].[icon_path], [c0].[is_income], [c0].[name], [c0].[parent_category_fk]
FROM [transactions] AS [t]
INNER JOIN [categories] AS [c] ON [t].[category_fk] = [c].[id]
LEFT JOIN [categories] AS [c0] ON [t].[inner_category_fk] = [c0].[id]
WHERE [t].[id] = @__transactionId_0
2025-04-20 16:53:36.520 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__transactionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk], [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk], [c0].[id], [c0].[background_color], [c0].[icon_path], [c0].[is_income], [c0].[name], [c0].[parent_category_fk]
FROM [transactions] AS [t]
INNER JOIN [categories] AS [c] ON [t].[category_fk] = [c].[id]
LEFT JOIN [categories] AS [c0] ON [t].[inner_category_fk] = [c0].[id]
WHERE [t].[id] = @__transactionId_0
2025-04-20 16:53:36.523 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:53:36.525 +03:00 [DBG] The navigation 'Transaction.Category' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:53:36.526 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:53:36.528 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:53:36.529 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 6ms reading results.
2025-04-20 16:53:36.531 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:53:36.536 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-04-20 16:53:36.537 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-20 16:53:36.538 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:53:36.542 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:53:36.545 +03:00 [DBG] The navigation 'Transaction.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:53:36.546 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:53:36.548 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:53:36.553 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 8ms reading results.
2025-04-20 16:53:36.555 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:53:36.556 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 16:53:36.558 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 16:53:36.559 +03:00 [DBG] The unchanged property 'User.Balance' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 16:53:36.560 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:53:36.562 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 16:53:36.564 +03:00 [DBG] Executing 2 update commands as a batch.
2025-04-20 16:53:36.566 +03:00 [DBG] Creating transaction savepoint.
2025-04-20 16:53:36.569 +03:00 [DBG] Created transaction savepoint.
2025-04-20 16:53:36.570 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:53:36.572 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:53:36.573 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:53:36.575 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p1='?' (Precision = 12) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [transactions]
OUTPUT 1
WHERE [id] = @p0;
UPDATE [users] SET [balance] = @p1
OUTPUT 1
WHERE [id] = @p2;
2025-04-20 16:53:36.609 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p1='?' (Precision = 12) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [transactions]
OUTPUT 1
WHERE [id] = @p0;
UPDATE [users] SET [balance] = @p1
OUTPUT 1
WHERE [id] = @p2;
2025-04-20 16:53:36.612 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:53:36.613 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-04-20 16:53:36.619 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:53:36.622 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:53:36.636 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2025-04-20 16:53:36.639 +03:00 [DBG] Committing transaction.
2025-04-20 16:53:36.641 +03:00 [DBG] Committed transaction.
2025-04-20 16:53:36.642 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:53:36.643 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:53:36.645 +03:00 [INF] Transaction successful.
2025-04-20 16:53:36.646 +03:00 [DBG] Disposing transaction.
2025-04-20 16:53:36.648 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-20 16:53:36.651 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.Delete (Finance_Manager_Backend) in 172.6561ms
2025-04-20 16:53:36.653 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Delete (Finance_Manager_Backend)'
2025-04-20 16:53:36.654 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:53:36.656 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:53:36.659 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-20 16:53:36.661 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:49464/api/Transactions/455 - 204 null null 209.5893ms
2025-04-20 16:53:39.375 +03:00 [DBG] Connection id "0HNC026AN6AU7" received FIN.
2025-04-20 16:53:39.378 +03:00 [DBG] Connection id "0HNC026AN6AU7" is closed. The last processed stream ID was 1.
2025-04-20 16:53:39.378 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6AU7 completed.
2025-04-20 16:53:39.382 +03:00 [DBG] Connection id "0HNC026AN6AU7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:53:39.401 +03:00 [DBG] Connection id "0HNC026AN6AU7" stopped.
2025-04-20 16:54:58.824 +03:00 [DBG] Connection id "0HNC026AN6AU8" accepted.
2025-04-20 16:54:58.839 +03:00 [DBG] Connection id "0HNC026AN6AU8" started.
2025-04-20 16:54:58.843 +03:00 [DBG] Connection 0HNC026AN6AU8 established using the following protocol: "Tls12"
2025-04-20 16:54:58.847 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/Transactions/455 - null null
2025-04-20 16:54:58.863 +03:00 [DBG] The request path  does not match the path filter
2025-04-20 16:54:58.864 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions/455'
2025-04-20 16:54:58.869 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)' with route pattern 'api/Transactions/{id}' is valid for the request path '/api/Transactions/455'
2025-04-20 16:54:58.872 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)'
2025-04-20 16:54:58.873 +03:00 [DBG] Successfully validated the token.
2025-04-20 16:54:58.874 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 16:54:58.875 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)'
2025-04-20 16:54:58.876 +03:00 [INF] Route matched with {action = "GetById", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO]] GetById(Int32) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-04-20 16:54:58.877 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:54:58.879 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:54:58.880 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:54:58.885 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:54:58.887 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:54:58.889 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-20 16:54:58.890 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-20 16:54:58.892 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-20 16:54:58.893 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-20 16:54:58.895 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-20 16:54:58.896 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-20 16:54:58.898 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-20 16:54:58.902 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-20 16:54:58.905 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:54:58.907 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:54:58.908 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-20 16:54:58.909 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:54:58.910 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:54:58.911 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:54:58.912 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-04-20 16:54:58.913 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:54:58.917 +03:00 [DBG] Executing DbCommand [Parameters=[@__transactionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[id] = @__transactionId_0
2025-04-20 16:54:58.922 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__transactionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[id] = @__transactionId_0
2025-04-20 16:54:58.926 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:54:58.927 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-04-20 16:54:58.929 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:54:58.930 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:54:59.045 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend) in 156.7261ms
2025-04-20 16:54:59.048 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)'
2025-04-20 16:54:59.216 +03:00 [FTL] Unexpected error occurred: Transaction with 455 isn't exist.
Finance_Manager_Backend.Exceptions.EntityNotFoundException`1[Finance_Manager_Backend.BusinessLogic.Models.Transaction]: Transaction with 455 isn't exist.
   at Finance_Manager_Backend.BusinessLogic.Services.TransactionsService.GetTransactionDTOByIdAsync(Int32 transactionId) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\BusinessLogic\Services\TransactionsService.cs:line 68
   at Finance_Manager_Backend.Controllers.TransactionsController.GetById(Int32 id) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Controllers\TransactionsController.cs:line 56
   at lambda_method511(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Finance_Manager_Backend.Middleware.ExceptionsHandler.InvokeAsync(HttpContext httpContext) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Middleware\ExceptionsHandler.cs:line 24
2025-04-20 16:54:59.247 +03:00 [ERR] Transaction with 455 isn't exist.
Finance_Manager_Backend.Exceptions.EntityNotFoundException`1[Finance_Manager_Backend.BusinessLogic.Models.Transaction]: Transaction with 455 isn't exist.
   at Finance_Manager_Backend.BusinessLogic.Services.TransactionsService.GetTransactionDTOByIdAsync(Int32 transactionId) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\BusinessLogic\Services\TransactionsService.cs:line 68
   at Finance_Manager_Backend.Controllers.TransactionsController.GetById(Int32 id) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Controllers\TransactionsController.cs:line 56
   at lambda_method511(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Finance_Manager_Backend.Middleware.ExceptionsHandler.InvokeAsync(HttpContext httpContext) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Middleware\ExceptionsHandler.cs:line 24
2025-04-20 16:54:59.256 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:54:59.258 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:54:59.259 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-20 16:54:59.261 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/Transactions/455 - 500 null application/json 413.2156ms
2025-04-20 16:54:59.502 +03:00 [DBG] Connection id "0HNC026AN6AU8" received FIN.
2025-04-20 16:54:59.505 +03:00 [DBG] Connection id "0HNC026AN6AU8" is closed. The last processed stream ID was 1.
2025-04-20 16:54:59.505 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6AU8 completed.
2025-04-20 16:54:59.506 +03:00 [DBG] Connection id "0HNC026AN6AU8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:54:59.513 +03:00 [DBG] Connection id "0HNC026AN6AU8" stopped.
2025-04-20 16:57:04.332 +03:00 [DBG] Connection id "0HNC026AN6AU9" accepted.
2025-04-20 16:57:04.364 +03:00 [DBG] Connection id "0HNC026AN6AU9" started.
2025-04-20 16:57:04.371 +03:00 [DBG] Connection 0HNC026AN6AU9 established using the following protocol: "Tls12"
2025-04-20 16:57:04.383 +03:00 [INF] Request starting HTTP/2 POST https://localhost:49464/api/Auth/authenticate?email=test2%40email.com&password=test_password - null 0
2025-04-20 16:57:04.389 +03:00 [DBG] POST requests are not supported
2025-04-20 16:57:04.391 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/authenticate'
2025-04-20 16:57:04.392 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)' with route pattern 'api/Auth/authenticate' is valid for the request path '/api/Auth/authenticate'
2025-04-20 16:57:04.394 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-20 16:57:04.396 +03:00 [DBG] Successfully validated the token.
2025-04-20 16:57:04.398 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 16:57:04.399 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-20 16:57:04.403 +03:00 [INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.Controllers.AuthUserTokenDTO]] Authenticate(System.String, System.String) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-04-20 16:57:04.405 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:57:04.407 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:57:04.409 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:57:04.411 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:57:04.413 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:57:04.415 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-04-20 16:57:04.421 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-04-20 16:57:04.423 +03:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' ...
2025-04-20 16:57:04.424 +03:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ...
2025-04-20 16:57:04.426 +03:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2025-04-20 16:57:04.428 +03:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2025-04-20 16:57:04.431 +03:00 [DBG] Attempting to validate the bound parameter 'email' of type 'System.String' ...
2025-04-20 16:57:04.432 +03:00 [DBG] Done attempting to validate the bound parameter 'email' of type 'System.String'.
2025-04-20 16:57:04.437 +03:00 [DBG] Attempting to bind parameter 'password' of type 'System.String' ...
2025-04-20 16:57:04.438 +03:00 [DBG] Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ...
2025-04-20 16:57:04.441 +03:00 [DBG] Done attempting to bind parameter 'password' of type 'System.String'.
2025-04-20 16:57:04.442 +03:00 [DBG] Done attempting to bind parameter 'password' of type 'System.String'.
2025-04-20 16:57:04.444 +03:00 [DBG] Attempting to validate the bound parameter 'password' of type 'System.String' ...
2025-04-20 16:57:04.445 +03:00 [DBG] Done attempting to validate the bound parameter 'password' of type 'System.String'.
2025-04-20 16:57:04.447 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:57:04.453 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:57:04.454 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-20 16:57:04.455 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:57:04.457 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:57:04.458 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:57:04.459 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:57:04.460 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:57:04.462 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-20 16:57:04.472 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-20 16:57:04.474 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:57:04.476 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-04-20 16:57:04.477 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:57:04.479 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:57:04.645 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend) in 229.823ms
2025-04-20 16:57:04.647 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-20 16:57:04.747 +03:00 [ERR] Error, this email not registered.
System.InvalidOperationException: Error, this email not registered.
   at Finance_Manager_Backend.BusinessLogic.Services.AuthServices.AuthService.AuthenticateUserAsync(String email, String password) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\BusinessLogic\Services\AuthServices\AuthService.cs:line 43
   at Finance_Manager_Backend.Controllers.AuthController.Authenticate(String email, String password) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Controllers\AuthController.cs:line 53
   at lambda_method353(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Finance_Manager_Backend.Middleware.ExceptionsHandler.InvokeAsync(HttpContext httpContext) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Middleware\ExceptionsHandler.cs:line 24
2025-04-20 16:57:04.767 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:57:04.774 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:57:04.776 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-20 16:57:04.778 +03:00 [INF] Request finished HTTP/2 POST https://localhost:49464/api/Auth/authenticate?email=test2%40email.com&password=test_password - 400 null application/json 395.2643ms
2025-04-20 16:57:09.671 +03:00 [DBG] Connection id "0HNC026AN6AU9" received FIN.
2025-04-20 16:57:09.674 +03:00 [DBG] Connection id "0HNC026AN6AU9" is closed. The last processed stream ID was 1.
2025-04-20 16:57:09.674 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6AU9 completed.
2025-04-20 16:57:09.676 +03:00 [DBG] Connection id "0HNC026AN6AU9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:57:09.686 +03:00 [DBG] Connection id "0HNC026AN6AU9" stopped.
2025-04-20 16:57:17.444 +03:00 [DBG] Connection id "0HNC026AN6AUA" accepted.
2025-04-20 16:57:17.448 +03:00 [DBG] Connection id "0HNC026AN6AUA" started.
2025-04-20 16:57:17.452 +03:00 [DBG] Connection 0HNC026AN6AUA established using the following protocol: "Tls12"
2025-04-20 16:57:17.465 +03:00 [INF] Request starting HTTP/2 POST https://localhost:49464/api/Auth/authenticate?email=test%40email.com&password=tes2t_password - null 0
2025-04-20 16:57:17.475 +03:00 [DBG] POST requests are not supported
2025-04-20 16:57:17.476 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/authenticate'
2025-04-20 16:57:17.483 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)' with route pattern 'api/Auth/authenticate' is valid for the request path '/api/Auth/authenticate'
2025-04-20 16:57:17.485 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-20 16:57:17.486 +03:00 [DBG] Successfully validated the token.
2025-04-20 16:57:17.487 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 16:57:17.490 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-20 16:57:17.491 +03:00 [INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.Controllers.AuthUserTokenDTO]] Authenticate(System.String, System.String) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-04-20 16:57:17.497 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:57:17.500 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:57:17.501 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:57:17.506 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:57:17.508 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:57:17.517 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-04-20 16:57:17.521 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-04-20 16:57:17.523 +03:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' ...
2025-04-20 16:57:17.524 +03:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ...
2025-04-20 16:57:17.526 +03:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2025-04-20 16:57:17.531 +03:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2025-04-20 16:57:17.533 +03:00 [DBG] Attempting to validate the bound parameter 'email' of type 'System.String' ...
2025-04-20 16:57:17.534 +03:00 [DBG] Done attempting to validate the bound parameter 'email' of type 'System.String'.
2025-04-20 16:57:17.536 +03:00 [DBG] Attempting to bind parameter 'password' of type 'System.String' ...
2025-04-20 16:57:17.537 +03:00 [DBG] Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ...
2025-04-20 16:57:17.539 +03:00 [DBG] Done attempting to bind parameter 'password' of type 'System.String'.
2025-04-20 16:57:17.540 +03:00 [DBG] Done attempting to bind parameter 'password' of type 'System.String'.
2025-04-20 16:57:17.541 +03:00 [DBG] Attempting to validate the bound parameter 'password' of type 'System.String' ...
2025-04-20 16:57:17.545 +03:00 [DBG] Done attempting to validate the bound parameter 'password' of type 'System.String'.
2025-04-20 16:57:17.549 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:57:17.552 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:57:17.553 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-20 16:57:17.555 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:57:17.556 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:57:17.558 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:57:17.565 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-04-20 16:57:17.567 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-04-20 16:57:17.570 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-20 16:57:17.576 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-20 16:57:17.584 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:17.587 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:57:17.593 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 8ms reading results.
2025-04-20 16:57:17.604 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:57:17.617 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (12ms).
2025-04-20 16:57:17.724 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend) in 207.1756ms
2025-04-20 16:57:17.726 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-04-20 16:57:17.854 +03:00 [ERR] Invalid password. Please try again.
System.InvalidOperationException: Invalid password. Please try again.
   at Finance_Manager_Backend.BusinessLogic.Services.AuthServices.AuthService.AuthenticateUserAsync(String email, String password) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\BusinessLogic\Services\AuthServices\AuthService.cs:line 54
   at Finance_Manager_Backend.Controllers.AuthController.Authenticate(String email, String password) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Controllers\AuthController.cs:line 53
   at lambda_method353(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Finance_Manager_Backend.Middleware.ExceptionsHandler.InvokeAsync(HttpContext httpContext) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Middleware\ExceptionsHandler.cs:line 24
2025-04-20 16:57:17.863 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:57:17.865 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:57:17.867 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-20 16:57:17.870 +03:00 [INF] Request finished HTTP/2 POST https://localhost:49464/api/Auth/authenticate?email=test%40email.com&password=tes2t_password - 400 null application/json 405.2175ms
2025-04-20 16:57:19.688 +03:00 [DBG] Connection id "0HNC026AN6AUA" received FIN.
2025-04-20 16:57:19.694 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6AUA completed.
2025-04-20 16:57:19.694 +03:00 [DBG] Connection id "0HNC026AN6AUA" is closed. The last processed stream ID was 1.
2025-04-20 16:57:19.700 +03:00 [DBG] Connection id "0HNC026AN6AUA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:57:19.703 +03:00 [DBG] Connection id "0HNC026AN6AUA" stopped.
2025-04-20 16:57:38.299 +03:00 [DBG] Connection id "0HNC026AN6AUB" accepted.
2025-04-20 16:57:38.300 +03:00 [DBG] Connection id "0HNC026AN6AUB" started.
2025-04-20 16:57:38.304 +03:00 [DBG] Connection 0HNC026AN6AUB established using the following protocol: "Tls12"
2025-04-20 16:57:38.307 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/Analytics/overview?userId=43&minDate=2025-01-01&maxDate=2025-05-05 - null null
2025-04-20 16:57:38.318 +03:00 [DBG] The request path  does not match the path filter
2025-04-20 16:57:38.321 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Analytics/overview'
2025-04-20 16:57:38.325 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AnalyticsController.GetAnalytics (Finance_Manager_Backend)' with route pattern 'api/Analytics/overview' is valid for the request path '/api/Analytics/overview'
2025-04-20 16:57:38.330 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AnalyticsController.GetAnalytics (Finance_Manager_Backend)'
2025-04-20 16:57:38.332 +03:00 [DBG] Successfully validated the token.
2025-04-20 16:57:38.334 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 16:57:38.335 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AnalyticsController.GetAnalytics (Finance_Manager_Backend)'
2025-04-20 16:57:38.340 +03:00 [INF] Route matched with {action = "GetAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.Controllers.CategoryPercentDTO]]] GetAnalytics(Int32, System.DateTime, System.DateTime) on controller Finance_Manager_Backend.Controllers.AnalyticsController (Finance_Manager_Backend).
2025-04-20 16:57:38.342 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:57:38.347 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:57:38.350 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:57:38.354 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:57:38.364 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:57:38.368 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AnalyticsController (Finance_Manager_Backend)
2025-04-20 16:57:38.370 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AnalyticsController (Finance_Manager_Backend)
2025-04-20 16:57:38.371 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-04-20 16:57:38.373 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-04-20 16:57:38.381 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-04-20 16:57:38.383 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-04-20 16:57:38.385 +03:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-04-20 16:57:38.387 +03:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-04-20 16:57:38.389 +03:00 [DBG] Attempting to bind parameter 'minDate' of type 'System.DateTime' ...
2025-04-20 16:57:38.392 +03:00 [DBG] Attempting to bind parameter 'minDate' of type 'System.DateTime' using the name 'minDate' in request data ...
2025-04-20 16:57:38.401 +03:00 [DBG] Done attempting to bind parameter 'minDate' of type 'System.DateTime'.
2025-04-20 16:57:38.402 +03:00 [DBG] Done attempting to bind parameter 'minDate' of type 'System.DateTime'.
2025-04-20 16:57:38.404 +03:00 [DBG] Attempting to validate the bound parameter 'minDate' of type 'System.DateTime' ...
2025-04-20 16:57:38.406 +03:00 [DBG] Done attempting to validate the bound parameter 'minDate' of type 'System.DateTime'.
2025-04-20 16:57:38.408 +03:00 [DBG] Attempting to bind parameter 'maxDate' of type 'System.DateTime' ...
2025-04-20 16:57:38.410 +03:00 [DBG] Attempting to bind parameter 'maxDate' of type 'System.DateTime' using the name 'maxDate' in request data ...
2025-04-20 16:57:38.414 +03:00 [DBG] Done attempting to bind parameter 'maxDate' of type 'System.DateTime'.
2025-04-20 16:57:38.415 +03:00 [DBG] Done attempting to bind parameter 'maxDate' of type 'System.DateTime'.
2025-04-20 16:57:38.416 +03:00 [DBG] Attempting to validate the bound parameter 'maxDate' of type 'System.DateTime' ...
2025-04-20 16:57:38.418 +03:00 [DBG] Done attempting to validate the bound parameter 'maxDate' of type 'System.DateTime'.
2025-04-20 16:57:38.422 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:57:38.424 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:57:38.425 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-20 16:57:38.426 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:57:38.430 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:57:38.432 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:57:38.433 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:57:38.434 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:57:38.436 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:57:38.440 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:57:38.443 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.447 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:57:38.449 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 6ms reading results.
2025-04-20 16:57:38.451 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:57:38.452 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 16:57:38.458 +03:00 [DBG] Compiling query expression: 
'DbSet<Transaction>()
    .Where(s => s.UserId == __userId_0 && !(s.Category.IsIncome) && s.Date > __minDate_1 && s.Date < __maxDate_2)
    .GroupBy(s => s.Category)'
2025-04-20 16:57:38.513 +03:00 [DBG] Generated query execution expression: 
'queryContext => GroupBySingleQueryingEnumerable.Create<Category, Transaction>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
            1 -> 0
            2 -> 1
            3 -> 2
            4 -> 3
            5 -> 4
            6 -> 5
            7 -> Dictionary<IProperty, int> { [Property: Transaction.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Transaction.CategoryId (int) Required FK Index, 7], [Property: Transaction.Date (DateTime) Required, 8], [Property: Transaction.InnerCategoryId (int?) FK Index, 9], [Property: Transaction.Name (string) Required MaxLength(50), 10], [Property: Transaction.Price (decimal) Required, 11], [Property: Transaction.UserId (int) Required FK Index, 12] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk, t.id, t.category_fk, t.date, t.inner_category_fk, t.name, t.price, t.user_fk
        FROM transactions AS t
        INNER JOIN categories AS c ON t.category_fk == c.id
        WHERE (((t.user_fk == @__userId_0) && Not(c.is_income)) && (t.date > @__minDate_1)) && (t.date < @__maxDate_2)
        ORDER BY c.id ASC, c.background_color ASC, c.icon_path ASC, c.is_income ASC, c.name ASC, c.parent_category_fk ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
            1 -> 0
            2 -> 1
            3 -> 2
            4 -> 3
            5 -> 4
            6 -> 5
            7 -> Dictionary<IProperty, int> { [Property: Transaction.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: Transaction.CategoryId (int) Required FK Index, 7], [Property: Transaction.Date (DateTime) Required, 8], [Property: Transaction.InnerCategoryId (int?) FK Index, 9], [Property: Transaction.Name (string) Required MaxLength(50), 10], [Property: Transaction.Price (decimal) Required, 11], [Property: Transaction.UserId (int) Required FK Index, 12] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk, t.id, t.category_fk, t.date, t.inner_category_fk, t.name, t.price, t.user_fk
        FROM transactions AS t
        INNER JOIN categories AS c ON t.category_fk == c.id
        WHERE (((t.user_fk == @__userId_0) && Not(c.is_income)) && (t.date > @__minDate_1)) && (t.date < @__maxDate_2)
        ORDER BY c.id ASC, c.background_color ASC, c.icon_path ASC, c.is_income ASC, c.name ASC, c.parent_category_fk ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    keySelector: (queryContext, dataReader) => 
    {
        MaterializationContext materializationContext1;
        IEntityType entityType1;
        Category instance1;
        InternalEntityEntry entry1;
        bool hasNullKey1;
        materializationContext1 = new MaterializationContext(
            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
            queryContext.Context
        );
        instance1 = default(Category);
        entry1 = queryContext.TryGetEntry(
            key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
            keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
            throwOnNullKey: True, 
            hasNullKey: hasNullKey1);
        !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
        {
            entityType1 = entry1.EntityType;
            return instance1 = (Category)entry1.Entity;
        } : 
        {
            ISnapshot shadowSnapshot1;
            shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
            entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
            instance1 = switch (entityType1)
            {
                case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                    {
                        return 
                        {
                            Category instance;
                            instance = new Category();
                            instance.<Id>k__BackingField = dataReader.GetInt32(0);
                            instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                            instance.<Icon>k__BackingField = dataReader.GetString(2);
                            instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                            instance.<Name>k__BackingField = dataReader.GetString(4);
                            instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                context: materializationContext1.Context, 
                                entity: instance, 
                                queryTrackingBehavior: TrackAll, 
                                structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                            return instance;
                        }}
                default: 
                    default(Category)
            }
            ;
            entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                entityType: entityType1, 
                entity: instance1, 
                snapshot: shadowSnapshot1);
            return instance1;
        } : default(void);
        return instance1;
    }, 
    keyIdentifier: (queryContext, dataReader) => new object[]
    { 
        (object)(int?)dataReader.GetInt32(0), 
        dataReader.GetString(1), 
        dataReader.GetString(2), 
        (object)(bool?)dataReader.GetBoolean(3), 
        dataReader.GetString(4), 
        (object)dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5) 
    }, 
    keyIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
    { 
        (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
        (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
        (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
        (left, right) => left == null ? right == null : right != null && (bool)left == (bool)right, 
        (left, right) => left == null ? right == null : right != null && (string)left == (string)right, 
        (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
    }], 
    elementSelector: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Transaction entity;
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Transaction instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Transaction);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Transaction.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(6) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Transaction)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")]: 
                        {
                            return 
                            {
                                Transaction instance;
                                instance = new Transaction();
                                instance.<Id>k__BackingField = dataReader.GetInt32(6);
                                instance.<CategoryId>k__BackingField = dataReader.GetInt32(7);
                                instance.<Date>k__BackingField = dataReader.GetDateTime(8);
                                instance.<InnerCategoryId>k__BackingField = dataReader.IsDBNull(9) ? default(int?) : (int?)dataReader.GetInt32(9);
                                instance.<Name>k__BackingField = dataReader.GetString(10);
                                instance.<Price>k__BackingField = dataReader.GetDecimal(11);
                                instance.<UserId>k__BackingField = dataReader.GetInt32(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Transaction)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-20 16:57:38.848 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:57:38.850 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:57:38.851 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:57:38.852 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:57:38.854 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:57:38.855 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32), @__minDate_1='?' (DbType = DateTime2), @__maxDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk], [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
INNER JOIN [categories] AS [c] ON [t].[category_fk] = [c].[id]
WHERE [t].[user_fk] = @__userId_0 AND [c].[is_income] = CAST(0 AS bit) AND [t].[date] > @__minDate_1 AND [t].[date] < @__maxDate_2
ORDER BY [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
2025-04-20 16:57:38.887 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__minDate_1='?' (DbType = DateTime2), @__maxDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk], [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
INNER JOIN [categories] AS [c] ON [t].[category_fk] = [c].[id]
WHERE [t].[user_fk] = @__userId_0 AND [c].[is_income] = CAST(0 AS bit) AND [t].[date] > @__minDate_1 AND [t].[date] < @__maxDate_2
ORDER BY [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
2025-04-20 16:57:38.907 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.919 +03:00 [DBG] The navigation 'Transaction.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.921 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.923 +03:00 [DBG] The navigation 'Transaction.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.924 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.926 +03:00 [DBG] The navigation 'Transaction.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.927 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.931 +03:00 [DBG] The navigation 'Transaction.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.932 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.938 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.939 +03:00 [DBG] The navigation 'Transaction.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.941 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.942 +03:00 [DBG] The navigation 'Transaction.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.944 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.948 +03:00 [DBG] The navigation 'Transaction.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.949 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.951 +03:00 [DBG] The navigation 'Transaction.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.952 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.953 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.955 +03:00 [DBG] The navigation 'Transaction.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.956 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.958 +03:00 [DBG] The navigation 'Transaction.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.959 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.963 +03:00 [DBG] The navigation 'Transaction.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.964 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.966 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.967 +03:00 [DBG] The navigation 'Transaction.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.969 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.970 +03:00 [DBG] The navigation 'Transaction.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.971 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 16:57:38.974 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:57:38.975 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 70ms reading results.
2025-04-20 16:57:38.977 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:57:38.981 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (4ms).
2025-04-20 16:57:39.000 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-20 16:57:39.003 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-20 16:57:39.005 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-20 16:57:39.006 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-20 16:57:39.007 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-20 16:57:39.008 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-20 16:57:39.009 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.Controllers.CategoryPercentDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 16:57:39.020 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AnalyticsController.GetAnalytics (Finance_Manager_Backend) in 652.8516ms
2025-04-20 16:57:39.023 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AnalyticsController.GetAnalytics (Finance_Manager_Backend)'
2025-04-20 16:57:39.024 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:57:39.027 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:57:39.030 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-04-20 16:57:39.033 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/Analytics/overview?userId=43&minDate=2025-01-01&maxDate=2025-05-05 - 200 null application/json; charset=utf-8 725.6822ms
2025-04-20 16:57:39.702 +03:00 [DBG] Connection id "0HNC026AN6AUB" received FIN.
2025-04-20 16:57:39.704 +03:00 [DBG] Connection id "0HNC026AN6AUB" is closed. The last processed stream ID was 1.
2025-04-20 16:57:39.704 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6AUB completed.
2025-04-20 16:57:39.707 +03:00 [DBG] Connection id "0HNC026AN6AUB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:57:39.719 +03:00 [DBG] Connection id "0HNC026AN6AUB" stopped.
2025-04-20 16:58:18.600 +03:00 [DBG] Connection id "0HNC026AN6AUC" accepted.
2025-04-20 16:58:18.621 +03:00 [DBG] Connection id "0HNC026AN6AUC" started.
2025-04-20 16:58:18.623 +03:00 [DBG] Connection 0HNC026AN6AUC established using the following protocol: "Tls12"
2025-04-20 16:58:18.626 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/Categories/3 - null null
2025-04-20 16:58:18.639 +03:00 [DBG] The request path  does not match the path filter
2025-04-20 16:58:18.648 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Categories/3'
2025-04-20 16:58:18.652 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetCategoryById (Finance_Manager_Backend)' with route pattern 'api/Categories/{id}' is valid for the request path '/api/Categories/3'
2025-04-20 16:58:18.654 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetCategoryById (Finance_Manager_Backend)'
2025-04-20 16:58:18.655 +03:00 [DBG] Successfully validated the token.
2025-04-20 16:58:18.656 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 16:58:18.657 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetCategoryById (Finance_Manager_Backend)'
2025-04-20 16:58:18.663 +03:00 [INF] Route matched with {action = "GetCategoryById", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.CategoryDTO]] GetCategoryById(Int32) on controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend).
2025-04-20 16:58:18.665 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:58:18.667 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:58:18.668 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:58:18.670 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:58:18.672 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:58:18.673 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-04-20 16:58:18.675 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-04-20 16:58:18.678 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-20 16:58:18.680 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-20 16:58:18.682 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-20 16:58:18.683 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-20 16:58:18.684 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-20 16:58:18.686 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-20 16:58:18.689 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:58:18.691 +03:00 [DBG] Compiling query expression: 
'DbSet<Category>()
    .FirstOrDefault(t => t.Id == __categoryId_0)'
2025-04-20 16:58:18.702 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Category>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Category>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
            SELECT TOP(1) c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
            FROM categories AS c
            WHERE c.id == @__categoryId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
            SELECT TOP(1) c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
            FROM categories AS c
            WHERE c.id == @__categoryId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Category entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Category instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Category);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Category)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                            {
                                return 
                                {
                                    Category instance;
                                    instance = new Category();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                                    instance.<Icon>k__BackingField = dataReader.GetString(2);
                                    instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                                    instance.<Name>k__BackingField = dataReader.GetString(4);
                                    instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Category)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-20 16:58:18.715 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:58:18.719 +03:00 [DBG] Created DbConnection. (4ms).
2025-04-20 16:58:18.721 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:58:18.722 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:58:18.723 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:58:18.724 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:58:18.726 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:58:18.730 +03:00 [DBG] Executing DbCommand [Parameters=[@__categoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
WHERE [c].[id] = @__categoryId_0
2025-04-20 16:58:19.048 +03:00 [INF] Executed DbCommand (319ms) [Parameters=[@__categoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
WHERE [c].[id] = @__categoryId_0
2025-04-20 16:58:19.055 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:58:19.057 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-20 16:58:19.059 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:58:19.065 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (5ms).
2025-04-20 16:58:19.155 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.CategoriesController.GetCategoryById (Finance_Manager_Backend) in 481.7802ms
2025-04-20 16:58:19.158 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetCategoryById (Finance_Manager_Backend)'
2025-04-20 16:58:19.284 +03:00 [FTL] Unexpected error occurred: Category with 3 isn't exist.
Finance_Manager_Backend.Exceptions.EntityNotFoundException`1[Finance_Manager_Backend.BusinessLogic.Models.Category]: Category with 3 isn't exist.
   at Finance_Manager_Backend.BusinessLogic.Services.CategoriesService.GetCategoryDTOByIdAsync(Int32 categoryId) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\BusinessLogic\Services\CategoriesService.cs:line 33
   at Finance_Manager_Backend.Controllers.CategoriesController.GetCategoryById(Int32 id) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Controllers\CategoriesController.cs:line 32
   at lambda_method572(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Finance_Manager_Backend.Middleware.ExceptionsHandler.InvokeAsync(HttpContext httpContext) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Middleware\ExceptionsHandler.cs:line 24
2025-04-20 16:58:19.290 +03:00 [ERR] Category with 3 isn't exist.
Finance_Manager_Backend.Exceptions.EntityNotFoundException`1[Finance_Manager_Backend.BusinessLogic.Models.Category]: Category with 3 isn't exist.
   at Finance_Manager_Backend.BusinessLogic.Services.CategoriesService.GetCategoryDTOByIdAsync(Int32 categoryId) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\BusinessLogic\Services\CategoriesService.cs:line 33
   at Finance_Manager_Backend.Controllers.CategoriesController.GetCategoryById(Int32 id) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Controllers\CategoriesController.cs:line 32
   at lambda_method572(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Finance_Manager_Backend.Middleware.ExceptionsHandler.InvokeAsync(HttpContext httpContext) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Middleware\ExceptionsHandler.cs:line 24
2025-04-20 16:58:19.300 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:58:19.302 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:58:19.304 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-20 16:58:19.311 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/Categories/3 - 500 null application/json 685.447ms
2025-04-20 16:58:19.745 +03:00 [DBG] Connection id "0HNC026AN6AUC" received FIN.
2025-04-20 16:58:19.748 +03:00 [DBG] Connection id "0HNC026AN6AUC" is closed. The last processed stream ID was 1.
2025-04-20 16:58:19.748 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6AUC completed.
2025-04-20 16:58:19.752 +03:00 [DBG] Connection id "0HNC026AN6AUC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:58:19.759 +03:00 [DBG] Connection id "0HNC026AN6AUC" stopped.
2025-04-20 16:59:13.191 +03:00 [DBG] Connection id "0HNC026AN6AUD" accepted.
2025-04-20 16:59:13.201 +03:00 [DBG] Connection id "0HNC026AN6AUD" started.
2025-04-20 16:59:13.210 +03:00 [DBG] Connection 0HNC026AN6AUD established using the following protocol: "Tls12"
2025-04-20 16:59:13.216 +03:00 [INF] Request starting HTTP/2 POST https://localhost:49464/api/Savings - application/json 84
2025-04-20 16:59:13.250 +03:00 [DBG] POST requests are not supported
2025-04-20 16:59:13.251 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-04-20 16:59:13.252 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-04-20 16:59:13.257 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend)'
2025-04-20 16:59:13.259 +03:00 [DBG] Successfully validated the token.
2025-04-20 16:59:13.260 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 16:59:13.261 +03:00 [DBG] Authorization was successful.
2025-04-20 16:59:13.263 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend)'
2025-04-20 16:59:13.264 +03:00 [INF] Route matched with {action = "Create", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-04-20 16:59:13.268 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 16:59:13.270 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 16:59:13.275 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 16:59:13.277 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 16:59:13.278 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 16:59:13.280 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 16:59:13.282 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 16:59:13.283 +03:00 [DBG] Attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO' ...
2025-04-20 16:59:13.285 +03:00 [DBG] Attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO' using the name '' in request data ...
2025-04-20 16:59:13.286 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-20 16:59:13.292 +03:00 [DBG] Connection id "0HNC026AN6AUD", Request id "0HNC026AN6AUD:00000001": started reading request body.
2025-04-20 16:59:13.294 +03:00 [DBG] Connection id "0HNC026AN6AUD", Request id "0HNC026AN6AUD:00000001": done reading request body.
2025-04-20 16:59:13.295 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO'
2025-04-20 16:59:13.297 +03:00 [DBG] Done attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO'.
2025-04-20 16:59:13.299 +03:00 [DBG] Done attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO'.
2025-04-20 16:59:13.301 +03:00 [DBG] Attempting to validate the bound parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO' ...
2025-04-20 16:59:13.302 +03:00 [DBG] Done attempting to validate the bound parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO'.
2025-04-20 16:59:13.308 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 16:59:13.310 +03:00 [DBG] Creating DbConnection.
2025-04-20 16:59:13.311 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-20 16:59:13.313 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:59:13.315 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:59:13.316 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 16:59:13.318 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 16:59:13.319 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 16:59:13.324 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:59:13.330 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 16:59:13.333 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:59:13.334 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-04-20 16:59:13.336 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:59:13.341 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (4ms).
2025-04-20 16:59:13.506 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend) in 225.7082ms
2025-04-20 16:59:13.509 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Create (Finance_Manager_Backend)'
2025-04-20 16:59:13.624 +03:00 [FTL] Unexpected error occurred: User with 9 isn't exist.
Finance_Manager_Backend.Exceptions.EntityNotFoundException`1[Finance_Manager_Backend.BusinessLogic.Models.User]: User with 9 isn't exist.
   at Finance_Manager_Backend.BusinessLogic.Services.UsersService.GetUserByIdAsync(Int32 userId) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\BusinessLogic\Services\UsersService.cs:line 20
   at Finance_Manager_Backend.BusinessLogic.Services.SavingsService.CreateSavingAsync(SavingDTO savingDTO) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\BusinessLogic\Services\SavingsService.cs:line 29
   at Finance_Manager_Backend.Controllers.SavingsController.Create(SavingDTO savingDTO) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Controllers\SavingsController.cs:line 35
   at lambda_method361(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Finance_Manager_Backend.Middleware.ExceptionsHandler.InvokeAsync(HttpContext httpContext) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Middleware\ExceptionsHandler.cs:line 24
2025-04-20 16:59:13.630 +03:00 [ERR] User with 9 isn't exist.
Finance_Manager_Backend.Exceptions.EntityNotFoundException`1[Finance_Manager_Backend.BusinessLogic.Models.User]: User with 9 isn't exist.
   at Finance_Manager_Backend.BusinessLogic.Services.UsersService.GetUserByIdAsync(Int32 userId) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\BusinessLogic\Services\UsersService.cs:line 20
   at Finance_Manager_Backend.BusinessLogic.Services.SavingsService.CreateSavingAsync(SavingDTO savingDTO) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\BusinessLogic\Services\SavingsService.cs:line 29
   at Finance_Manager_Backend.Controllers.SavingsController.Create(SavingDTO savingDTO) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Controllers\SavingsController.cs:line 35
   at lambda_method361(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Finance_Manager_Backend.Middleware.ExceptionsHandler.InvokeAsync(HttpContext httpContext) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Middleware\ExceptionsHandler.cs:line 24
2025-04-20 16:59:13.636 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 16:59:13.649 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 16:59:13.652 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-04-20 16:59:13.655 +03:00 [INF] Request finished HTTP/2 POST https://localhost:49464/api/Savings - 500 null application/json 439.3495ms
2025-04-20 16:59:19.824 +03:00 [DBG] Connection id "0HNC026AN6AUD" received FIN.
2025-04-20 16:59:19.826 +03:00 [DBG] Connection id "0HNC026AN6AUD" is closed. The last processed stream ID was 1.
2025-04-20 16:59:19.827 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6AUD completed.
2025-04-20 16:59:19.828 +03:00 [DBG] Connection id "0HNC026AN6AUD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 16:59:19.834 +03:00 [DBG] Connection id "0HNC026AN6AUD" stopped.
2025-04-20 17:01:11.533 +03:00 [DBG] Connection id "0HNC026AN6AUE" accepted.
2025-04-20 17:01:11.568 +03:00 [DBG] Connection id "0HNC026AN6AUE" started.
2025-04-20 17:01:11.572 +03:00 [DBG] Connection 0HNC026AN6AUE established using the following protocol: "Tls12"
2025-04-20 17:01:11.584 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/Savings?userId=41&previousSavingId=0&pageSize=3 - null null
2025-04-20 17:01:11.595 +03:00 [DBG] The request path  does not match the path filter
2025-04-20 17:01:11.597 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-04-20 17:01:11.601 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-04-20 17:01:11.603 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-04-20 17:01:11.605 +03:00 [DBG] Successfully validated the token.
2025-04-20 17:01:11.606 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 17:01:11.608 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-04-20 17:01:11.609 +03:00 [INF] Route matched with {action = "GetSavings", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO]]] GetSavings(Int32, Int32, Int32) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-04-20 17:01:11.612 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 17:01:11.614 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 17:01:11.615 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 17:01:11.619 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 17:01:11.621 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 17:01:11.623 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 17:01:11.625 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 17:01:11.626 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2025-04-20 17:01:11.627 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-04-20 17:01:11.629 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-04-20 17:01:11.630 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2025-04-20 17:01:11.631 +03:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2025-04-20 17:01:11.635 +03:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2025-04-20 17:01:11.636 +03:00 [DBG] Attempting to bind parameter 'previousSavingId' of type 'System.Int32' ...
2025-04-20 17:01:11.637 +03:00 [DBG] Attempting to bind parameter 'previousSavingId' of type 'System.Int32' using the name 'previousSavingId' in request data ...
2025-04-20 17:01:11.639 +03:00 [DBG] Done attempting to bind parameter 'previousSavingId' of type 'System.Int32'.
2025-04-20 17:01:11.640 +03:00 [DBG] Done attempting to bind parameter 'previousSavingId' of type 'System.Int32'.
2025-04-20 17:01:11.642 +03:00 [DBG] Attempting to validate the bound parameter 'previousSavingId' of type 'System.Int32' ...
2025-04-20 17:01:11.643 +03:00 [DBG] Done attempting to validate the bound parameter 'previousSavingId' of type 'System.Int32'.
2025-04-20 17:01:11.645 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2025-04-20 17:01:11.646 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-04-20 17:01:11.648 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-20 17:01:11.652 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2025-04-20 17:01:11.653 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2025-04-20 17:01:11.655 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2025-04-20 17:01:11.657 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 17:01:11.659 +03:00 [DBG] Creating DbConnection.
2025-04-20 17:01:11.660 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-20 17:01:11.662 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:01:11.663 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:01:11.665 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:01:11.669 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-04-20 17:01:11.671 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-04-20 17:01:11.672 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-04-20 17:01:11.705 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-04-20 17:01:11.717 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:01:11.723 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 6ms reading results.
2025-04-20 17:01:11.726 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:01:11.729 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-20 17:01:11.734 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-20 17:01:11.739 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-20 17:01:11.741 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-20 17:01:11.745 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-20 17:01:11.747 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-20 17:01:11.748 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-20 17:01:11.754 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 17:01:11.757 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend) in 133.8558ms
2025-04-20 17:01:11.763 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-04-20 17:01:11.765 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 17:01:11.836 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:01:11.839 +03:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-04-20 17:01:11.842 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/Savings?userId=41&previousSavingId=0&pageSize=3 - 200 null application/json; charset=utf-8 259.9449ms
2025-04-20 17:01:19.990 +03:00 [DBG] Connection id "0HNC026AN6AUE" received FIN.
2025-04-20 17:01:19.995 +03:00 [DBG] Connection id "0HNC026AN6AUE" is closed. The last processed stream ID was 1.
2025-04-20 17:01:19.995 +03:00 [DBG] Connection id "0HNC026AN6AUE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 17:01:19.999 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6AUE completed.
2025-04-20 17:01:20.000 +03:00 [DBG] Connection id "0HNC026AN6AUE" stopped.
2025-04-20 17:01:24.405 +03:00 [DBG] Connection id "0HNC026AN6AUF" accepted.
2025-04-20 17:01:24.408 +03:00 [DBG] Connection id "0HNC026AN6AUF" started.
2025-04-20 17:01:24.411 +03:00 [DBG] Connection 0HNC026AN6AUF established using the following protocol: "Tls12"
2025-04-20 17:01:24.415 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:49464/api/Savings?savingId=45&topUpAmount=1488 - null 0
2025-04-20 17:01:24.422 +03:00 [DBG] PUT requests are not supported
2025-04-20 17:01:24.437 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-04-20 17:01:24.439 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Update (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-04-20 17:01:24.442 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Update (Finance_Manager_Backend)'
2025-04-20 17:01:24.451 +03:00 [DBG] Successfully validated the token.
2025-04-20 17:01:24.451 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 17:01:24.453 +03:00 [DBG] Authorization was successful.
2025-04-20 17:01:24.453 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Update (Finance_Manager_Backend)'
2025-04-20 17:01:24.455 +03:00 [INF] Route matched with {action = "Update", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Update(Int32, Int32) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-04-20 17:01:24.456 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 17:01:24.458 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 17:01:24.463 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 17:01:24.465 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 17:01:24.466 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 17:01:24.468 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 17:01:24.469 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 17:01:24.471 +03:00 [DBG] Attempting to bind parameter 'savingId' of type 'System.Int32' ...
2025-04-20 17:01:24.473 +03:00 [DBG] Attempting to bind parameter 'savingId' of type 'System.Int32' using the name 'savingId' in request data ...
2025-04-20 17:01:24.474 +03:00 [DBG] Done attempting to bind parameter 'savingId' of type 'System.Int32'.
2025-04-20 17:01:24.478 +03:00 [DBG] Done attempting to bind parameter 'savingId' of type 'System.Int32'.
2025-04-20 17:01:24.480 +03:00 [DBG] Attempting to validate the bound parameter 'savingId' of type 'System.Int32' ...
2025-04-20 17:01:24.481 +03:00 [DBG] Done attempting to validate the bound parameter 'savingId' of type 'System.Int32'.
2025-04-20 17:01:24.483 +03:00 [DBG] Attempting to bind parameter 'topUpAmount' of type 'System.Int32' ...
2025-04-20 17:01:24.485 +03:00 [DBG] Attempting to bind parameter 'topUpAmount' of type 'System.Int32' using the name 'topUpAmount' in request data ...
2025-04-20 17:01:24.487 +03:00 [DBG] Done attempting to bind parameter 'topUpAmount' of type 'System.Int32'.
2025-04-20 17:01:24.488 +03:00 [DBG] Done attempting to bind parameter 'topUpAmount' of type 'System.Int32'.
2025-04-20 17:01:24.490 +03:00 [DBG] Attempting to validate the bound parameter 'topUpAmount' of type 'System.Int32' ...
2025-04-20 17:01:24.492 +03:00 [DBG] Done attempting to validate the bound parameter 'topUpAmount' of type 'System.Int32'.
2025-04-20 17:01:24.496 +03:00 [INF] Executing UdateSavingAsync method
2025-04-20 17:01:24.497 +03:00 [INF] Start ExecuteTransactionAsync method.
2025-04-20 17:01:24.499 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 17:01:24.501 +03:00 [DBG] Creating DbConnection.
2025-04-20 17:01:24.502 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-20 17:01:24.503 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:01:24.505 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:01:24.507 +03:00 [DBG] Beginning transaction with isolation level 'ReadCommitted'.
2025-04-20 17:01:24.509 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-20 17:01:24.512 +03:00 [DBG] Start db transaction.
2025-04-20 17:01:24.513 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:01:24.514 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 17:01:24.516 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 17:01:24.517 +03:00 [DBG] Executing DbCommand [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-04-20 17:01:24.523 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-04-20 17:01:24.525 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:01:24.530 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-04-20 17:01:24.694 +03:00 [ERR] Failed transaction: Category with 45 isn't exist.
2025-04-20 17:01:24.696 +03:00 [DBG] Rolling back transaction.
2025-04-20 17:01:24.697 +03:00 [DBG] Rolled back transaction.
2025-04-20 17:01:24.698 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:01:24.700 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 17:01:24.701 +03:00 [DBG] Disposing transaction.
2025-04-20 17:01:24.702 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-20 17:01:24.703 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.Update (Finance_Manager_Backend) in 235.1106ms
2025-04-20 17:01:24.704 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Update (Finance_Manager_Backend)'
2025-04-20 17:01:24.706 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 17:01:24.707 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:01:24.710 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-04-20 17:01:24.712 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:49464/api/Savings?savingId=45&topUpAmount=1488 - 204 null null 296.8803ms
2025-04-20 17:01:30.006 +03:00 [DBG] Connection id "0HNC026AN6AUF" received FIN.
2025-04-20 17:01:30.009 +03:00 [DBG] Connection id "0HNC026AN6AUF" is closed. The last processed stream ID was 1.
2025-04-20 17:01:30.010 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6AUF completed.
2025-04-20 17:01:30.011 +03:00 [DBG] Connection id "0HNC026AN6AUF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 17:01:30.031 +03:00 [DBG] Connection id "0HNC026AN6AUF" stopped.
2025-04-20 17:02:39.833 +03:00 [DBG] Connection id "0HNC026AN6AUG" accepted.
2025-04-20 17:02:39.847 +03:00 [DBG] Connection id "0HNC026AN6AUG" started.
2025-04-20 17:02:39.849 +03:00 [DBG] Connection 0HNC026AN6AUG established using the following protocol: "Tls12"
2025-04-20 17:02:39.861 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:49464/api/Savings/55 - null null
2025-04-20 17:02:39.880 +03:00 [DBG] DELETE requests are not supported
2025-04-20 17:02:39.881 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings/55'
2025-04-20 17:02:39.882 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Delete (Finance_Manager_Backend)' with route pattern 'api/Savings/{id}' is valid for the request path '/api/Savings/55'
2025-04-20 17:02:39.884 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Delete (Finance_Manager_Backend)'
2025-04-20 17:02:39.885 +03:00 [DBG] Successfully validated the token.
2025-04-20 17:02:39.886 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 17:02:39.891 +03:00 [DBG] Authorization was successful.
2025-04-20 17:02:39.893 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Delete (Finance_Manager_Backend)'
2025-04-20 17:02:39.894 +03:00 [INF] Route matched with {action = "Delete", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Delete(Int32) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-04-20 17:02:39.896 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 17:02:39.897 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 17:02:39.899 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 17:02:39.901 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 17:02:39.902 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 17:02:39.905 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 17:02:39.908 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 17:02:39.910 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-20 17:02:39.911 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-20 17:02:39.913 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-20 17:02:39.914 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-20 17:02:39.915 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-20 17:02:39.917 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-20 17:02:39.918 +03:00 [INF] Executing DeleteSavingAsync method.
2025-04-20 17:02:39.919 +03:00 [INF] Start ExecuteTransactionAsync method.
2025-04-20 17:02:39.920 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 17:02:39.925 +03:00 [DBG] Creating DbConnection.
2025-04-20 17:02:39.926 +03:00 [DBG] Created DbConnection. (0ms).
2025-04-20 17:02:39.927 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:02:39.929 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:02:39.930 +03:00 [DBG] Beginning transaction with isolation level 'ReadCommitted'.
2025-04-20 17:02:39.932 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-20 17:02:39.933 +03:00 [DBG] Start db transaction.
2025-04-20 17:02:39.934 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:02:39.935 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 17:02:39.936 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 17:02:39.940 +03:00 [DBG] Executing DbCommand [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-04-20 17:02:39.946 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-04-20 17:02:39.948 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:02:39.950 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-04-20 17:02:40.102 +03:00 [ERR] Failed transaction: Category with 55 isn't exist.
2025-04-20 17:02:40.103 +03:00 [DBG] Rolling back transaction.
2025-04-20 17:02:40.110 +03:00 [DBG] Rolled back transaction.
2025-04-20 17:02:40.111 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:02:40.113 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 17:02:40.114 +03:00 [DBG] Disposing transaction.
2025-04-20 17:02:40.115 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-20 17:02:40.116 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.Delete (Finance_Manager_Backend) in 210.7407ms
2025-04-20 17:02:40.117 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Delete (Finance_Manager_Backend)'
2025-04-20 17:02:40.119 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 17:02:40.124 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:02:40.127 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-04-20 17:02:40.129 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:49464/api/Savings/55 - 204 null null 268.0911ms
2025-04-20 17:02:50.103 +03:00 [DBG] Connection id "0HNC026AN6AUG" received FIN.
2025-04-20 17:02:50.110 +03:00 [DBG] Connection id "0HNC026AN6AUG" is closed. The last processed stream ID was 1.
2025-04-20 17:02:50.110 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6AUG completed.
2025-04-20 17:02:50.117 +03:00 [DBG] Connection id "0HNC026AN6AUG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 17:02:50.132 +03:00 [DBG] Connection id "0HNC026AN6AUG" stopped.
2025-04-20 17:04:07.851 +03:00 [DBG] Connection id "0HNC026AN6AUH" accepted.
2025-04-20 17:04:07.863 +03:00 [DBG] Connection id "0HNC026AN6AUH" started.
2025-04-20 17:04:07.866 +03:00 [DBG] Connection 0HNC026AN6AUH established using the following protocol: "Tls12"
2025-04-20 17:04:07.869 +03:00 [INF] Request starting HTTP/2 POST https://localhost:49464/api/Transactions - application/json 122
2025-04-20 17:04:07.873 +03:00 [DBG] POST requests are not supported
2025-04-20 17:04:07.878 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions'
2025-04-20 17:04:07.880 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Create (Finance_Manager_Backend)' with route pattern 'api/Transactions' is valid for the request path '/api/Transactions'
2025-04-20 17:04:07.883 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Create (Finance_Manager_Backend)'
2025-04-20 17:04:07.885 +03:00 [DBG] Successfully validated the token.
2025-04-20 17:04:07.886 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-04-20 17:04:07.888 +03:00 [DBG] Authorization was successful.
2025-04-20 17:04:07.890 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Create (Finance_Manager_Backend)'
2025-04-20 17:04:07.896 +03:00 [INF] Route matched with {action = "Create", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-04-20 17:04:07.899 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 17:04:07.903 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 17:04:07.905 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 17:04:07.913 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 17:04:07.915 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 17:04:07.917 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-20 17:04:07.919 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-20 17:04:07.920 +03:00 [DBG] Attempting to bind parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO' ...
2025-04-20 17:04:07.922 +03:00 [DBG] Attempting to bind parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO' using the name '' in request data ...
2025-04-20 17:04:07.924 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-04-20 17:04:07.927 +03:00 [DBG] Connection id "0HNC026AN6AUH", Request id "0HNC026AN6AUH:00000001": started reading request body.
2025-04-20 17:04:07.929 +03:00 [DBG] Connection id "0HNC026AN6AUH", Request id "0HNC026AN6AUH:00000001": done reading request body.
2025-04-20 17:04:07.930 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO'
2025-04-20 17:04:07.931 +03:00 [DBG] Done attempting to bind parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO'.
2025-04-20 17:04:07.932 +03:00 [DBG] Done attempting to bind parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO'.
2025-04-20 17:04:07.934 +03:00 [DBG] Attempting to validate the bound parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO' ...
2025-04-20 17:04:07.935 +03:00 [DBG] Done attempting to validate the bound parameter 'transactionDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO'.
2025-04-20 17:04:07.937 +03:00 [INF] Start ExecuteTransactionAsync method.
2025-04-20 17:04:07.938 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 17:04:07.940 +03:00 [DBG] Creating DbConnection.
2025-04-20 17:04:07.943 +03:00 [DBG] Created DbConnection. (2ms).
2025-04-20 17:04:07.945 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:04:07.946 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:04:07.947 +03:00 [DBG] Beginning transaction with isolation level 'ReadCommitted'.
2025-04-20 17:04:07.949 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-20 17:04:07.951 +03:00 [DBG] Start db transaction.
2025-04-20 17:04:07.951 +03:00 [INF] Executing CreateTransactionAsync method.
2025-04-20 17:04:07.952 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:04:07.953 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 17:04:07.955 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 17:04:07.956 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 17:04:07.963 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userId_0
2025-04-20 17:04:07.966 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:04:07.967 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-04-20 17:04:08.097 +03:00 [ERR] Failed transaction: User with 0 isn't exist.
2025-04-20 17:04:08.101 +03:00 [DBG] Rolling back transaction.
2025-04-20 17:04:08.102 +03:00 [DBG] Rolled back transaction.
2025-04-20 17:04:08.103 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:04:08.104 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 17:04:08.106 +03:00 [DBG] Disposing transaction.
2025-04-20 17:04:08.107 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-04-20 17:04:08.113 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-04-20 17:04:08.114 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-04-20 17:04:08.116 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-04-20 17:04:08.116 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-04-20 17:04:08.117 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-04-20 17:04:08.121 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Int32'.
2025-04-20 17:04:08.123 +03:00 [DBG] Found the endpoints ["Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)"] for address (id=[0],action=[GetById],controller=[Transactions])
2025-04-20 17:04:08.125 +03:00 [DBG] Successfully processed template api/Transactions/{id} for Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend) resulting in /api/Transactions/0 and 
2025-04-20 17:04:08.131 +03:00 [DBG] Link generation succeeded for endpoints ["Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)"] with result /api/Transactions/0
2025-04-20 17:04:08.133 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.Create (Finance_Manager_Backend) in 215.628ms
2025-04-20 17:04:08.134 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Create (Finance_Manager_Backend)'
2025-04-20 17:04:08.136 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 17:04:08.137 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:04:08.138 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-20 17:04:08.140 +03:00 [INF] Request finished HTTP/2 POST https://localhost:49464/api/Transactions - 201 null application/json; charset=utf-8 270.3353ms
2025-04-20 17:04:10.185 +03:00 [DBG] Connection id "0HNC026AN6AUH" received FIN.
2025-04-20 17:04:10.188 +03:00 [DBG] Connection id "0HNC026AN6AUH" is closed. The last processed stream ID was 1.
2025-04-20 17:04:10.188 +03:00 [DBG] Connection id "0HNC026AN6AUH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 17:04:10.192 +03:00 [DBG] The connection queue processing loop for 0HNC026AN6AUH completed.
2025-04-20 17:04:10.193 +03:00 [DBG] Connection id "0HNC026AN6AUH" stopped.
2025-04-20 17:29:54.521 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-20 17:30:04.159 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 17:30:05.442 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()'
2025-04-20 17:30:06.078 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.salt
        FROM users AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.salt
        FROM users AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                instance.<Email>k__BackingField = dataReader.GetString(2);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                instance.<Salt>k__BackingField = dataReader.GetString(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-20 17:30:06.165 +03:00 [DBG] Creating DbConnection.
2025-04-20 17:30:06.270 +03:00 [DBG] Created DbConnection. (102ms).
2025-04-20 17:30:06.458 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:07.674 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:07.692 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:30:07.708 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (17ms).
2025-04-20 17:30:07.714 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2025-04-20 17:30:07.725 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
2025-04-20 17:30:07.767 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
2025-04-20 17:30:07.845 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:07.900 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:07.921 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:07.932 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 157ms reading results.
2025-04-20 17:30:07.936 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:07.948 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (11ms).
2025-04-20 17:30:07.954 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 17:30:07.961 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 17:30:07.981 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 17:30:08.185 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:08.223 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:08.232 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:30:08.241 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-04-20 17:30:08.245 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-04-20 17:30:08.249 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-20 17:30:08.395 +03:00 [INF] Executed DbCommand (140ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-20 17:30:08.420 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:08.425 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 21ms reading results.
2025-04-20 17:30:08.430 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:08.433 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-20 17:30:08.448 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:08.452 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-20 17:30:08.458 +03:00 [DBG] Compiling query expression: 
'DbSet<Category>()'
2025-04-20 17:30:08.487 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Category>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Category entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Category instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Category);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Category)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                        {
                            return 
                            {
                                Category instance;
                                instance = new Category();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                                instance.<Icon>k__BackingField = dataReader.GetString(2);
                                instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                                instance.<Name>k__BackingField = dataReader.GetString(4);
                                instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Category)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-20 17:30:08.492 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:08.494 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:08.495 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:30:08.496 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 17:30:08.498 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 17:30:08.499 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-20 17:30:08.503 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-20 17:30:08.520 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:08.538 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:08.542 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:08.543 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:08.546 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:08.548 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:08.552 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:08.554 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:08.558 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:08.560 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:08.562 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:08.564 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 58ms reading results.
2025-04-20 17:30:08.567 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:08.569 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 17:30:08.571 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 17:30:08.573 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 17:30:08.585 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 17:30:08.593 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-20 17:30:08.597 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:08.599 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:08.602 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-04-20 17:30:08.611 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-20 17:30:08.614 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:30:08.615 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 17:30:08.618 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-20 17:30:08.620 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-20 17:30:08.654 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-20 17:30:08.667 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:08.669 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-20 17:30:08.675 +03:00 [DBG] Committing transaction.
2025-04-20 17:30:08.679 +03:00 [DBG] Committed transaction.
2025-04-20 17:30:08.682 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:08.683 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 17:30:08.687 +03:00 [DBG] Disposing transaction.
2025-04-20 17:30:08.688 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:08.691 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:08.695 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:08.697 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:08.700 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:08.702 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-20 17:30:08.705 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 17:30:08.710 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:08.713 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-04-20 17:30:08.976 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 17:30:08.998 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Email == __email_0)'
2025-04-20 17:30:09.098 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.email == @__email_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.email == @__email_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<Salt>k__BackingField = dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-20 17:30:09.125 +03:00 [DBG] Creating DbConnection.
2025-04-20 17:30:09.127 +03:00 [DBG] Created DbConnection. (2ms).
2025-04-20 17:30:09.128 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:09.131 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:09.132 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:30:09.134 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 17:30:09.137 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-20 17:30:09.139 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-20 17:30:09.146 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-20 17:30:09.158 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:09.160 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 7ms reading results.
2025-04-20 17:30:09.162 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:09.164 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 17:30:09.215 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:09.226 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:09.228 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 17:30:09.229 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 17:30:09.231 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 17:30:09.242 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:09.244 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:09.246 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:30:09.247 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 17:30:09.250 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 17:30:09.251 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3);
2025-04-20 17:30:09.278 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3);
2025-04-20 17:30:09.290 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:09.298 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:09.314 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 32ms reading results.
2025-04-20 17:30:09.316 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:09.320 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (3ms).
2025-04-20 17:30:09.332 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:09.335 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-20 17:30:09.848 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __userDTO_Id_0)'
2025-04-20 17:30:09.871 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<Salt>k__BackingField = dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-20 17:30:09.931 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:09.945 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:09.946 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:30:09.948 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 17:30:09.963 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-04-20 17:30:09.988 +03:00 [DBG] Executing DbCommand [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-20 17:30:09.996 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-20 17:30:10.002 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:10.003 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-20 17:30:10.006 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:10.010 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (4ms).
2025-04-20 17:30:10.019 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.022 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.027 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.029 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.031 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.034 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.036 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.038 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.046 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.049 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.051 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 17:30:10.052 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 17:30:10.059 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 17:30:10.065 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-20 17:30:10.071 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:10.075 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:10.079 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:30:10.085 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-04-20 17:30:10.087 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-04-20 17:30:10.097 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-20 17:30:10.121 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-20 17:30:10.133 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.139 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.149 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.151 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.154 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.163 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:10.166 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 34ms reading results.
2025-04-20 17:30:10.169 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:10.179 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (9ms).
2025-04-20 17:30:10.199 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.201 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.204 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.207 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.210 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.213 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-20 17:30:10.219 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.270 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.273 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.276 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.277 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.279 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.281 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.283 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.286 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.288 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.291 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.294 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.296 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.301 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.303 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.306 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.310 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.312 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.315 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.318 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.320 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.322 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.326 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.328 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.330 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.336 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.339 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.345 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.349 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.352 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.356 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.360 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.370 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.376 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.380 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.383 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.387 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.392 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.406 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.447 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.449 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 17:30:10.450 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 17:30:10.463 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 17:30:10.467 +03:00 [DBG] Executing 20 update commands as a batch.
2025-04-20 17:30:10.469 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:10.471 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:10.473 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:30:10.476 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-04-20 17:30:10.479 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-20 17:30:10.481 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-20 17:30:10.528 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-20 17:30:10.534 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.539 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.568 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.572 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.578 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.580 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.583 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.585 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.589 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.594 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.597 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.600 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.603 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.606 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.610 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.613 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.617 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.637 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.639 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.643 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.645 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:10.648 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 115ms reading results.
2025-04-20 17:30:10.650 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:10.652 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 17:30:10.655 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.659 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.661 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.664 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.667 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.670 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.672 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.676 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.681 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.684 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.686 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.689 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.693 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.696 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.699 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.702 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.704 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.708 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.711 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.713 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.715 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 20 entities written to the database.
2025-04-20 17:30:10.718 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.733 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.735 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.737 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.738 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.740 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.744 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.746 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.747 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 17:30:10.749 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 17:30:10.753 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 17:30:10.755 +03:00 [DBG] Executing 4 update commands as a batch.
2025-04-20 17:30:10.759 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:10.761 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:10.762 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:30:10.763 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 17:30:10.765 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 17:30:10.766 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-20 17:30:10.778 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-20 17:30:10.782 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.785 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.786 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.788 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:30:10.789 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:10.792 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 10ms reading results.
2025-04-20 17:30:10.793 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:10.795 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 17:30:10.799 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.801 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.803 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.806 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:30:10.809 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 4 entities written to the database.
2025-04-20 17:30:10.810 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 17:30:10.811 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:30:10.813 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-20 17:30:11.003 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-20 17:30:11.131 +03:00 [DBG] Hosting starting
2025-04-20 17:30:11.213 +03:00 [INF] User profile is available. Using 'C:\Users\ebtyx\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-20 17:30:11.236 +03:00 [DBG] Reading data from file 'C:\Users\ebtyx\AppData\Local\ASP.NET\DataProtection-Keys\key-036e1e5f-5347-47d7-8236-0b64ed0a76a1.xml'.
2025-04-20 17:30:11.251 +03:00 [DBG] Found key {036e1e5f-5347-47d7-8236-0b64ed0a76a1}.
2025-04-20 17:30:11.276 +03:00 [DBG] Considering key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} with expiration date 2025-07-16 20:11:06Z as default key.
2025-04-20 17:30:11.283 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-20 17:30:11.285 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-20 17:30:11.288 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-20 17:30:11.294 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-20 17:30:11.297 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-20 17:30:11.300 +03:00 [DBG] Using key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} as the default key.
2025-04-20 17:30:11.302 +03:00 [DBG] Key ring with default key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} was loaded during application startup.
2025-04-20 17:30:11.331 +03:00 [DBG] Middleware loaded
2025-04-20 17:30:11.335 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16531 B).
2025-04-20 17:30:11.338 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-20 17:30:11.550 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-20 17:30:11.741 +03:00 [INF] Now listening on: https://localhost:49464
2025-04-20 17:30:11.742 +03:00 [INF] Now listening on: http://localhost:49465
2025-04-20 17:30:11.744 +03:00 [DBG] Loaded hosting startup assembly Finance_Manager_Backend
2025-04-20 17:30:11.745 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-04-20 17:30:11.746 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-20 17:30:11.747 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-04-20 17:30:11.892 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-20 17:30:11.893 +03:00 [INF] Hosting environment: Development
2025-04-20 17:30:11.894 +03:00 [INF] Content root path: G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend
2025-04-20 17:30:11.896 +03:00 [DBG] Hosting started
2025-04-20 17:30:12.050 +03:00 [DBG] Connection id "0HNC02VE0D81V" accepted.
2025-04-20 17:30:12.057 +03:00 [DBG] Connection id "0HNC02VE0D81V" started.
2025-04-20 17:30:12.084 +03:00 [DBG] Connection id "0HNC02VE0D81V" received FIN.
2025-04-20 17:30:12.557 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-04-20 17:30:12.664 +03:00 [DBG] Connection id "0HNC02VE0D81V" stopped.
2025-04-20 17:30:12.670 +03:00 [DBG] Connection id "0HNC02VE0D81V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 17:30:45.725 +03:00 [DBG] Connection id "0HNC02VE0D820" accepted.
2025-04-20 17:30:45.768 +03:00 [DBG] Connection id "0HNC02VE0D820" started.
2025-04-20 17:30:46.500 +03:00 [DBG] Connection 0HNC02VE0D820 established using the following protocol: "Tls12"
2025-04-20 17:30:49.269 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/_vs/browserLink - null null
2025-04-20 17:30:49.281 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/_framework/aspnetcore-browser-refresh.js - null null
2025-04-20 17:30:49.346 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-20 17:30:49.357 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 144.9882ms
2025-04-20 17:30:49.680 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/_vs/browserLink - 200 null text/javascript; charset=UTF-8 475.8653ms
2025-04-20 17:30:49.940 +03:00 [DBG] Connection id "0HNC02VE0D820" received FIN.
2025-04-20 17:30:49.953 +03:00 [DBG] Connection id "0HNC02VE0D821" accepted.
2025-04-20 17:30:49.975 +03:00 [DBG] Connection id "0HNC02VE0D820" is closed. The last processed stream ID was 3.
2025-04-20 17:30:49.976 +03:00 [DBG] Connection id "0HNC02VE0D821" started.
2025-04-20 17:30:49.978 +03:00 [DBG] Connection id "0HNC02VE0D820" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 17:30:49.980 +03:00 [DBG] The connection queue processing loop for 0HNC02VE0D820 completed.
2025-04-20 17:30:49.985 +03:00 [DBG] Connection id "0HNC02VE0D820" stopped.
2025-04-20 17:30:49.987 +03:00 [DBG] Connection 0HNC02VE0D821 established using the following protocol: "Tls12"
2025-04-20 17:30:49.993 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/swagger/v1/swagger.json - null null
2025-04-20 17:30:50.004 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-20 17:30:50.290 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 297.314ms
2025-04-20 17:31:19.262 +03:00 [DBG] Connection id "0HNC02VE0D821" received FIN.
2025-04-20 17:31:19.268 +03:00 [DBG] Connection id "0HNC02VE0D821" is closed. The last processed stream ID was 1.
2025-04-20 17:31:19.269 +03:00 [DBG] The connection queue processing loop for 0HNC02VE0D821 completed.
2025-04-20 17:31:19.276 +03:00 [DBG] Connection id "0HNC02VE0D821" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 17:31:19.281 +03:00 [DBG] Connection id "0HNC02VE0D821" stopped.
2025-04-20 17:31:42.099 +03:00 [DBG] Connection id "0HNC02VE0D822" accepted.
2025-04-20 17:31:42.107 +03:00 [DBG] Connection id "0HNC02VE0D822" started.
2025-04-20 17:31:42.117 +03:00 [DBG] Connection 0HNC02VE0D822 established using the following protocol: "Tls12"
2025-04-20 17:31:42.119 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/Transactions/7 - null null
2025-04-20 17:31:42.142 +03:00 [DBG] The request path  does not match the path filter
2025-04-20 17:31:42.175 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions/7'
2025-04-20 17:31:42.177 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)' with route pattern 'api/Transactions/{id}' is valid for the request path '/api/Transactions/7'
2025-04-20 17:31:42.184 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)'
2025-04-20 17:31:42.367 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-20 17:31:42.371 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)'
2025-04-20 17:31:42.426 +03:00 [INF] Route matched with {action = "GetById", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO]] GetById(Int32) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-04-20 17:31:42.429 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 17:31:42.432 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 17:31:42.435 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 17:31:42.437 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 17:31:42.439 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 17:31:42.442 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-20 17:31:42.446 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-20 17:31:42.469 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-20 17:31:42.473 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-20 17:31:42.477 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-20 17:31:42.478 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-20 17:31:42.480 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-20 17:31:42.486 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-20 17:31:46.086 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 17:31:46.090 +03:00 [DBG] Compiling query expression: 
'DbSet<Transaction>()
    .FirstOrDefault(t => t.Id == __transactionId_0)'
2025-04-20 17:31:46.099 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Transaction>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Transaction>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Transaction.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Transaction.CategoryId (int) Required FK Index, 1], [Property: Transaction.Date (DateTime) Required, 2], [Property: Transaction.InnerCategoryId (int?) FK Index, 3], [Property: Transaction.Name (string) Required MaxLength(50), 4], [Property: Transaction.Price (decimal) Required, 5], [Property: Transaction.UserId (int) Required FK Index, 6] }
            SELECT TOP(1) t.id, t.category_fk, t.date, t.inner_category_fk, t.name, t.price, t.user_fk
            FROM transactions AS t
            WHERE t.id == @__transactionId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Transaction.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Transaction.CategoryId (int) Required FK Index, 1], [Property: Transaction.Date (DateTime) Required, 2], [Property: Transaction.InnerCategoryId (int?) FK Index, 3], [Property: Transaction.Name (string) Required MaxLength(50), 4], [Property: Transaction.Price (decimal) Required, 5], [Property: Transaction.UserId (int) Required FK Index, 6] }
            SELECT TOP(1) t.id, t.category_fk, t.date, t.inner_category_fk, t.name, t.price, t.user_fk
            FROM transactions AS t
            WHERE t.id == @__transactionId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Transaction entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Transaction instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Transaction);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Transaction.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Transaction)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")]: 
                            {
                                return 
                                {
                                    Transaction instance;
                                    instance = new Transaction();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CategoryId>k__BackingField = dataReader.GetInt32(1);
                                    instance.<Date>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<InnerCategoryId>k__BackingField = dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3);
                                    instance.<Name>k__BackingField = dataReader.GetString(4);
                                    instance.<Price>k__BackingField = dataReader.GetDecimal(5);
                                    instance.<UserId>k__BackingField = dataReader.GetInt32(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Transaction)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-20 17:31:46.106 +03:00 [DBG] Creating DbConnection.
2025-04-20 17:31:46.107 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-20 17:31:46.109 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:31:46.111 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:31:46.114 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:31:46.115 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 17:31:46.117 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 17:31:46.120 +03:00 [DBG] Executing DbCommand [Parameters=[@__transactionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[id] = @__transactionId_0
2025-04-20 17:31:46.129 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__transactionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[id] = @__transactionId_0
2025-04-20 17:31:46.204 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:31:46.207 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-04-20 17:31:46.211 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:31:46.213 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-20 17:32:04.924 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend) in 22474.3838ms
2025-04-20 17:32:04.964 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)'
2025-04-20 17:44:34.480 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-04-20 17:44:35.876 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 17:44:36.120 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()'
2025-04-20 17:44:36.699 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.salt
        FROM users AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.salt
        FROM users AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                instance.<Email>k__BackingField = dataReader.GetString(2);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                instance.<Salt>k__BackingField = dataReader.GetString(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-20 17:44:36.790 +03:00 [DBG] Creating DbConnection.
2025-04-20 17:44:36.926 +03:00 [DBG] Created DbConnection. (157ms).
2025-04-20 17:44:36.932 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:37.761 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:37.768 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:44:37.777 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-04-20 17:44:37.781 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-04-20 17:44:37.792 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
2025-04-20 17:44:37.991 +03:00 [INF] Executed DbCommand (200ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
2025-04-20 17:44:38.098 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:38.178 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:38.194 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:38.203 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 203ms reading results.
2025-04-20 17:44:38.209 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:38.217 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (8ms).
2025-04-20 17:44:38.222 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 17:44:38.263 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 17:44:38.281 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 17:44:38.444 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:38.451 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:38.460 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:44:38.462 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 17:44:38.467 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-04-20 17:44:38.473 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-20 17:44:38.557 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
2025-04-20 17:44:38.568 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:38.572 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 12ms reading results.
2025-04-20 17:44:38.577 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:38.579 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-04-20 17:44:38.585 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:38.589 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-20 17:44:38.592 +03:00 [DBG] Compiling query expression: 
'DbSet<Category>()'
2025-04-20 17:44:38.641 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Category>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Category entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Category instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Category);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Category)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                        {
                            return 
                            {
                                Category instance;
                                instance = new Category();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                                instance.<Icon>k__BackingField = dataReader.GetString(2);
                                instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                                instance.<Name>k__BackingField = dataReader.GetString(4);
                                instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Category)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-04-20 17:44:38.647 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:38.649 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:38.650 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:44:38.652 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 17:44:38.653 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 17:44:38.655 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-20 17:44:38.661 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-04-20 17:44:38.696 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:38.713 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:38.719 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:38.722 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:38.729 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:38.731 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:38.738 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:38.742 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:38.747 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:38.752 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:38.755 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:38.757 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 93ms reading results.
2025-04-20 17:44:38.760 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:38.761 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 17:44:38.763 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 17:44:38.764 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 17:44:38.777 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 17:44:38.784 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-20 17:44:38.787 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:38.788 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:38.791 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-04-20 17:44:38.799 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-04-20 17:44:38.801 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:44:38.802 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 17:44:38.805 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 17:44:38.806 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-20 17:44:38.855 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-04-20 17:44:38.860 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:38.862 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-20 17:44:38.872 +03:00 [DBG] Committing transaction.
2025-04-20 17:44:38.878 +03:00 [DBG] Committed transaction.
2025-04-20 17:44:38.881 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:38.883 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 17:44:38.887 +03:00 [DBG] Disposing transaction.
2025-04-20 17:44:38.888 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:38.892 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:38.894 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:38.897 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:38.899 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:38.901 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-20 17:44:38.904 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 17:44:38.909 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:38.911 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-04-20 17:44:39.176 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 17:44:39.194 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Email == __email_0)'
2025-04-20 17:44:39.316 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.email == @__email_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.email == @__email_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<Salt>k__BackingField = dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-20 17:44:39.334 +03:00 [DBG] Creating DbConnection.
2025-04-20 17:44:39.336 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-20 17:44:39.338 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:39.341 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:39.343 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:44:39.344 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 17:44:39.347 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-04-20 17:44:39.349 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-20 17:44:39.356 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-04-20 17:44:39.384 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:39.386 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 5ms reading results.
2025-04-20 17:44:39.388 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:39.390 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 17:44:39.445 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:39.461 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:39.505 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 17:44:39.506 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 17:44:39.508 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 17:44:39.536 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:39.537 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:39.539 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:44:39.540 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 17:44:39.542 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 17:44:39.544 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3);
2025-04-20 17:44:39.551 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [salt])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3);
2025-04-20 17:44:39.564 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:39.572 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:39.574 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 19ms reading results.
2025-04-20 17:44:39.577 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:39.579 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 17:44:39.583 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:39.586 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-04-20 17:44:39.931 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __userDTO_Id_0)'
2025-04-20 17:44:39.940 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.Salt (string) Required MaxLength(30), 4] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.salt
            FROM users AS u
            WHERE u.id == @__userDTO_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<Salt>k__BackingField = dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-20 17:44:39.946 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:39.948 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:39.949 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:44:39.951 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 17:44:39.953 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 17:44:39.955 +03:00 [DBG] Executing DbCommand [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-20 17:44:39.960 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[salt]
FROM [users] AS [u]
WHERE [u].[id] = @__userDTO_Id_0
2025-04-20 17:44:39.964 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:39.967 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-04-20 17:44:39.969 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:39.971 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 17:44:39.980 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:39.985 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:39.987 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:39.990 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:39.992 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:39.995 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:39.997 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:39.999 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.001 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.003 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.005 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 17:44:40.007 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 17:44:40.010 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 17:44:40.015 +03:00 [DBG] Executing 5 update commands as a batch.
2025-04-20 17:44:40.019 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:40.021 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:40.022 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:44:40.023 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 17:44:40.025 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 17:44:40.031 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-20 17:44:40.053 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-20 17:44:40.057 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.061 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.063 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.064 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.066 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.067 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:40.069 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 13ms reading results.
2025-04-20 17:44:40.071 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:40.072 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 17:44:40.075 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.077 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.079 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.081 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.083 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.085 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-04-20 17:44:40.094 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.169 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.176 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.179 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.181 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.187 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.189 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.192 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.195 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.197 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.199 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.202 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.203 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.206 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.208 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.211 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.214 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.216 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.218 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.220 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.222 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.224 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.228 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.232 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.234 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.237 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.238 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.241 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.247 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.251 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.253 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.255 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.257 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.261 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.262 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.264 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.266 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.268 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.269 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.271 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.272 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 17:44:40.273 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 17:44:40.281 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 17:44:40.284 +03:00 [DBG] Executing 20 update commands as a batch.
2025-04-20 17:44:40.285 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:40.287 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:40.288 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:44:40.289 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 17:44:40.292 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 17:44:40.295 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-20 17:44:40.355 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-04-20 17:44:40.365 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.369 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.373 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.376 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.379 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.380 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.382 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.384 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.387 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.389 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.391 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.395 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.397 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.399 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.401 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.403 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.406 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.408 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.411 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.413 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.415 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:40.417 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 54ms reading results.
2025-04-20 17:44:40.420 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:40.422 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 17:44:40.424 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.429 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.431 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.435 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.438 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.440 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.444 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.447 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.454 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.457 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.466 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.470 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.480 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.485 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.487 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.490 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.494 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.497 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.499 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.502 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.504 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 20 entities written to the database.
2025-04-20 17:44:40.508 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.526 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.528 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.530 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.531 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.533 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.535 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.537 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.538 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-04-20 17:44:40.540 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-04-20 17:44:40.555 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-04-20 17:44:40.563 +03:00 [DBG] Executing 4 update commands as a batch.
2025-04-20 17:44:40.565 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:40.567 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:40.569 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:44:40.570 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 17:44:40.572 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 17:44:40.573 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-20 17:44:40.584 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-04-20 17:44:40.588 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.591 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.593 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.595 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-04-20 17:44:40.597 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:40.598 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 11ms reading results.
2025-04-20 17:44:40.600 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:40.602 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 17:44:40.610 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.613 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.615 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.620 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-04-20 17:44:40.625 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 4 entities written to the database.
2025-04-20 17:44:40.628 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 17:44:40.629 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:44:40.631 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-04-20 17:44:40.816 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-04-20 17:44:40.936 +03:00 [DBG] Hosting starting
2025-04-20 17:44:41.016 +03:00 [INF] User profile is available. Using 'C:\Users\ebtyx\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-20 17:44:41.035 +03:00 [DBG] Reading data from file 'C:\Users\ebtyx\AppData\Local\ASP.NET\DataProtection-Keys\key-036e1e5f-5347-47d7-8236-0b64ed0a76a1.xml'.
2025-04-20 17:44:41.050 +03:00 [DBG] Found key {036e1e5f-5347-47d7-8236-0b64ed0a76a1}.
2025-04-20 17:44:41.063 +03:00 [DBG] Considering key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} with expiration date 2025-07-16 20:11:06Z as default key.
2025-04-20 17:44:41.069 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-20 17:44:41.070 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-04-20 17:44:41.073 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-04-20 17:44:41.078 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-04-20 17:44:41.080 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-04-20 17:44:41.084 +03:00 [DBG] Using key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} as the default key.
2025-04-20 17:44:41.086 +03:00 [DBG] Key ring with default key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} was loaded during application startup.
2025-04-20 17:44:41.107 +03:00 [DBG] Middleware loaded
2025-04-20 17:44:41.110 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16531 B).
2025-04-20 17:44:41.113 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-04-20 17:44:41.296 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-04-20 17:44:41.502 +03:00 [INF] Now listening on: https://localhost:49464
2025-04-20 17:44:41.504 +03:00 [INF] Now listening on: http://localhost:49465
2025-04-20 17:44:41.506 +03:00 [DBG] Loaded hosting startup assembly Finance_Manager_Backend
2025-04-20 17:44:41.507 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-04-20 17:44:41.508 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-04-20 17:44:41.509 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-04-20 17:44:41.690 +03:00 [DBG] Connection id "0HNC037H5U1G4" accepted.
2025-04-20 17:44:41.698 +03:00 [DBG] Connection id "0HNC037H5U1G4" started.
2025-04-20 17:44:41.700 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-20 17:44:41.703 +03:00 [INF] Hosting environment: Development
2025-04-20 17:44:41.705 +03:00 [INF] Content root path: G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend
2025-04-20 17:44:41.707 +03:00 [DBG] Hosting started
2025-04-20 17:44:41.731 +03:00 [DBG] Connection id "0HNC037H5U1G4" received FIN.
2025-04-20 17:44:41.758 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-04-20 17:44:42.256 +03:00 [DBG] Connection id "0HNC037H5U1G4" stopped.
2025-04-20 17:44:42.322 +03:00 [DBG] Connection id "0HNC037H5U1G4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 17:45:04.661 +03:00 [DBG] Connection id "0HNC037H5U1G5" accepted.
2025-04-20 17:45:04.665 +03:00 [DBG] Connection id "0HNC037H5U1G5" started.
2025-04-20 17:45:04.709 +03:00 [DBG] Connection 0HNC037H5U1G5 established using the following protocol: "Tls12"
2025-04-20 17:45:07.400 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/_framework/aspnetcore-browser-refresh.js - null null
2025-04-20 17:45:07.400 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/_vs/browserLink - null null
2025-04-20 17:45:07.440 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-04-20 17:45:07.453 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 76.6204ms
2025-04-20 17:45:07.580 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/_vs/browserLink - 200 null text/javascript; charset=UTF-8 213.555ms
2025-04-20 17:45:08.270 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/swagger/v1/swagger.json - null null
2025-04-20 17:45:08.281 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-04-20 17:45:08.378 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 108.2812ms
2025-04-20 17:45:08.663 +03:00 [DBG] Connection id "0HNC037H5U1G5" received FIN.
2025-04-20 17:45:08.677 +03:00 [DBG] Connection id "0HNC037H5U1G5" is closed. The last processed stream ID was 5.
2025-04-20 17:45:08.680 +03:00 [DBG] The connection queue processing loop for 0HNC037H5U1G5 completed.
2025-04-20 17:45:08.684 +03:00 [DBG] Connection id "0HNC037H5U1G5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 17:45:08.689 +03:00 [DBG] Connection id "0HNC037H5U1G5" stopped.
2025-04-20 17:45:17.519 +03:00 [DBG] Connection id "0HNC037H5U1G6" accepted.
2025-04-20 17:45:17.532 +03:00 [DBG] Connection id "0HNC037H5U1G6" started.
2025-04-20 17:45:17.545 +03:00 [DBG] Connection 0HNC037H5U1G6 established using the following protocol: "Tls12"
2025-04-20 17:45:17.551 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/Transactions/3 - null null
2025-04-20 17:45:17.561 +03:00 [DBG] The request path  does not match the path filter
2025-04-20 17:45:17.602 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions/3'
2025-04-20 17:45:17.606 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)' with route pattern 'api/Transactions/{id}' is valid for the request path '/api/Transactions/3'
2025-04-20 17:45:17.614 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)'
2025-04-20 17:45:17.722 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-20 17:45:17.726 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)'
2025-04-20 17:45:17.758 +03:00 [INF] Route matched with {action = "GetById", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.TransactionDTO]] GetById(Int32) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-04-20 17:45:17.763 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 17:45:17.765 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 17:45:17.767 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 17:45:17.769 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 17:45:17.771 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 17:45:17.777 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-20 17:45:17.783 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-04-20 17:45:17.818 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-20 17:45:17.821 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-20 17:45:17.825 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-20 17:45:17.827 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-20 17:45:17.828 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-20 17:45:17.834 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-20 17:45:17.873 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 17:45:17.877 +03:00 [DBG] Compiling query expression: 
'DbSet<Transaction>()
    .FirstOrDefault(t => t.Id == __transactionId_0)'
2025-04-20 17:45:17.888 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Transaction>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Transaction>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Transaction.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Transaction.CategoryId (int) Required FK Index, 1], [Property: Transaction.Date (DateTime) Required, 2], [Property: Transaction.InnerCategoryId (int?) FK Index, 3], [Property: Transaction.Name (string) Required MaxLength(50), 4], [Property: Transaction.Price (decimal) Required, 5], [Property: Transaction.UserId (int) Required FK Index, 6] }
            SELECT TOP(1) t.id, t.category_fk, t.date, t.inner_category_fk, t.name, t.price, t.user_fk
            FROM transactions AS t
            WHERE t.id == @__transactionId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Transaction.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Transaction.CategoryId (int) Required FK Index, 1], [Property: Transaction.Date (DateTime) Required, 2], [Property: Transaction.InnerCategoryId (int?) FK Index, 3], [Property: Transaction.Name (string) Required MaxLength(50), 4], [Property: Transaction.Price (decimal) Required, 5], [Property: Transaction.UserId (int) Required FK Index, 6] }
            SELECT TOP(1) t.id, t.category_fk, t.date, t.inner_category_fk, t.name, t.price, t.user_fk
            FROM transactions AS t
            WHERE t.id == @__transactionId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Transaction entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Transaction instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Transaction);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Transaction.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Transaction)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")]: 
                            {
                                return 
                                {
                                    Transaction instance;
                                    instance = new Transaction();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CategoryId>k__BackingField = dataReader.GetInt32(1);
                                    instance.<Date>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<InnerCategoryId>k__BackingField = dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3);
                                    instance.<Name>k__BackingField = dataReader.GetString(4);
                                    instance.<Price>k__BackingField = dataReader.GetDecimal(5);
                                    instance.<UserId>k__BackingField = dataReader.GetInt32(6);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Transaction)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-20 17:45:17.904 +03:00 [DBG] Creating DbConnection.
2025-04-20 17:45:17.906 +03:00 [DBG] Created DbConnection. (2ms).
2025-04-20 17:45:17.908 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:45:17.910 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:45:17.912 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:45:17.914 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-04-20 17:45:17.915 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-04-20 17:45:17.917 +03:00 [DBG] Executing DbCommand [Parameters=[@__transactionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[id] = @__transactionId_0
2025-04-20 17:45:17.922 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__transactionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[id] = @__transactionId_0
2025-04-20 17:45:17.926 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:45:17.928 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-04-20 17:45:17.932 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:45:17.933 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 17:45:18.184 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend) in 406.0725ms
2025-04-20 17:45:18.187 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetById (Finance_Manager_Backend)'
2025-04-20 17:45:18.350 +03:00 [ERR] Transaction with ID 3 isn't exist.
Finance_Manager_Backend.Exceptions.EntityNotFoundException`1[Finance_Manager_Backend.BusinessLogic.Models.Transaction]: Transaction with ID 3 isn't exist.
   at Finance_Manager_Backend.BusinessLogic.Services.TransactionsService.GetTransactionDTOByIdAsync(Int32 transactionId) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\BusinessLogic\Services\TransactionsService.cs:line 70
   at Finance_Manager_Backend.Controllers.TransactionsController.GetById(Int32 id) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Controllers\TransactionsController.cs:line 56
   at lambda_method353(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Finance_Manager_Backend.Middleware.ExceptionsHandler.InvokeAsync(HttpContext httpContext) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Middleware\ExceptionsHandler.cs:line 24
2025-04-20 17:45:18.376 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 17:45:18.382 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:45:18.395 +03:00 [DBG] Disposed connection to database '' on server '' (12ms).
2025-04-20 17:45:18.398 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/Transactions/3 - 404 null application/json 847.2183ms
2025-04-20 17:45:18.663 +03:00 [DBG] Connection id "0HNC037H5U1G6" received FIN.
2025-04-20 17:45:18.686 +03:00 [DBG] Connection id "0HNC037H5U1G6" is closed. The last processed stream ID was 1.
2025-04-20 17:45:18.686 +03:00 [DBG] The connection queue processing loop for 0HNC037H5U1G6 completed.
2025-04-20 17:45:18.687 +03:00 [DBG] Connection id "0HNC037H5U1G6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 17:45:18.698 +03:00 [DBG] Connection id "0HNC037H5U1G6" stopped.
2025-04-20 17:45:27.132 +03:00 [DBG] Connection id "0HNC037H5U1G7" accepted.
2025-04-20 17:45:27.137 +03:00 [DBG] Connection id "0HNC037H5U1G7" started.
2025-04-20 17:45:27.143 +03:00 [DBG] Connection 0HNC037H5U1G7 established using the following protocol: "Tls12"
2025-04-20 17:45:27.145 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:49464/api/Transactions/3 - null null
2025-04-20 17:45:27.152 +03:00 [DBG] DELETE requests are not supported
2025-04-20 17:45:27.154 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions/3'
2025-04-20 17:45:27.156 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Delete (Finance_Manager_Backend)' with route pattern 'api/Transactions/{id}' is valid for the request path '/api/Transactions/3'
2025-04-20 17:45:27.158 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.Delete (Finance_Manager_Backend)'
2025-04-20 17:45:27.161 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-20 17:45:27.170 +03:00 [DBG] Policy authentication schemes  did not succeed
2025-04-20 17:45:27.177 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-20 17:45:27.187 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-20 17:45:27.189 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:49464/api/Transactions/3 - 401 0 null 43.466ms
2025-04-20 17:45:28.669 +03:00 [DBG] Connection id "0HNC037H5U1G7" received FIN.
2025-04-20 17:45:28.672 +03:00 [DBG] Connection id "0HNC037H5U1G7" is closed. The last processed stream ID was 1.
2025-04-20 17:45:28.672 +03:00 [DBG] The connection queue processing loop for 0HNC037H5U1G7 completed.
2025-04-20 17:45:28.675 +03:00 [DBG] Connection id "0HNC037H5U1G7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 17:45:28.684 +03:00 [DBG] Connection id "0HNC037H5U1G7" stopped.
2025-04-20 17:45:38.009 +03:00 [DBG] Connection id "0HNC037H5U1G8" accepted.
2025-04-20 17:45:38.017 +03:00 [DBG] Connection id "0HNC037H5U1G8" started.
2025-04-20 17:45:38.021 +03:00 [DBG] Connection 0HNC037H5U1G8 established using the following protocol: "Tls12"
2025-04-20 17:45:38.034 +03:00 [INF] Request starting HTTP/2 GET https://localhost:49464/api/Savings/3 - null null
2025-04-20 17:45:38.037 +03:00 [DBG] The request path  does not match the path filter
2025-04-20 17:45:38.038 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings/3'
2025-04-20 17:45:38.044 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetById (Finance_Manager_Backend)' with route pattern 'api/Savings/{id}' is valid for the request path '/api/Savings/3'
2025-04-20 17:45:38.047 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetById (Finance_Manager_Backend)'
2025-04-20 17:45:38.049 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-20 17:45:38.050 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetById (Finance_Manager_Backend)'
2025-04-20 17:45:38.059 +03:00 [INF] Route matched with {action = "GetById", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.ModelsDTO.SavingDTO]] GetById(Int32) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-04-20 17:45:38.061 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-04-20 17:45:38.063 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-04-20 17:45:38.064 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-04-20 17:45:38.066 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-04-20 17:45:38.068 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-04-20 17:45:38.069 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 17:45:38.074 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-04-20 17:45:38.076 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-04-20 17:45:38.078 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-04-20 17:45:38.079 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-20 17:45:38.081 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-04-20 17:45:38.082 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-04-20 17:45:38.084 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-04-20 17:45:38.088 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-04-20 17:45:38.093 +03:00 [DBG] Compiling query expression: 
'DbSet<Saving>()
    .FirstOrDefault(s => s.Id == __savingId_0)'
2025-04-20 17:45:38.100 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Saving>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Saving>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Saving.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Saving.CurrentAmount (decimal) Required ValueGenerated.OnAdd, 1], [Property: Saving.Goal (decimal) Required, 2], [Property: Saving.Name (string) Required MaxLength(50), 3], [Property: Saving.UserId (int) Required FK Index, 4] }
            SELECT TOP(1) s.id, s.current_amount, s.goal, s.name, s.user_fk
            FROM savings AS s
            WHERE s.id == @__savingId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Saving.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Saving.CurrentAmount (decimal) Required ValueGenerated.OnAdd, 1], [Property: Saving.Goal (decimal) Required, 2], [Property: Saving.Name (string) Required MaxLength(50), 3], [Property: Saving.UserId (int) Required FK Index, 4] }
            SELECT TOP(1) s.id, s.current_amount, s.goal, s.name, s.user_fk
            FROM savings AS s
            WHERE s.id == @__savingId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Saving entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Saving instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Saving);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Saving.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Saving").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Saving)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Saving | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Saving")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Saving | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Saving")]: 
                            {
                                return 
                                {
                                    Saving instance;
                                    instance = new Saving();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CurrentAmount>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Goal>k__BackingField = dataReader.GetDecimal(2);
                                    instance.<Name>k__BackingField = dataReader.GetString(3);
                                    instance.<UserId>k__BackingField = dataReader.GetInt32(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Saving | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Saving")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Saving)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-04-20 17:45:38.160 +03:00 [DBG] Creating DbConnection.
2025-04-20 17:45:38.161 +03:00 [DBG] Created DbConnection. (1ms).
2025-04-20 17:45:38.162 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:45:38.164 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:45:38.165 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-04-20 17:45:38.166 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-04-20 17:45:38.168 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-04-20 17:45:38.169 +03:00 [DBG] Executing DbCommand [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-04-20 17:45:38.176 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-04-20 17:45:38.178 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:45:38.180 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-04-20 17:45:38.181 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:45:38.183 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-04-20 17:45:38.328 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetById (Finance_Manager_Backend) in 258.2675ms
2025-04-20 17:45:38.331 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetById (Finance_Manager_Backend)'
2025-04-20 17:45:38.462 +03:00 [ERR] Category with ID 3 isn't exist.
Finance_Manager_Backend.Exceptions.EntityNotFoundException`1[Finance_Manager_Backend.BusinessLogic.Models.Category]: Category with ID 3 isn't exist.
   at Finance_Manager_Backend.BusinessLogic.Services.SavingsService.GetSavingDTOByIdAsync(Int32 savingId) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\BusinessLogic\Services\SavingsService.cs:line 52
   at Finance_Manager_Backend.Controllers.SavingsController.GetById(Int32 id) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Controllers\SavingsController.cs:line 54
   at lambda_method371(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Finance_Manager_Backend.Middleware.ExceptionsHandler.InvokeAsync(HttpContext httpContext) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Middleware\ExceptionsHandler.cs:line 24
2025-04-20 17:45:38.491 +03:00 [DBG] 'AppDbContext' disposed.
2025-04-20 17:45:38.510 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-04-20 17:45:38.518 +03:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-04-20 17:45:38.529 +03:00 [INF] Request finished HTTP/2 GET https://localhost:49464/api/Savings/3 - 404 null application/json 495.877ms
2025-04-20 17:45:38.677 +03:00 [DBG] Connection id "0HNC037H5U1G8" received FIN.
2025-04-20 17:45:38.698 +03:00 [DBG] Connection id "0HNC037H5U1G8" is closed. The last processed stream ID was 1.
2025-04-20 17:45:38.700 +03:00 [DBG] The connection queue processing loop for 0HNC037H5U1G8 completed.
2025-04-20 17:45:38.703 +03:00 [DBG] Connection id "0HNC037H5U1G8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 17:45:38.740 +03:00 [DBG] Connection id "0HNC037H5U1G8" stopped.
2025-04-20 17:46:43.522 +03:00 [DBG] Connection id "0HNC037H5U1G9" accepted.
2025-04-20 17:46:43.540 +03:00 [DBG] Connection id "0HNC037H5U1G9" started.
2025-04-20 17:46:43.547 +03:00 [DBG] Connection 0HNC037H5U1G9 established using the following protocol: "Tls12"
2025-04-20 17:46:43.559 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:49464/api/Savings/2 - null null
2025-04-20 17:46:43.567 +03:00 [DBG] DELETE requests are not supported
2025-04-20 17:46:43.569 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings/2'
2025-04-20 17:46:43.571 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Delete (Finance_Manager_Backend)' with route pattern 'api/Savings/{id}' is valid for the request path '/api/Savings/2'
2025-04-20 17:46:43.573 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.Delete (Finance_Manager_Backend)'
2025-04-20 17:46:43.574 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-04-20 17:46:43.585 +03:00 [DBG] Policy authentication schemes  did not succeed
2025-04-20 17:46:43.588 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-20 17:46:43.589 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-20 17:46:43.591 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:49464/api/Savings/2 - 401 0 null 32.5667ms
2025-04-20 17:46:48.898 +03:00 [DBG] Connection id "0HNC037H5U1G9" received FIN.
2025-04-20 17:46:48.901 +03:00 [DBG] Connection id "0HNC037H5U1G9" is closed. The last processed stream ID was 1.
2025-04-20 17:46:48.901 +03:00 [DBG] The connection queue processing loop for 0HNC037H5U1G9 completed.
2025-04-20 17:46:48.903 +03:00 [DBG] Connection id "0HNC037H5U1G9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-04-20 17:46:48.912 +03:00 [DBG] Connection id "0HNC037H5U1G9" stopped.
