2025-05-14 00:00:00.225 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:00:11.933 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:00:21.955 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:00:21.957 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 5 items
2025-05-14 00:00:32.017 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:00:32.019 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:00:42.034 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:00:42.045 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 5 items
2025-05-14 00:00:52.057 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:00:52.060 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:01:02.126 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:01:02.142 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 5 items
2025-05-14 00:01:12.160 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:01:12.162 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:01:22.175 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:01:22.177 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 5 items
2025-05-14 00:01:32.181 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:01:32.182 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:01:42.194 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:01:42.195 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 5 items
2025-05-14 00:01:52.207 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:01:52.209 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 5 items
2025-05-14 00:02:02.221 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:02:02.227 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 5 items
2025-05-14 00:02:12.248 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:02:12.250 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:02:22.258 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:02:22.261 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:02:32.277 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:02:32.286 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:02:42.291 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:02:42.292 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 5 items
2025-05-14 00:02:52.319 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:02:52.328 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 5 items
2025-05-14 00:03:02.335 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:03:02.336 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:03:12.385 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:03:12.387 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:03:22.393 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:03:22.395 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 5 items
2025-05-14 00:03:32.414 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:03:32.418 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:03:42.428 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:03:42.429 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:03:52.433 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:03:52.436 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 5 items
2025-05-14 00:04:02.445 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:04:02.449 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 5 items
2025-05-14 00:04:12.451 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:04:12.453 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:04:22.460 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:04:22.463 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:04:32.467 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:04:32.468 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:04:42.482 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:04:42.525 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:04:52.526 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:04:52.527 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:05:02.541 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:05:02.543 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:05:12.549 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:05:12.551 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:05:22.555 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:05:22.556 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:05:32.562 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:05:32.613 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:05:42.627 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:05:42.628 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 5 items
2025-05-14 00:05:52.635 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:05:52.636 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 5 items
2025-05-14 00:06:02.644 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:06:02.645 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 5 items
2025-05-14 00:06:12.659 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:06:12.660 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 5 items
2025-05-14 00:06:22.673 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:06:22.674 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:06:32.689 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:06:32.691 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:06:42.693 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:06:42.694 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:06:52.707 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:06:52.716 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 5 items
2025-05-14 00:07:02.772 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:07:02.964 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:07:12.974 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:07:12.976 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 5 items
2025-05-14 00:07:22.992 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:07:22.993 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 5 items
2025-05-14 00:07:33.001 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:07:33.002 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 5 items
2025-05-14 00:07:43.015 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:07:43.016 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:07:53.031 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:07:53.034 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 5 items
2025-05-14 00:08:03.048 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:08:03.050 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 5 items
2025-05-14 00:08:13.054 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:08:13.056 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 5 items
2025-05-14 00:08:23.061 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:08:23.124 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:08:33.132 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:08:33.134 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:08:43.140 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:08:43.200 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:08:53.208 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:08:53.211 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 5 items
2025-05-14 00:09:03.235 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:09:03.268 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:09:13.297 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:09:13.331 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:09:23.357 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:09:23.410 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:09:33.421 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:09:33.523 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:09:43.531 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:09:43.537 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:09:53.543 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:09:53.551 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 5 items
2025-05-14 00:10:03.567 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:10:03.568 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 5 items
2025-05-14 00:10:13.571 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:10:13.573 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:10:23.583 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:10:23.585 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:10:33.597 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:10:33.599 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 5 items
2025-05-14 00:10:43.612 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:10:43.614 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:10:53.623 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:10:53.624 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:11:03.626 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:11:03.633 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 5 items
2025-05-14 00:11:13.649 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:11:13.651 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 5 items
2025-05-14 00:11:23.663 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:11:23.665 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 5 items
2025-05-14 00:11:33.677 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:11:33.685 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:11:43.688 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:11:43.690 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 5 items
2025-05-14 00:11:53.696 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:11:53.698 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:12:03.710 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:12:03.712 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:12:13.734 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:12:13.738 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:12:23.738 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:12:23.740 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 5 items
2025-05-14 00:12:33.750 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:12:33.752 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:12:43.755 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:12:43.757 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:12:53.770 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:12:53.774 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:13:03.788 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:13:03.790 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:13:13.795 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:13:13.798 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:13:23.816 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:13:23.818 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 5 items
2025-05-14 00:13:33.822 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:13:33.836 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:13:43.843 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:13:43.844 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:13:53.856 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:13:53.857 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:14:03.872 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:14:03.875 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 5 items
2025-05-14 00:14:13.894 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:14:13.898 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 5 items
2025-05-14 00:14:23.909 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:14:23.915 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 5 items
2025-05-14 00:14:33.934 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:14:33.935 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 5 items
2025-05-14 00:14:43.944 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:14:43.945 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:14:53.953 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:14:53.956 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 5 items
2025-05-14 00:15:03.976 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:15:03.991 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 5 items
2025-05-14 00:15:14.015 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:15:14.019 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 5 items
2025-05-14 00:15:24.052 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:15:24.056 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:15:34.073 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:15:34.077 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 5 items
2025-05-14 00:15:44.089 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:15:44.092 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:15:54.111 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:15:54.112 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:16:04.120 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:16:04.121 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:16:14.130 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:16:14.132 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 5 items
2025-05-14 00:16:24.145 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:16:24.147 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:16:34.161 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:16:34.162 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 5 items
2025-05-14 00:16:44.178 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:16:44.179 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:16:54.191 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:16:54.193 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:17:04.200 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:17:04.202 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 5 items
2025-05-14 00:17:14.214 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:17:14.215 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 5 items
2025-05-14 00:17:24.227 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:17:24.236 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:17:34.246 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:17:34.247 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 5 items
2025-05-14 00:17:44.262 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:17:44.265 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:17:54.273 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:17:54.277 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 5 items
2025-05-14 00:18:04.283 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:18:04.284 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 5 items
2025-05-14 00:18:14.297 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:18:14.610 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 5 items
2025-05-14 00:18:24.618 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:18:24.619 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 5 items
2025-05-14 00:18:34.621 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:18:34.624 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 5 items
2025-05-14 00:18:44.629 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:18:44.630 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:18:54.637 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:18:54.639 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:19:04.656 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:19:04.665 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 5 items
2025-05-14 00:19:14.677 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:19:14.679 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:19:24.686 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:19:24.688 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 5 items
2025-05-14 00:19:34.690 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:19:34.692 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:19:44.701 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:19:44.704 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0687ms - processed: 0 items - remaining: 5 items
2025-05-14 00:19:54.707 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:19:54.710 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 5 items
2025-05-14 00:20:04.786 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:20:04.790 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 5 items
2025-05-14 00:20:14.808 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:20:14.809 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:20:24.825 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:20:24.828 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:20:34.841 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:20:34.842 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:20:44.850 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:20:44.851 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:20:54.853 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:20:54.856 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 5 items
2025-05-14 00:21:04.869 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:21:04.870 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 5 items
2025-05-14 00:21:14.880 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:21:14.881 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:21:24.890 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:21:24.891 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:21:34.894 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:21:34.895 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 5 items
2025-05-14 00:21:44.912 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:21:44.913 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:21:54.926 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:21:54.928 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 5 items
2025-05-14 00:22:04.931 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:22:04.932 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:22:14.934 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:22:14.935 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 5 items
2025-05-14 00:22:24.957 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:22:24.958 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:22:34.967 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:22:34.968 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:22:45.015 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:22:45.016 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:22:55.018 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:22:55.020 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 5 items
2025-05-14 00:23:05.036 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:23:05.038 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:23:15.042 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:23:15.044 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:23:25.048 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:23:25.049 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 5 items
2025-05-14 00:23:35.059 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:23:35.060 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:23:45.072 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:23:45.073 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:23:55.088 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:23:55.089 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 5 items
2025-05-14 00:24:05.103 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:24:05.104 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:24:15.111 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:24:15.112 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:24:25.123 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:24:25.124 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:24:35.129 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:24:35.130 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:24:45.138 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:24:45.139 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:24:55.149 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:24:55.150 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 5 items
2025-05-14 00:25:05.164 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:25:05.165 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:25:15.182 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:25:15.185 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:25:25.192 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:25:25.193 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 5 items
2025-05-14 00:25:35.199 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:25:35.211 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:25:45.234 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:25:45.261 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:25:55.275 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:25:55.281 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:26:05.293 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:26:05.308 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:26:15.314 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:26:15.322 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:26:25.338 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:26:25.340 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:26:35.343 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:26:35.344 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:26:45.354 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:26:45.355 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 5 items
2025-05-14 00:26:55.362 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:26:55.363 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:27:05.367 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:27:05.368 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:27:15.384 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:27:15.393 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 5 items
2025-05-14 00:27:25.398 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:27:25.401 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:27:35.413 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:27:35.415 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:27:45.420 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:27:45.422 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 5 items
2025-05-14 00:27:55.428 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:27:55.429 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:28:05.443 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:28:05.444 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 5 items
2025-05-14 00:28:15.456 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:28:15.458 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 5 items
2025-05-14 00:28:25.466 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:28:25.467 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:28:35.476 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:28:35.477 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:28:45.483 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:28:45.484 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:28:55.494 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:28:55.497 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:29:05.500 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:29:05.501 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:29:15.518 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:29:15.522 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:29:25.536 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:29:25.538 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:29:35.544 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:29:35.560 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:29:45.588 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:29:45.590 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:29:55.603 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:29:55.605 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 5 items
2025-05-14 00:30:05.610 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:30:05.614 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:30:15.622 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:30:15.868 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:30:25.884 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:30:25.886 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 5 items
2025-05-14 00:30:35.891 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:30:35.892 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:30:45.896 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:30:45.898 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:30:55.913 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:30:55.915 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 5 items
2025-05-14 00:31:05.936 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:31:05.964 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:31:15.981 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:31:15.996 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 5 items
2025-05-14 00:31:26.014 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:31:26.018 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:31:36.029 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:31:36.077 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 5 items
2025-05-14 00:31:46.082 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:31:46.083 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 5 items
2025-05-14 00:31:56.085 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:31:56.087 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:32:06.091 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:32:06.171 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 5 items
2025-05-14 00:32:16.175 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:32:16.177 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:32:26.192 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:32:26.194 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 5 items
2025-05-14 00:32:36.202 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:32:36.203 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 5 items
2025-05-14 00:32:46.213 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:32:46.230 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 5 items
2025-05-14 00:32:56.242 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:32:56.244 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 5 items
2025-05-14 00:33:06.351 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:33:06.353 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 5 items
2025-05-14 00:33:16.407 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:33:16.418 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:33:26.427 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:33:26.433 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:33:36.436 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:33:36.445 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:33:46.457 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:33:46.458 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:33:56.476 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:33:56.544 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:34:06.547 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:34:06.548 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:34:16.553 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:34:16.554 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:34:26.606 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:34:26.608 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:34:36.613 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:34:36.614 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 5 items
2025-05-14 00:34:46.618 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:34:46.620 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:34:56.627 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:34:56.630 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 5 items
2025-05-14 00:35:06.635 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:35:06.643 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:35:16.649 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:35:16.650 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:35:26.652 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:35:26.653 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:35:36.669 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:35:36.670 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 5 items
2025-05-14 00:35:46.695 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:35:46.696 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 5 items
2025-05-14 00:35:56.709 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:35:56.711 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:36:06.731 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:36:06.732 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 5 items
2025-05-14 00:36:16.740 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:36:16.822 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:36:26.822 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:36:26.823 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 5 items
2025-05-14 00:36:36.830 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:36:36.831 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:36:46.848 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:36:46.856 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 5 items
2025-05-14 00:36:56.853 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:36:56.854 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:37:06.854 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:37:06.855 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:37:16.910 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:37:16.928 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 5 items
2025-05-14 00:37:26.928 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:37:26.930 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:37:36.933 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:37:36.937 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 5 items
2025-05-14 00:37:46.949 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:37:46.951 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:37:56.964 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:37:56.967 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:38:07.280 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:38:07.285 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 5 items
2025-05-14 00:38:17.289 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:38:17.291 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 5 items
2025-05-14 00:38:27.313 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:38:27.314 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 5 items
2025-05-14 00:38:37.329 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:38:37.331 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:38:47.337 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:38:47.339 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 5 items
2025-05-14 00:38:57.349 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:38:57.366 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 5 items
2025-05-14 00:39:07.381 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:39:07.415 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:39:17.420 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:39:17.495 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:39:27.516 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:39:27.517 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:39:37.521 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:39:37.533 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:39:47.550 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:39:47.564 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 5 items
2025-05-14 00:39:57.570 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:39:57.613 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:40:07.620 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:40:07.621 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 5 items
2025-05-14 00:40:17.629 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:40:17.630 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 5 items
2025-05-14 00:40:27.950 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:40:27.951 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:40:37.957 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:40:37.985 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:40:47.998 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:40:48.001 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:40:58.013 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:40:58.014 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 5 items
2025-05-14 00:41:08.029 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:41:08.031 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:41:18.041 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:41:18.042 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:41:28.049 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:41:28.051 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:41:38.055 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:41:38.056 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:41:48.066 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:41:48.077 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:41:58.087 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:41:58.088 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:42:08.099 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:42:08.100 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:42:18.114 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:42:18.115 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 5 items
2025-05-14 00:42:28.124 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:42:28.126 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 5 items
2025-05-14 00:42:38.135 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:42:38.137 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 5 items
2025-05-14 00:42:48.149 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:42:48.151 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:42:58.160 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:42:58.165 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:43:08.209 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:43:08.213 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 5 items
2025-05-14 00:43:18.223 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:43:18.224 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 5 items
2025-05-14 00:43:28.230 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:43:28.232 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 5 items
2025-05-14 00:43:38.250 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:43:38.251 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 5 items
2025-05-14 00:43:48.259 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:43:48.261 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:43:58.271 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:43:58.274 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 5 items
2025-05-14 00:44:08.276 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:44:08.279 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:44:18.287 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:44:18.288 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:44:28.302 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:44:28.303 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:44:38.320 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:44:38.321 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 5 items
2025-05-14 00:44:48.367 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:44:48.465 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:44:58.489 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:44:58.521 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:45:08.550 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:45:08.553 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 5 items
2025-05-14 00:45:18.559 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:45:18.561 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:45:28.571 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:45:28.573 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:45:38.577 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:45:38.579 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 5 items
2025-05-14 00:45:48.654 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:45:48.657 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:45:58.674 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:45:58.675 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 5 items
2025-05-14 00:46:08.679 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:46:08.683 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:46:18.702 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:46:18.703 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 5 items
2025-05-14 00:46:28.719 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:46:28.720 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:46:38.733 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:46:38.745 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 5 items
2025-05-14 00:46:48.757 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:46:48.774 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:46:58.780 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:46:58.783 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 5 items
2025-05-14 00:47:08.794 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:47:08.796 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:47:18.809 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:47:18.810 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:47:28.823 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:47:28.824 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:47:38.839 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:47:38.841 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:47:48.839 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:47:48.843 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 5 items
2025-05-14 00:47:58.841 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:47:58.843 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:48:08.852 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:48:08.857 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:48:18.870 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:48:18.871 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:48:28.882 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:48:28.890 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 5 items
2025-05-14 00:48:38.889 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:48:38.890 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:48:48.894 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:48:48.896 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 5 items
2025-05-14 00:48:58.898 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:48:58.899 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 5 items
2025-05-14 00:49:08.903 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:49:08.904 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 5 items
2025-05-14 00:49:18.919 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:49:18.962 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 5 items
2025-05-14 00:49:28.971 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:49:28.973 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:49:38.986 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:49:38.988 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1303ms - processed: 0 items - remaining: 5 items
2025-05-14 00:49:49.004 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:49:49.055 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:49:59.072 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:49:59.074 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:50:09.087 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:50:09.088 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 5 items
2025-05-14 00:50:19.097 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:50:19.098 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:50:29.109 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:50:29.113 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 5 items
2025-05-14 00:50:39.121 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:50:39.125 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 5 items
2025-05-14 00:50:49.139 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:50:49.141 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:50:59.156 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:50:59.158 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 5 items
2025-05-14 00:51:09.172 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:51:09.176 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 5 items
2025-05-14 00:51:19.186 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:51:19.187 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:51:29.209 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:51:29.211 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:51:39.226 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:51:39.236 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 5 items
2025-05-14 00:51:49.240 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:51:49.241 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 5 items
2025-05-14 00:51:59.255 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:51:59.256 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:52:09.261 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:52:09.271 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:52:19.290 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:52:19.295 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 5 items
2025-05-14 00:52:29.310 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:52:29.312 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 5 items
2025-05-14 00:52:39.325 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:52:39.326 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 5 items
2025-05-14 00:52:49.335 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:52:49.337 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:52:59.340 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:52:59.342 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 5 items
2025-05-14 00:53:09.356 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:53:09.357 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:53:19.366 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:53:19.367 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 5 items
2025-05-14 00:53:29.373 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:53:29.374 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 5 items
2025-05-14 00:53:38.404 +03:00 [DBG] Connection id "0HNCI1O729FGO" accepted.
2025-05-14 00:53:38.417 +03:00 [DBG] Connection id "0HNCI1O729FGO" started.
2025-05-14 00:53:39.386 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:53:39.389 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 5 items
2025-05-14 00:53:40.925 +03:00 [DBG] Connection 0HNCI1O729FGO established using the following protocol: "Tls12"
2025-05-14 00:53:41.913 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - application/json-patch+json 90
2025-05-14 00:53:42.753 +03:00 [DBG] POST requests are not supported
2025-05-14 00:53:42.886 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/refresh-token'
2025-05-14 00:53:43.013 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)' with route pattern 'api/Auth/refresh-token' is valid for the request path '/api/Auth/refresh-token'
2025-05-14 00:53:43.015 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 00:53:43.465 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-14 00:53:43.592 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 00:53:44.091 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO]] RefreshToken(System.String) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-05-14 00:53:44.457 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 00:53:44.513 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 00:53:44.729 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 00:53:44.732 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 00:53:44.769 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 00:53:44.773 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 00:53:45.654 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 00:53:45.828 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' ...
2025-05-14 00:53:46.078 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' using the name '' in request data ...
2025-05-14 00:53:46.137 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 00:53:46.386 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 00:53:46.628 +03:00 [DBG] Connection id "0HNCI1O729FGO", Request id "0HNCI1O729FGO:00000001": started reading request body.
2025-05-14 00:53:46.630 +03:00 [DBG] Connection id "0HNCI1O729FGO", Request id "0HNCI1O729FGO:00000001": done reading request body.
2025-05-14 00:53:47.169 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 00:53:47.173 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 00:53:47.174 +03:00 [DBG] Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ...
2025-05-14 00:53:47.176 +03:00 [DBG] Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'.
2025-05-14 00:53:49.393 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:53:49.394 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 5 items
2025-05-14 00:53:50.089 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 00:53:51.659 +03:00 [DBG] Creating DbConnection.
2025-05-14 00:53:52.052 +03:00 [DBG] Created DbConnection. (581ms).
2025-05-14 00:53:52.091 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:53:54.583 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:53:54.653 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:53:54.678 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (24ms).
2025-05-14 00:53:54.747 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (95ms).
2025-05-14 00:53:54.763 +03:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 00:53:55.233 +03:00 [INF] Executed DbCommand (375ms) [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 00:53:55.512 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:53:55.664 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:53:55.718 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 430ms reading results.
2025-05-14 00:53:55.720 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:53:55.723 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (3ms).
2025-05-14 00:53:55.964 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:53:55.994 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:53:55.996 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:53:55.997 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:53:55.998 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 00:53:56.000 +03:00 [DBG] Executing DbCommand [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 00:53:56.020 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 00:53:56.239 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:53:56.272 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:53:56.396 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:53:56.422 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 399ms reading results.
2025-05-14 00:53:56.424 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:53:56.426 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-05-14 00:53:56.428 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 00:53:56.461 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 00:53:56.715 +03:00 [DBG] The unchanged property 'RefreshToken.IsRevoked' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:53:56.813 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:53:56.837 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 00:53:57.386 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:53:57.388 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:53:57.389 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:53:57.390 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:53:57.404 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-05-14 00:53:57.460 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 00:53:57.470 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 00:53:57.635 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:53:57.637 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 163ms reading results.
2025-05-14 00:53:57.687 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:53:57.689 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:53:57.692 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:53:57.737 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 00:53:58.831 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'RefreshToken.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:53:58.843 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:53:58.844 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:53:58.866 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 00:53:58.868 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 00:53:58.869 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 00:53:59.034 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:53:59.035 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:53:59.120 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:53:59.121 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 00:53:59.123 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 00:53:59.175 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 00:53:59.238 +03:00 [INF] Executed DbCommand (114ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 00:53:59.409 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 5 items
2025-05-14 00:53:59.412 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 5 items
2025-05-14 00:53:59.420 +03:00 [DBG] The foreign key property 'RefreshToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:53:59.618 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:53:59.620 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 340ms reading results.
2025-05-14 00:53:59.692 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:53:59.693 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (36ms).
2025-05-14 00:53:59.695 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:53:59.697 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 00:54:00.121 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 00:54:00.405 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 00:54:00.406 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 00:54:00.438 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 00:54:00.439 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 00:54:00.440 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 00:54:00.442 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO'.
2025-05-14 00:54:00.975 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend) in 16101.6669ms
2025-05-14 00:54:00.977 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 00:54:00.986 +03:00 [INF] Application is shutting down...
2025-05-14 00:54:01.061 +03:00 [DBG] Connection id "0HNCI1O729FGO" completed keep alive response.
2025-05-14 00:54:01.063 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 00:54:01.225 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:54:01.227 +03:00 [DBG] Disposed connection to database '' on server '' (129ms).
2025-05-14 00:54:01.230 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - 200 521 application/json; charset=utf-8 19416.3704ms
2025-05-14 00:54:01.473 +03:00 [DBG] Hosting stopping
2025-05-14 00:54:01.983 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1127 - null null
2025-05-14 00:54:02.152 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 00:54:02.154 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1127'
2025-05-14 00:54:02.184 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1127'
2025-05-14 00:54:02.206 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 00:54:02.689 +03:00 [DBG] Successfully validated the token.
2025-05-14 00:54:02.690 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 00:54:02.691 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 00:54:02.756 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 00:54:02.759 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 00:54:02.761 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 00:54:02.763 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 00:54:02.765 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 00:54:02.766 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 00:54:02.769 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 00:54:03.309 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 00:54:03.316 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 00:54:03.319 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 00:54:03.363 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 00:54:03.365 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 00:54:03.366 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 00:54:03.441 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 00:54:03.526 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 00:54:03.528 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 00:54:03.529 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 00:54:03.531 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 00:54:03.532 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 00:54:03.620 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 00:54:03.647 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 00:54:03.669 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 900.7239ms
2025-05-14 00:54:03.674 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 00:54:03.675 +03:00 [DBG] Connection id "0HNCI1O729FGO" completed keep alive response.
2025-05-14 00:54:03.677 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1127 - 200 102 application/json; charset=utf-8 1694.0948ms
2025-05-14 00:54:03.687 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Categories - null null
2025-05-14 00:54:03.693 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 00:54:03.694 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Categories'
2025-05-14 00:54:03.696 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)' with route pattern 'api/Categories' is valid for the request path '/api/Categories'
2025-05-14 00:54:03.698 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 00:54:03.699 +03:00 [DBG] Successfully validated the token.
2025-05-14 00:54:03.699 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 00:54:03.701 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 00:54:03.752 +03:00 [INF] Route matched with {action = "GetAllCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO]]] GetAllCategories() on controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend).
2025-05-14 00:54:03.754 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 00:54:03.756 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 00:54:03.757 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 00:54:03.760 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 00:54:03.761 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 00:54:03.763 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 00:54:03.900 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 00:54:04.008 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 00:54:04.331 +03:00 [DBG] Creating DbConnection.
2025-05-14 00:54:04.336 +03:00 [DBG] Created DbConnection. (5ms).
2025-05-14 00:54:04.341 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:54:04.342 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:54:04.344 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:54:04.345 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:54:04.346 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 00:54:04.348 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 00:54:04.405 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 00:54:04.521 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:54:04.721 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:54:04.723 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:54:04.724 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:54:04.726 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:54:04.727 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:54:04.728 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 319ms reading results.
2025-05-14 00:54:04.730 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:54:04.732 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:54:04.811 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 00:54:04.814 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 00:54:04.815 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 00:54:04.817 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 00:54:04.818 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 00:54:04.819 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 00:54:04.884 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 00:54:04.921 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend) in 1158.5886ms
2025-05-14 00:54:04.924 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 00:54:04.926 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 00:54:04.927 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:54:04.928 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 00:54:04.929 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Categories - 200 736 application/json; charset=utf-8 1242.464ms
2025-05-14 00:54:04.984 +03:00 [DBG] Connection id "0HNCI1O729FGO" disconnecting.
2025-05-14 00:54:05.078 +03:00 [DBG] Connection id "0HNCI1O729FGO" stopped.
2025-05-14 00:54:05.099 +03:00 [DBG] Connection id "0HNCI1O729FGO" received FIN.
2025-05-14 00:54:05.104 +03:00 [DBG] Connection id "0HNCI1O729FGO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-14 00:54:06.149 +03:00 [DBG] Hosting stopped
2025-05-14 00:57:03.963 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-14 00:57:05.043 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 00:57:05.227 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()'
2025-05-14 00:57:05.574 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Role (string) Required ValueGenerated.OnAdd MaxLength(5), 5], [Property: User.Salt (string) Required MaxLength(30), 6], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 7], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 8] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.role, u.salt, u.secondary_currency_1, u.secondary_currency_2
        FROM users AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Role (string) Required ValueGenerated.OnAdd MaxLength(5), 5], [Property: User.Salt (string) Required MaxLength(30), 6], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 7], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 8] }
        SELECT u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.role, u.salt, u.secondary_currency_1, u.secondary_currency_2
        FROM users AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                instance.<Email>k__BackingField = dataReader.GetString(2);
                                instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                instance.<Role>k__BackingField = dataReader.GetString(5);
                                instance.<Salt>k__BackingField = dataReader.GetString(6);
                                instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-14 00:57:05.666 +03:00 [DBG] Creating DbConnection.
2025-05-14 00:57:05.806 +03:00 [DBG] Created DbConnection. (169ms).
2025-05-14 00:57:05.813 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:06.510 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:06.527 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:57:06.536 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-05-14 00:57:06.539 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-05-14 00:57:06.550 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
2025-05-14 00:57:06.586 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
2025-05-14 00:57:06.635 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:06.701 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:06.711 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:06.713 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:06.718 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:06.724 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 131ms reading results.
2025-05-14 00:57:06.728 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:06.735 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (6ms).
2025-05-14 00:57:06.739 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 00:57:06.744 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 00:57:06.767 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 00:57:06.918 +03:00 [DBG] Executing 2 update commands as a batch.
2025-05-14 00:57:06.923 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:06.928 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:06.931 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-05-14 00:57:06.940 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-05-14 00:57:06.945 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:57:06.946 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:57:06.951 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-05-14 00:57:06.956 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 00:57:07.244 +03:00 [INF] Executed DbCommand (290ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [users]
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 00:57:07.260 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:07.268 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 20ms reading results.
2025-05-14 00:57:07.275 +03:00 [DBG] Committing transaction.
2025-05-14 00:57:07.280 +03:00 [DBG] Committed transaction.
2025-05-14 00:57:07.284 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:07.287 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-05-14 00:57:07.291 +03:00 [DBG] Disposing transaction.
2025-05-14 00:57:07.298 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:07.301 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:07.305 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2025-05-14 00:57:07.310 +03:00 [DBG] Compiling query expression: 
'DbSet<Category>()'
2025-05-14 00:57:07.319 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Category>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Category entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Category instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Category);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Category)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                        {
                            return 
                            {
                                Category instance;
                                instance = new Category();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                                instance.<Icon>k__BackingField = dataReader.GetString(2);
                                instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                                instance.<Name>k__BackingField = dataReader.GetString(4);
                                instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Category)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-14 00:57:07.371 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:07.374 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:07.375 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:57:07.376 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:57:07.377 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 00:57:07.379 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 00:57:07.386 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 00:57:07.423 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:07.436 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:07.440 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:07.441 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:07.443 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:07.445 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:07.447 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:07.449 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:07.451 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:07.453 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:07.455 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:07.456 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 68ms reading results.
2025-05-14 00:57:07.458 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:07.459 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:57:07.461 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 00:57:07.463 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 00:57:07.472 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 00:57:07.475 +03:00 [DBG] Executing 5 update commands as a batch.
2025-05-14 00:57:07.476 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:07.479 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:07.481 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-05-14 00:57:07.482 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-05-14 00:57:07.485 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:57:07.486 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:57:07.487 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 00:57:07.488 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-05-14 00:57:07.517 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p0;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p1;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p2;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p3;
DELETE FROM [categories]
OUTPUT 1
WHERE [id] = @p4;
2025-05-14 00:57:07.522 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:07.524 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 00:57:07.526 +03:00 [DBG] Committing transaction.
2025-05-14 00:57:07.529 +03:00 [DBG] Committed transaction.
2025-05-14 00:57:07.530 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:07.532 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-05-14 00:57:07.536 +03:00 [DBG] Disposing transaction.
2025-05-14 00:57:07.537 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:07.541 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:07.545 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:07.548 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:07.551 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:07.553 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-05-14 00:57:07.556 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 00:57:07.559 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:07.562 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-05-14 00:57:07.784 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 00:57:07.801 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Email == __email_0)'
2025-05-14 00:57:07.931 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Role (string) Required ValueGenerated.OnAdd MaxLength(5), 5], [Property: User.Salt (string) Required MaxLength(30), 6], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 7], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 8] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.role, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.email == @__email_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Role (string) Required ValueGenerated.OnAdd MaxLength(5), 5], [Property: User.Salt (string) Required MaxLength(30), 6], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 7], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 8] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.role, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.email == @__email_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Role>k__BackingField = dataReader.GetString(5);
                                    instance.<Salt>k__BackingField = dataReader.GetString(6);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-14 00:57:07.953 +03:00 [DBG] Creating DbConnection.
2025-05-14 00:57:07.955 +03:00 [DBG] Created DbConnection. (1ms).
2025-05-14 00:57:07.956 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:07.958 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:07.960 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:57:07.962 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:57:07.964 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 00:57:07.965 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-14 00:57:07.971 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-14 00:57:07.976 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:07.977 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-05-14 00:57:07.979 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:07.981 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:57:08.016 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.022 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.024 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 00:57:08.026 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 00:57:08.027 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 00:57:08.037 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.039 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.040 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:57:08.042 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:57:08.044 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 00:57:08.045 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 3), @p4='?' (Size = 5), @p5='?' (Size = 30), @p6='?' (Size = 3), @p7='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [primary_currency], [role], [salt], [secondary_currency_1], [secondary_currency_2])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-14 00:57:08.051 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 3), @p4='?' (Size = 5), @p5='?' (Size = 30), @p6='?' (Size = 3), @p7='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [primary_currency], [role], [salt], [secondary_currency_1], [secondary_currency_2])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-14 00:57:08.062 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.066 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.069 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 14ms reading results.
2025-05-14 00:57:08.071 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.073 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-05-14 00:57:08.078 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.079 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 00:57:08.383 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'RefreshToken.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.403 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.408 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.412 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 00:57:08.413 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 00:57:08.424 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 00:57:08.430 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.432 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.435 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:57:08.436 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:57:08.438 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 00:57:08.440 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 00:57:08.448 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 00:57:08.455 +03:00 [DBG] The foreign key property 'RefreshToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.458 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.459 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 7ms reading results.
2025-05-14 00:57:08.461 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.463 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:57:08.465 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.469 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 00:57:08.472 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __authData_UserDTO_Id_0)'
2025-05-14 00:57:08.480 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Role (string) Required ValueGenerated.OnAdd MaxLength(5), 5], [Property: User.Salt (string) Required MaxLength(30), 6], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 7], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 8] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.role, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__authData_UserDTO_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Role (string) Required ValueGenerated.OnAdd MaxLength(5), 5], [Property: User.Salt (string) Required MaxLength(30), 6], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 7], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 8] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.role, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__authData_UserDTO_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Role>k__BackingField = dataReader.GetString(5);
                                    instance.<Salt>k__BackingField = dataReader.GetString(6);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-14 00:57:08.484 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.486 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.488 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:57:08.489 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:57:08.492 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-05-14 00:57:08.493 +03:00 [DBG] Executing DbCommand [Parameters=[@__authData_UserDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__authData_UserDTO_Id_0
2025-05-14 00:57:08.497 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__authData_UserDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__authData_UserDTO_Id_0
2025-05-14 00:57:08.501 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.504 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-05-14 00:57:08.505 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.507 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:57:08.516 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.521 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.523 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.525 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.527 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.529 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.530 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.532 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.533 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Category.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.535 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.537 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 00:57:08.538 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 00:57:08.540 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 00:57:08.544 +03:00 [DBG] Executing 5 update commands as a batch.
2025-05-14 00:57:08.548 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.550 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.551 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:57:08.553 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:57:08.554 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 00:57:08.556 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-05-14 00:57:08.577 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 100), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 7), @p6='?' (Size = 100), @p7='?' (DbType = Boolean), @p8='?' (Size = 50), @p9='?' (DbType = Int32), @p10='?' (Size = 7), @p11='?' (Size = 100), @p12='?' (DbType = Boolean), @p13='?' (Size = 50), @p14='?' (DbType = Int32), @p15='?' (Size = 7), @p16='?' (Size = 100), @p17='?' (DbType = Boolean), @p18='?' (Size = 50), @p19='?' (DbType = Int32), @p20='?' (Size = 7), @p21='?' (Size = 100), @p22='?' (DbType = Boolean), @p23='?' (Size = 50), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [categories] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([background_color], [icon_path], [is_income], [name], [parent_category_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([background_color], [icon_path], [is_income], [name], [parent_category_fk])
VALUES (i.[background_color], i.[icon_path], i.[is_income], i.[name], i.[parent_category_fk])
OUTPUT INSERTED.[id], i._Position;
2025-05-14 00:57:08.581 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.584 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.586 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.588 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.589 +03:00 [DBG] The foreign key property 'Category.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.591 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.592 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 12ms reading results.
2025-05-14 00:57:08.594 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.596 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:57:08.598 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.600 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.602 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.604 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.606 +03:00 [DBG] An entity of type 'Category' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.608 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 5 entities written to the database.
2025-05-14 00:57:08.616 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.646 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.648 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.650 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.653 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.656 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.658 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.660 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.662 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.664 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.666 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.669 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.672 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.674 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.676 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.678 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.679 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.681 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.683 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.687 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.689 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.692 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.693 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.696 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.697 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.699 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.703 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.704 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.706 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.708 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.711 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.713 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.715 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.718 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.721 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.723 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.725 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.727 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.729 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transaction.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.731 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.733 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 00:57:08.734 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 00:57:08.741 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 00:57:08.745 +03:00 [DBG] Executing 20 update commands as a batch.
2025-05-14 00:57:08.746 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.748 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.750 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:57:08.752 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-05-14 00:57:08.754 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-05-14 00:57:08.756 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-05-14 00:57:08.782 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 50), @p10='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 50), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 50), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (Size = 50), @p34='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (Size = 50), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (Size = 50), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (DbType = Int32), @p51='?' (Size = 50), @p52='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Int32), @p57='?' (Size = 50), @p58='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 50), @p64='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Int32), @p69='?' (Size = 50), @p70='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Int32), @p75='?' (Size = 50), @p76='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Int32), @p81='?' (Size = 50), @p82='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Int32), @p87='?' (Size = 50), @p88='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = DateTime2), @p92='?' (DbType = Int32), @p93='?' (Size = 50), @p94='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = DateTime2), @p98='?' (DbType = Int32), @p99='?' (Size = 50), @p100='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Int32), @p105='?' (Size = 50), @p106='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Int32), @p111='?' (Size = 50), @p112='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (DbType = Int32), @p117='?' (Size = 50), @p118='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [transactions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19)) AS i ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([category_fk], [date], [inner_category_fk], [name], [price], [user_fk])
VALUES (i.[category_fk], i.[date], i.[inner_category_fk], i.[name], i.[price], i.[user_fk])
OUTPUT INSERTED.[id], i._Position;
2025-05-14 00:57:08.787 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.789 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.791 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.793 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.795 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.796 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.798 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.799 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.801 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.802 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.804 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.805 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.807 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.809 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.811 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.812 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.814 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.816 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.818 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.819 +03:00 [DBG] The foreign key property 'Transaction.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.821 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.822 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 37ms reading results.
2025-05-14 00:57:08.824 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.826 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:57:08.828 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.830 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.832 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.834 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.836 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.838 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.841 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.843 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.845 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.848 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.850 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.852 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.854 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.857 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.859 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.861 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.864 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.866 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.870 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.875 +03:00 [DBG] An entity of type 'Transaction' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.877 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 20 entities written to the database.
2025-05-14 00:57:08.882 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.903 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.906 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.908 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.910 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.913 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.915 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.917 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.921 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 00:57:08.922 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 00:57:08.929 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 00:57:08.932 +03:00 [DBG] Executing 4 update commands as a batch.
2025-05-14 00:57:08.933 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.937 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.939 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:57:08.940 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:57:08.942 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 00:57:08.944 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-05-14 00:57:08.960 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [savings] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([goal], [name], [user_fk], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([goal], [name], [user_fk])
VALUES (i.[goal], i.[name], i.[user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount], i._Position;
2025-05-14 00:57:08.964 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.966 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.970 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.972 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:08.974 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.975 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 12ms reading results.
2025-05-14 00:57:08.977 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:08.979 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:57:08.984 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.988 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.991 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.993 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:08.995 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 4 entities written to the database.
2025-05-14 00:57:08.997 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 00:57:08.998 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:09.000 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 00:57:09.032 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 00:57:09.058 +03:00 [DBG] Creating DbConnection.
2025-05-14 00:57:09.059 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 00:57:09.060 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:09.061 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:09.062 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:57:09.063 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 00:57:09.064 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:57:09.065 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-14 00:57:09.070 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-14 00:57:09.073 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:09.074 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 00:57:09.075 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:09.077 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:57:09.091 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:09.093 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:09.094 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 00:57:09.095 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 00:57:09.095 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 00:57:09.097 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:09.098 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:09.099 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:57:09.100 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 00:57:09.103 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 00:57:09.104 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 3), @p4='?' (Size = 5), @p5='?' (Size = 30), @p6='?' (Size = 3), @p7='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [primary_currency], [role], [salt], [secondary_currency_1], [secondary_currency_2])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-14 00:57:09.107 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 3), @p4='?' (Size = 5), @p5='?' (Size = 30), @p6='?' (Size = 3), @p7='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([balance], [email], [password_hash], [primary_currency], [role], [salt], [secondary_currency_1], [secondary_currency_2])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-14 00:57:09.109 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:09.110 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:09.111 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-05-14 00:57:09.113 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:09.114 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:57:09.115 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:09.116 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 00:57:09.118 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 00:57:09.120 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:09.121 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 00:57:09.458 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-14 00:57:09.574 +03:00 [DBG] Hosting starting
2025-05-14 00:57:09.629 +03:00 [INF] User profile is available. Using 'C:\Users\ebtyx\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-14 00:57:09.648 +03:00 [DBG] Reading data from file 'C:\Users\ebtyx\AppData\Local\ASP.NET\DataProtection-Keys\key-036e1e5f-5347-47d7-8236-0b64ed0a76a1.xml'.
2025-05-14 00:57:09.651 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 00:57:09.657 +03:00 [DBG] Compiling query expression: 
'DbSet<RefreshToken>()
    .Where(rt => rt.ExpiresAt < DateTime.UtcNow)'
2025-05-14 00:57:09.659 +03:00 [DBG] Found key {036e1e5f-5347-47d7-8236-0b64ed0a76a1}.
2025-05-14 00:57:09.670 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<RefreshToken>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: RefreshToken.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: RefreshToken.CreatedAt (DateTime) Required, 1], [Property: RefreshToken.ExpiresAt (DateTime) Required, 2], [Property: RefreshToken.IsRevoked (bool) Required, 3], [Property: RefreshToken.Token (string) Required Index MaxLength(200), 4], [Property: RefreshToken.UserId (int) Required FK Index, 5] }
        SELECT r.id, r.created_at, r.expires_at, r.is_revoked, r.token, r.user_fk
        FROM refresh_tokens AS r
        WHERE r.expires_at < GETUTCDATE()) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: RefreshToken.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: RefreshToken.CreatedAt (DateTime) Required, 1], [Property: RefreshToken.ExpiresAt (DateTime) Required, 2], [Property: RefreshToken.IsRevoked (bool) Required, 3], [Property: RefreshToken.Token (string) Required Index MaxLength(200), 4], [Property: RefreshToken.UserId (int) Required FK Index, 5] }
        SELECT r.id, r.created_at, r.expires_at, r.is_revoked, r.token, r.user_fk
        FROM refresh_tokens AS r
        WHERE r.expires_at < GETUTCDATE(), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        RefreshToken entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            RefreshToken instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(RefreshToken);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: RefreshToken.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.RefreshToken").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (RefreshToken)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: RefreshToken | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.RefreshToken")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: RefreshToken | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.RefreshToken")]: 
                        {
                            return 
                            {
                                RefreshToken instance;
                                instance = new RefreshToken();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<ExpiresAt>k__BackingField = dataReader.GetDateTime(2);
                                instance.<IsRevoked>k__BackingField = dataReader.GetBoolean(3);
                                instance.<Token>k__BackingField = dataReader.GetString(4);
                                instance.<UserId>k__BackingField = dataReader.GetInt32(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: RefreshToken | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.RefreshToken")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(RefreshToken)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-14 00:57:09.673 +03:00 [DBG] Considering key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} with expiration date 2025-07-16 20:11:06Z as default key.
2025-05-14 00:57:09.677 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-14 00:57:09.677 +03:00 [DBG] Creating DbConnection.
2025-05-14 00:57:09.679 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-05-14 00:57:09.679 +03:00 [DBG] Created DbConnection. (2ms).
2025-05-14 00:57:09.681 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:09.681 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-14 00:57:09.683 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:09.685 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:57:09.686 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 00:57:09.688 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-05-14 00:57:09.689 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 00:57:09.691 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-05-14 00:57:09.692 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[expires_at] < GETUTCDATE()
2025-05-14 00:57:09.694 +03:00 [DBG] Using key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} as the default key.
2025-05-14 00:57:09.697 +03:00 [DBG] Key ring with default key {036e1e5f-5347-47d7-8236-0b64ed0a76a1} was loaded during application startup.
2025-05-14 00:57:09.699 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[expires_at] < GETUTCDATE()
2025-05-14 00:57:09.703 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:09.706 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-05-14 00:57:09.709 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:09.712 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (3ms).
2025-05-14 00:57:09.715 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 00:57:09.717 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:09.721 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-05-14 00:57:09.996 +03:00 [INF] Now listening on: https://localhost:49464
2025-05-14 00:57:10.009 +03:00 [INF] Now listening on: http://localhost:49465
2025-05-14 00:57:10.011 +03:00 [DBG] Loaded hosting startup assembly Finance_Manager_Backend
2025-05-14 00:57:10.012 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-14 00:57:10.013 +03:00 [INF] Hosting environment: Development
2025-05-14 00:57:10.014 +03:00 [INF] Content root path: G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend
2025-05-14 00:57:10.015 +03:00 [DBG] Hosting started
2025-05-14 00:57:25.275 +03:00 [DBG] Connection id "0HNCID4IM013Q" accepted.
2025-05-14 00:57:25.281 +03:00 [DBG] Connection id "0HNCID4IM013Q" started.
2025-05-14 00:57:25.379 +03:00 [DBG] Connection 0HNCID4IM013Q established using the following protocol: "Tls12"
2025-05-14 00:57:25.597 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - application/json-patch+json 90
2025-05-14 00:57:25.603 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-14 00:57:26.040 +03:00 [DBG] POST requests are not supported
2025-05-14 00:57:26.084 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/refresh-token'
2025-05-14 00:57:26.175 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)' with route pattern 'api/Auth/refresh-token' is valid for the request path '/api/Auth/refresh-token'
2025-05-14 00:57:26.177 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 00:57:26.564 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-14 00:57:26.568 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 00:57:26.594 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO]] RefreshToken(System.String) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-05-14 00:57:26.598 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 00:57:26.601 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 00:57:26.603 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 00:57:26.605 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 00:57:26.607 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 00:57:26.610 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 00:57:26.613 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 00:57:26.678 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' ...
2025-05-14 00:57:26.681 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' using the name '' in request data ...
2025-05-14 00:57:26.684 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 00:57:26.686 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 00:57:26.715 +03:00 [DBG] Connection id "0HNCID4IM013Q", Request id "0HNCID4IM013Q:00000001": started reading request body.
2025-05-14 00:57:26.717 +03:00 [DBG] Connection id "0HNCID4IM013Q", Request id "0HNCID4IM013Q:00000001": done reading request body.
2025-05-14 00:57:27.155 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 00:57:27.168 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 00:57:27.170 +03:00 [DBG] Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ...
2025-05-14 00:57:27.187 +03:00 [DBG] Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'.
2025-05-14 00:57:27.238 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 00:57:27.254 +03:00 [DBG] Compiling query expression: 
'DbSet<RefreshToken>()
    .FirstOrDefault(rt => rt.Token == __refreshToken_0)'
2025-05-14 00:57:27.273 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<RefreshToken>(
    asyncEnumerable: SingleQueryingEnumerable.Create<RefreshToken>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: RefreshToken.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: RefreshToken.CreatedAt (DateTime) Required, 1], [Property: RefreshToken.ExpiresAt (DateTime) Required, 2], [Property: RefreshToken.IsRevoked (bool) Required, 3], [Property: RefreshToken.Token (string) Required Index MaxLength(200), 4], [Property: RefreshToken.UserId (int) Required FK Index, 5] }
            SELECT TOP(1) r.id, r.created_at, r.expires_at, r.is_revoked, r.token, r.user_fk
            FROM refresh_tokens AS r
            WHERE r.token == @__refreshToken_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: RefreshToken.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: RefreshToken.CreatedAt (DateTime) Required, 1], [Property: RefreshToken.ExpiresAt (DateTime) Required, 2], [Property: RefreshToken.IsRevoked (bool) Required, 3], [Property: RefreshToken.Token (string) Required Index MaxLength(200), 4], [Property: RefreshToken.UserId (int) Required FK Index, 5] }
            SELECT TOP(1) r.id, r.created_at, r.expires_at, r.is_revoked, r.token, r.user_fk
            FROM refresh_tokens AS r
            WHERE r.token == @__refreshToken_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            RefreshToken entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                RefreshToken instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(RefreshToken);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: RefreshToken.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.RefreshToken").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (RefreshToken)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: RefreshToken | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.RefreshToken")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: RefreshToken | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.RefreshToken")]: 
                            {
                                return 
                                {
                                    RefreshToken instance;
                                    instance = new RefreshToken();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<ExpiresAt>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<IsRevoked>k__BackingField = dataReader.GetBoolean(3);
                                    instance.<Token>k__BackingField = dataReader.GetString(4);
                                    instance.<UserId>k__BackingField = dataReader.GetInt32(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: RefreshToken | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.RefreshToken")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(RefreshToken)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-14 00:57:27.277 +03:00 [DBG] Creating DbConnection.
2025-05-14 00:57:27.278 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 00:57:27.278 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:27.280 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:27.281 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:57:27.282 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 00:57:27.283 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 00:57:27.285 +03:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 00:57:27.302 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 00:57:27.307 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:27.309 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-05-14 00:57:27.315 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:27.318 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (3ms).
2025-05-14 00:57:27.330 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend) in 717.5165ms
2025-05-14 00:57:27.333 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 00:57:27.337 +03:00 [ERR] Invalid refresh token
System.InvalidOperationException: Invalid refresh token
   at Finance_Manager_Backend.BusinessLogic.Services.AuthServices.AuthService.AuthenticateUserWithRefreshTokenAsync(String refreshToken) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\BusinessLogic\Services\AuthServices\AuthService.cs:line 89
   at Finance_Manager_Backend.Controllers.AuthController.RefreshToken(String refreshToken) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Controllers\AuthController.cs:line 84
   at lambda_method472(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Finance_Manager_Backend.Middleware.ExceptionsHandler.InvokeAsync(HttpContext httpContext) in G:\ARTEM\Проэкты С++, C#\Visual Studio projects\C# Projects\Finance_Manager_Backend\Finance_Manager_Backend\Middleware\ExceptionsHandler.cs:line 23
2025-05-14 00:57:27.496 +03:00 [DBG] Connection id "0HNCID4IM013Q" completed keep alive response.
2025-05-14 00:57:27.505 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 00:57:27.511 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:27.514 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-05-14 00:57:27.519 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - 400 null application/json 1924.0293ms
2025-05-14 00:57:40.720 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:49464/api/Auth/authenticate - application/json-patch+json 63
2025-05-14 00:57:40.729 +03:00 [DBG] POST requests are not supported
2025-05-14 00:57:40.732 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/authenticate'
2025-05-14 00:57:40.733 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)' with route pattern 'api/Auth/authenticate' is valid for the request path '/api/Auth/authenticate'
2025-05-14 00:57:40.735 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-05-14 00:57:40.739 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-14 00:57:40.741 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-05-14 00:57:40.748 +03:00 [INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO]] Authenticate(Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-05-14 00:57:40.750 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 00:57:40.752 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 00:57:40.753 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 00:57:40.756 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 00:57:40.757 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 00:57:40.759 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 00:57:40.761 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 00:57:40.763 +03:00 [DBG] Attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' ...
2025-05-14 00:57:40.764 +03:00 [DBG] Attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' using the name '' in request data ...
2025-05-14 00:57:40.766 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 00:57:40.768 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 00:57:40.769 +03:00 [DBG] Connection id "0HNCID4IM013Q", Request id "0HNCID4IM013Q:00000002": started reading request body.
2025-05-14 00:57:40.771 +03:00 [DBG] Connection id "0HNCID4IM013Q", Request id "0HNCID4IM013Q:00000002": done reading request body.
2025-05-14 00:57:40.834 +03:00 [DBG] Done attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-05-14 00:57:40.835 +03:00 [DBG] Done attempting to bind parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-05-14 00:57:40.837 +03:00 [DBG] Attempting to validate the bound parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO' ...
2025-05-14 00:57:40.842 +03:00 [DBG] Done attempting to validate the bound parameter 'authDataDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthDataDTO'.
2025-05-14 00:57:40.920 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 00:57:40.923 +03:00 [DBG] Creating DbConnection.
2025-05-14 00:57:40.924 +03:00 [DBG] Created DbConnection. (1ms).
2025-05-14 00:57:40.925 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:40.927 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:40.929 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:57:40.930 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:57:40.931 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 00:57:40.933 +03:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-14 00:57:40.939 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[email] = @__email_0
2025-05-14 00:57:40.941 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:40.943 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:40.945 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-05-14 00:57:40.947 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:40.948 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:57:40.963 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'RefreshToken.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:40.966 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:40.968 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:40.969 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 00:57:40.970 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 00:57:40.971 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 00:57:40.974 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:40.975 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:40.977 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:57:40.978 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:57:40.979 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 00:57:40.981 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 00:57:40.985 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 00:57:40.987 +03:00 [DBG] The foreign key property 'RefreshToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:57:40.989 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:40.990 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-05-14 00:57:40.992 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:40.994 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:57:40.995 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:40.997 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 00:57:41.001 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 00:57:41.005 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 00:57:41.007 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 00:57:41.009 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 00:57:41.010 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 00:57:41.012 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 00:57:41.014 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO'.
2025-05-14 00:57:41.043 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend) in 284.0493ms
2025-05-14 00:57:41.047 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.Authenticate (Finance_Manager_Backend)'
2025-05-14 00:57:41.048 +03:00 [DBG] Connection id "0HNCID4IM013Q" completed keep alive response.
2025-05-14 00:57:41.049 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 00:57:41.050 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:41.052 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 00:57:41.054 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:49464/api/Auth/authenticate - 200 521 application/json; charset=utf-8 334.2501ms
2025-05-14 00:57:41.338 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 00:57:41.417 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 00:57:41.418 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 00:57:41.419 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 00:57:41.421 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 00:57:41.597 +03:00 [DBG] Successfully validated the token.
2025-05-14 00:57:41.604 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 00:57:41.607 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 00:57:41.615 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 00:57:41.617 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 00:57:41.619 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 00:57:41.620 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 00:57:41.622 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 00:57:41.624 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 00:57:41.626 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 00:57:41.634 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 00:57:41.635 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 00:57:41.637 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 00:57:41.639 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 00:57:41.641 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 00:57:41.642 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 00:57:41.643 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 00:57:41.659 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 00:57:41.662 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 00:57:41.664 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 00:57:41.665 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 00:57:41.666 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 00:57:41.667 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 00:57:41.668 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 00:57:41.673 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 47.09ms
2025-05-14 00:57:41.675 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 00:57:41.676 +03:00 [DBG] Connection id "0HNCID4IM013Q" completed keep alive response.
2025-05-14 00:57:41.677 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 102 application/json; charset=utf-8 338.6712ms
2025-05-14 00:57:41.686 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Categories - null null
2025-05-14 00:57:41.689 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 00:57:41.690 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Categories'
2025-05-14 00:57:41.691 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)' with route pattern 'api/Categories' is valid for the request path '/api/Categories'
2025-05-14 00:57:41.693 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 00:57:41.695 +03:00 [DBG] Successfully validated the token.
2025-05-14 00:57:41.696 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 00:57:41.698 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 00:57:41.702 +03:00 [INF] Route matched with {action = "GetAllCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO]]] GetAllCategories() on controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend).
2025-05-14 00:57:41.704 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 00:57:41.706 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 00:57:41.708 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 00:57:41.711 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 00:57:41.713 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 00:57:41.715 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 00:57:41.717 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 00:57:41.720 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 00:57:41.723 +03:00 [DBG] Compiling query expression: 
'DbSet<Category>()'
2025-05-14 00:57:41.731 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Category>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Category.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Category.ColorForBackground (string) Required MaxLength(7), 1], [Property: Category.Icon (string) Required MaxLength(100), 2], [Property: Category.IsIncome (bool) Required, 3], [Property: Category.Name (string) Required MaxLength(50), 4], [Property: Category.ParentCategoryId (int?) FK Index, 5] }
        SELECT c.id, c.background_color, c.icon_path, c.is_income, c.name, c.parent_category_fk
        FROM categories AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Category entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Category instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Category);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Category.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Category)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]: 
                        {
                            return 
                            {
                                Category instance;
                                instance = new Category();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ColorForBackground>k__BackingField = dataReader.GetString(1);
                                instance.<Icon>k__BackingField = dataReader.GetString(2);
                                instance.<IsIncome>k__BackingField = dataReader.GetBoolean(3);
                                instance.<Name>k__BackingField = dataReader.GetString(4);
                                instance.<ParentCategoryId>k__BackingField = dataReader.IsDBNull(5) ? default(int?) : (int?)dataReader.GetInt32(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Category | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Category")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Category)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-14 00:57:41.736 +03:00 [DBG] Creating DbConnection.
2025-05-14 00:57:41.737 +03:00 [DBG] Created DbConnection. (1ms).
2025-05-14 00:57:41.738 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:41.740 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:41.741 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:57:41.742 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:57:41.743 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 00:57:41.745 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 00:57:41.750 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 00:57:41.753 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:41.755 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:41.757 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:41.758 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:41.760 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:41.763 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:41.764 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 10ms reading results.
2025-05-14 00:57:41.765 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:41.768 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-05-14 00:57:41.786 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 00:57:41.789 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 00:57:41.790 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 00:57:41.792 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 00:57:41.792 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 00:57:41.793 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 00:57:41.796 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 00:57:41.806 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend) in 91.4959ms
2025-05-14 00:57:41.814 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 00:57:41.815 +03:00 [DBG] Connection id "0HNCID4IM013Q" completed keep alive response.
2025-05-14 00:57:41.817 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 00:57:41.818 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:41.820 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 00:57:41.822 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Categories - 200 736 application/json; charset=utf-8 136.2598ms
2025-05-14 00:57:41.869 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T21%3A57%3A41&pageSize=10 - null null
2025-05-14 00:57:41.872 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 00:57:41.873 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions'
2025-05-14 00:57:41.877 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)' with route pattern 'api/Transactions' is valid for the request path '/api/Transactions'
2025-05-14 00:57:41.879 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 00:57:41.880 +03:00 [DBG] Successfully validated the token.
2025-05-14 00:57:41.880 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 00:57:41.881 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 00:57:41.889 +03:00 [INF] Route matched with {action = "GetTransactions", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO]]] GetTransactions(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-05-14 00:57:41.892 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 00:57:41.894 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 00:57:41.897 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 00:57:41.898 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 00:57:41.900 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 00:57:41.902 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 00:57:41.904 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 00:57:41.910 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 00:57:41.912 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' using the name '' in request data ...
2025-05-14 00:57:41.917 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 00:57:41.919 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 00:57:41.922 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]' using the name 'lastDate' in request data ...
2025-05-14 00:57:41.924 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]'.
2025-05-14 00:57:41.926 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 00:57:41.928 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 00:57:41.930 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 00:57:41.932 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 00:57:41.933 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 00:57:41.935 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 00:57:41.964 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 00:57:41.969 +03:00 [DBG] Compiling query expression: 
'DbSet<Transaction>()
    .Where(t => t.UserId == __userId_0)
    .OrderByDescending(t => t.Date)
    .Where(t => t.Date < __lastDate_Value_1)
    .OrderByDescending(t => t.Date)
    .Take(__p_2)'
2025-05-14 00:57:41.999 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Transaction>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Transaction.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Transaction.CategoryId (int) Required FK Index, 1], [Property: Transaction.Date (DateTime) Required, 2], [Property: Transaction.InnerCategoryId (int?) FK Index, 3], [Property: Transaction.Name (string) Required MaxLength(50), 4], [Property: Transaction.Price (decimal) Required, 5], [Property: Transaction.UserId (int) Required FK Index, 6] }
        SELECT TOP(@__p_2) t.id, t.category_fk, t.date, t.inner_category_fk, t.name, t.price, t.user_fk
        FROM transactions AS t
        WHERE (t.user_fk == @__userId_0) && (t.date < @__lastDate_Value_1)
        ORDER BY t.date DESC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Transaction.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Transaction.CategoryId (int) Required FK Index, 1], [Property: Transaction.Date (DateTime) Required, 2], [Property: Transaction.InnerCategoryId (int?) FK Index, 3], [Property: Transaction.Name (string) Required MaxLength(50), 4], [Property: Transaction.Price (decimal) Required, 5], [Property: Transaction.UserId (int) Required FK Index, 6] }
        SELECT TOP(@__p_2) t.id, t.category_fk, t.date, t.inner_category_fk, t.name, t.price, t.user_fk
        FROM transactions AS t
        WHERE (t.user_fk == @__userId_0) && (t.date < @__lastDate_Value_1)
        ORDER BY t.date DESC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Transaction entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Transaction instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Transaction);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Transaction.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Transaction)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")]: 
                        {
                            return 
                            {
                                Transaction instance;
                                instance = new Transaction();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CategoryId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Date>k__BackingField = dataReader.GetDateTime(2);
                                instance.<InnerCategoryId>k__BackingField = dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3);
                                instance.<Name>k__BackingField = dataReader.GetString(4);
                                instance.<Price>k__BackingField = dataReader.GetDecimal(5);
                                instance.<UserId>k__BackingField = dataReader.GetInt32(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Transaction | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Transaction")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Transaction)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-14 00:57:42.010 +03:00 [DBG] Creating DbConnection.
2025-05-14 00:57:42.011 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 00:57:42.014 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:42.016 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:42.017 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:57:42.018 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 00:57:42.019 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:57:42.019 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 00:57:42.059 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 00:57:42.072 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:42.075 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:42.082 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:42.084 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:42.087 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:42.091 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:42.094 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:42.099 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:42.101 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:42.104 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:42.106 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:42.110 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 39ms reading results.
2025-05-14 00:57:42.114 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:42.116 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:57:42.122 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 00:57:42.126 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 00:57:42.127 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 00:57:42.129 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 00:57:42.130 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 00:57:42.130 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 00:57:42.131 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 00:57:42.137 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend) in 235.3378ms
2025-05-14 00:57:42.140 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 00:57:42.141 +03:00 [DBG] Connection id "0HNCID4IM013Q" completed keep alive response.
2025-05-14 00:57:42.142 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 00:57:42.143 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:42.144 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 00:57:42.147 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T21%3A57%3A41&pageSize=10 - 200 1343 application/json; charset=utf-8 277.7412ms
2025-05-14 00:57:42.156 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - null null
2025-05-14 00:57:42.159 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 00:57:42.160 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 00:57:42.161 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 00:57:42.163 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 00:57:42.164 +03:00 [DBG] Successfully validated the token.
2025-05-14 00:57:42.165 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 00:57:42.166 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 00:57:42.172 +03:00 [INF] Route matched with {action = "GetSavings", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO]]] GetSavings(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 00:57:42.174 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 00:57:42.176 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 00:57:42.177 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 00:57:42.180 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 00:57:42.181 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 00:57:42.183 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 00:57:42.185 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 00:57:42.188 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 00:57:42.189 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' using the name '' in request data ...
2025-05-14 00:57:42.191 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 00:57:42.193 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 00:57:42.194 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32' using the name 'previousSavingId' in request data ...
2025-05-14 00:57:42.197 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32'.
2025-05-14 00:57:42.198 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 00:57:42.200 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 00:57:42.202 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 00:57:42.203 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 00:57:42.205 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 00:57:42.207 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 00:57:42.217 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 00:57:42.221 +03:00 [DBG] Compiling query expression: 
'DbSet<Saving>()
    .Where(s => s.UserId == __userId_0 && s.Id > __previousSavingId_1)
    .Take(__p_2)'
2025-05-14 00:57:42.225 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-05-14 00:57:42.231 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Saving>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Saving.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Saving.CurrentAmount (decimal) Required ValueGenerated.OnAdd, 1], [Property: Saving.Goal (decimal) Required, 2], [Property: Saving.Name (string) Required MaxLength(50), 3], [Property: Saving.UserId (int) Required FK Index, 4] }
        SELECT TOP(@__p_2) s.id, s.current_amount, s.goal, s.name, s.user_fk
        FROM savings AS s
        WHERE (s.user_fk == @__userId_0) && (s.id > @__previousSavingId_1)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Saving.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Saving.CurrentAmount (decimal) Required ValueGenerated.OnAdd, 1], [Property: Saving.Goal (decimal) Required, 2], [Property: Saving.Name (string) Required MaxLength(50), 3], [Property: Saving.UserId (int) Required FK Index, 4] }
        SELECT TOP(@__p_2) s.id, s.current_amount, s.goal, s.name, s.user_fk
        FROM savings AS s
        WHERE (s.user_fk == @__userId_0) && (s.id > @__previousSavingId_1), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Saving entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Saving instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Saving);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Saving.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Saving").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Saving)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Saving | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Saving")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Saving | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Saving")]: 
                        {
                            return 
                            {
                                Saving instance;
                                instance = new Saving();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CurrentAmount>k__BackingField = dataReader.GetDecimal(1);
                                instance.<Goal>k__BackingField = dataReader.GetDecimal(2);
                                instance.<Name>k__BackingField = dataReader.GetString(3);
                                instance.<UserId>k__BackingField = dataReader.GetInt32(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Saving | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Saving")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Saving)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-14 00:57:42.237 +03:00 [DBG] Creating DbConnection.
2025-05-14 00:57:42.239 +03:00 [DBG] Created DbConnection. (1ms).
2025-05-14 00:57:42.240 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:42.241 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:42.243 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:57:42.244 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 00:57:42.246 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 00:57:42.249 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 00:57:42.336 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 00:57:42.340 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:42.342 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:42.343 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:42.344 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:57:42.349 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:42.352 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 12ms reading results.
2025-05-14 00:57:42.354 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:42.356 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:57:42.362 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 00:57:42.365 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 00:57:42.367 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 00:57:42.368 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 00:57:42.369 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 00:57:42.370 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 00:57:42.371 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 00:57:42.375 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend) in 192.3993ms
2025-05-14 00:57:42.380 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 00:57:42.382 +03:00 [DBG] Connection id "0HNCID4IM013Q" completed keep alive response.
2025-05-14 00:57:42.384 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 00:57:42.385 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:57:42.386 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 00:57:42.388 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - 200 327 application/json; charset=utf-8 231.7533ms
2025-05-14 00:58:39.455 +03:00 [DBG] Connection id "0HNCID4IM013Q" reset.
2025-05-14 00:58:39.466 +03:00 [DBG] Connection id "0HNCID4IM013Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-14 00:58:39.472 +03:00 [DBG] Connection id "0HNCID4IM013Q" disconnecting.
2025-05-14 00:58:39.480 +03:00 [DBG] Connection id "0HNCID4IM013Q" stopped.
2025-05-14 00:59:41.644 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'CurrencyConverterService'
2025-05-14 00:59:51.655 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 00:59:51.662 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.035ms - processed: 0 items - remaining: 1 items
2025-05-14 00:59:54.886 +03:00 [DBG] Connection id "0HNCID4IM013R" accepted.
2025-05-14 00:59:54.906 +03:00 [DBG] Connection id "0HNCID4IM013R" started.
2025-05-14 00:59:54.937 +03:00 [DBG] Connection 0HNCID4IM013R established using the following protocol: "Tls12"
2025-05-14 00:59:55.111 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - application/json-patch+json 90
2025-05-14 00:59:55.126 +03:00 [DBG] POST requests are not supported
2025-05-14 00:59:55.127 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/refresh-token'
2025-05-14 00:59:55.130 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)' with route pattern 'api/Auth/refresh-token' is valid for the request path '/api/Auth/refresh-token'
2025-05-14 00:59:55.133 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 00:59:55.134 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-14 00:59:55.137 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 00:59:55.139 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO]] RefreshToken(System.String) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-05-14 00:59:55.142 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 00:59:55.144 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 00:59:55.178 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 00:59:55.238 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 00:59:55.240 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 00:59:55.246 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 00:59:55.248 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 00:59:55.249 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' ...
2025-05-14 00:59:55.251 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' using the name '' in request data ...
2025-05-14 00:59:55.252 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 00:59:55.254 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 00:59:55.255 +03:00 [DBG] Connection id "0HNCID4IM013R", Request id "0HNCID4IM013R:00000001": started reading request body.
2025-05-14 00:59:55.256 +03:00 [DBG] Connection id "0HNCID4IM013R", Request id "0HNCID4IM013R:00000001": done reading request body.
2025-05-14 00:59:55.257 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 00:59:55.258 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 00:59:55.259 +03:00 [DBG] Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ...
2025-05-14 00:59:55.263 +03:00 [DBG] Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'.
2025-05-14 00:59:55.265 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 00:59:55.268 +03:00 [DBG] Creating DbConnection.
2025-05-14 00:59:55.269 +03:00 [DBG] Created DbConnection. (1ms).
2025-05-14 00:59:55.270 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:55.271 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:55.273 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:59:55.274 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:59:55.275 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 00:59:55.277 +03:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 00:59:55.281 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 00:59:55.284 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:55.285 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:55.286 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-05-14 00:59:55.288 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:55.289 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:59:55.292 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __existingToken_UserId_0)'
2025-05-14 00:59:55.298 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Role (string) Required ValueGenerated.OnAdd MaxLength(5), 5], [Property: User.Salt (string) Required MaxLength(30), 6], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 7], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 8] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.role, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__existingToken_UserId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Balance (decimal) Required, 1], [Property: User.Email (string) Required Index MaxLength(50), 2], [Property: User.PasswordHash (string) Required MaxLength(50), 3], [Property: User.PrimaryCurrency (string) Required ValueGenerated.OnAdd MaxLength(3), 4], [Property: User.Role (string) Required ValueGenerated.OnAdd MaxLength(5), 5], [Property: User.Salt (string) Required MaxLength(30), 6], [Property: User.SecondaryCurrency1 (string) MaxLength(3), 7], [Property: User.SecondaryCurrency2 (string) MaxLength(3), 8] }
            SELECT TOP(1) u.id, u.balance, u.email, u.password_hash, u.primary_currency, u.role, u.salt, u.secondary_currency_1, u.secondary_currency_2
            FROM users AS u
            WHERE u.id == @__existingToken_UserId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Balance>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<PasswordHash>k__BackingField = dataReader.GetString(3);
                                    instance.<PrimaryCurrency>k__BackingField = dataReader.GetString(4);
                                    instance.<Role>k__BackingField = dataReader.GetString(5);
                                    instance.<Salt>k__BackingField = dataReader.GetString(6);
                                    instance.<SecondaryCurrency1>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<SecondaryCurrency2>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-14 00:59:55.302 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:55.304 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:55.305 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:59:55.307 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:59:55.308 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 00:59:55.311 +03:00 [DBG] Executing DbCommand [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 00:59:55.315 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 00:59:55.319 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:55.320 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:55.321 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:55.323 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 5ms reading results.
2025-05-14 00:59:55.325 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:55.326 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:59:55.328 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 00:59:55.329 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 00:59:55.331 +03:00 [DBG] The unchanged property 'RefreshToken.IsRevoked' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:59:55.332 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:55.334 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 00:59:55.338 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:55.340 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:55.341 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:59:55.342 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:59:55.344 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 00:59:55.345 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 00:59:55.350 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 00:59:55.353 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:55.354 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 00:59:55.356 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:55.357 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:59:55.359 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:55.361 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 00:59:55.363 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'RefreshToken.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:55.365 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:55.366 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:55.367 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 00:59:55.369 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 00:59:55.370 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 00:59:55.372 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:55.374 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:55.375 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:59:55.376 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:59:55.377 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 00:59:55.379 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 00:59:55.382 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 00:59:55.384 +03:00 [DBG] The foreign key property 'RefreshToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 00:59:55.386 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:55.388 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-05-14 00:59:55.389 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:55.390 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:59:55.392 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:55.394 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 00:59:55.395 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 00:59:55.398 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 00:59:55.400 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 00:59:55.401 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 00:59:55.402 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 00:59:55.403 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 00:59:55.404 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO'.
2025-05-14 00:59:55.406 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend) in 159.9113ms
2025-05-14 00:59:55.407 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 00:59:55.408 +03:00 [DBG] Connection id "0HNCID4IM013R" completed keep alive response.
2025-05-14 00:59:55.408 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 00:59:55.409 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:55.410 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-05-14 00:59:55.411 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - 200 521 application/json; charset=utf-8 299.2982ms
2025-05-14 00:59:58.411 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 00:59:58.437 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 00:59:58.440 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 00:59:58.450 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 00:59:58.451 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 00:59:58.452 +03:00 [DBG] Successfully validated the token.
2025-05-14 00:59:58.453 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 00:59:58.454 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 00:59:58.456 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 00:59:58.458 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 00:59:58.462 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 00:59:58.463 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 00:59:58.465 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 00:59:58.466 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 00:59:58.467 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 00:59:58.469 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 00:59:58.471 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 00:59:58.474 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 00:59:58.475 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 00:59:58.476 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 00:59:58.477 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 00:59:58.478 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 00:59:58.479 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 00:59:58.481 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 00:59:58.482 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 00:59:58.483 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 00:59:58.484 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 00:59:58.485 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 00:59:58.486 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 00:59:58.488 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 20.324ms
2025-05-14 00:59:58.491 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 00:59:58.492 +03:00 [DBG] Connection id "0HNCID4IM013R" completed keep alive response.
2025-05-14 00:59:58.494 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 102 application/json; charset=utf-8 82.7434ms
2025-05-14 00:59:58.517 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Categories - null null
2025-05-14 00:59:58.520 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 00:59:58.521 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Categories'
2025-05-14 00:59:58.523 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)' with route pattern 'api/Categories' is valid for the request path '/api/Categories'
2025-05-14 00:59:58.525 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 00:59:58.526 +03:00 [DBG] Successfully validated the token.
2025-05-14 00:59:58.527 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 00:59:58.528 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 00:59:58.529 +03:00 [INF] Route matched with {action = "GetAllCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO]]] GetAllCategories() on controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend).
2025-05-14 00:59:58.531 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 00:59:58.532 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 00:59:58.534 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 00:59:58.536 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 00:59:58.537 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 00:59:58.541 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 00:59:58.544 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 00:59:58.546 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 00:59:58.549 +03:00 [DBG] Creating DbConnection.
2025-05-14 00:59:58.550 +03:00 [DBG] Created DbConnection. (1ms).
2025-05-14 00:59:58.551 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:58.553 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:58.554 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:59:58.557 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-05-14 00:59:58.559 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-05-14 00:59:58.561 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 00:59:58.565 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 00:59:58.567 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:58.569 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:58.570 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:58.572 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:58.575 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:58.577 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:58.578 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 11ms reading results.
2025-05-14 00:59:58.580 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:58.581 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:59:58.583 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 00:59:58.586 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 00:59:58.587 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 00:59:58.590 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 00:59:58.591 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 00:59:58.592 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 00:59:58.594 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 00:59:58.596 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend) in 55.2154ms
2025-05-14 00:59:58.600 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 00:59:58.602 +03:00 [DBG] Connection id "0HNCID4IM013R" completed keep alive response.
2025-05-14 00:59:58.606 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 00:59:58.608 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:58.611 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-05-14 00:59:58.616 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Categories - 200 736 application/json; charset=utf-8 99.4541ms
2025-05-14 00:59:58.647 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T21%3A59%3A58&pageSize=10 - null null
2025-05-14 00:59:58.652 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 00:59:58.653 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions'
2025-05-14 00:59:58.654 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)' with route pattern 'api/Transactions' is valid for the request path '/api/Transactions'
2025-05-14 00:59:58.657 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 00:59:58.659 +03:00 [DBG] Successfully validated the token.
2025-05-14 00:59:58.659 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 00:59:58.661 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 00:59:58.662 +03:00 [INF] Route matched with {action = "GetTransactions", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO]]] GetTransactions(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-05-14 00:59:58.664 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 00:59:58.667 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 00:59:58.668 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 00:59:58.671 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 00:59:58.674 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 00:59:58.677 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 00:59:58.680 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 00:59:58.683 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 00:59:58.686 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' using the name '' in request data ...
2025-05-14 00:59:58.691 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 00:59:58.695 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 00:59:58.698 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]' using the name 'lastDate' in request data ...
2025-05-14 00:59:58.702 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]'.
2025-05-14 00:59:58.707 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 00:59:58.710 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 00:59:58.712 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 00:59:58.715 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 00:59:58.717 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 00:59:58.718 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 00:59:58.721 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 00:59:58.724 +03:00 [DBG] Creating DbConnection.
2025-05-14 00:59:58.725 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 00:59:58.727 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:58.729 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:58.730 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:59:58.731 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:59:58.733 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 00:59:58.734 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 00:59:58.739 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 00:59:58.742 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:58.743 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:58.745 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:58.746 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:58.747 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:58.749 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:58.750 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:58.752 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:58.753 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:58.754 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:58.756 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:58.757 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 15ms reading results.
2025-05-14 00:59:58.759 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:58.760 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:59:58.762 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 00:59:58.764 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 00:59:58.766 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 00:59:58.767 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 00:59:58.768 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 00:59:58.769 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 00:59:58.770 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 00:59:58.772 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend) in 95.1558ms
2025-05-14 00:59:58.774 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 00:59:58.775 +03:00 [DBG] Connection id "0HNCID4IM013R" completed keep alive response.
2025-05-14 00:59:58.776 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 00:59:58.777 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:58.778 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 00:59:58.779 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T21%3A59%3A58&pageSize=10 - 200 1343 application/json; charset=utf-8 131.8071ms
2025-05-14 00:59:58.797 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - null null
2025-05-14 00:59:58.800 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 00:59:58.801 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 00:59:58.802 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 00:59:58.804 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 00:59:58.806 +03:00 [DBG] Successfully validated the token.
2025-05-14 00:59:58.807 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 00:59:58.809 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 00:59:58.810 +03:00 [INF] Route matched with {action = "GetSavings", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO]]] GetSavings(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 00:59:58.812 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 00:59:58.814 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 00:59:58.816 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 00:59:58.819 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 00:59:58.821 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 00:59:58.823 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 00:59:58.825 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 00:59:58.827 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 00:59:58.829 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' using the name '' in request data ...
2025-05-14 00:59:58.831 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 00:59:58.833 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 00:59:58.835 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32' using the name 'previousSavingId' in request data ...
2025-05-14 00:59:58.837 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32'.
2025-05-14 00:59:58.839 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 00:59:58.841 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 00:59:58.843 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 00:59:58.844 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 00:59:58.845 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 00:59:58.849 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 00:59:58.851 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 00:59:58.854 +03:00 [DBG] Creating DbConnection.
2025-05-14 00:59:58.856 +03:00 [DBG] Created DbConnection. (1ms).
2025-05-14 00:59:58.857 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:58.858 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:58.860 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 00:59:58.861 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 00:59:58.863 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 00:59:58.864 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 00:59:58.869 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 00:59:58.871 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:58.873 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:58.875 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:58.876 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 00:59:58.878 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:58.879 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 7ms reading results.
2025-05-14 00:59:58.880 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:58.882 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 00:59:58.883 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 00:59:58.885 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 00:59:58.887 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 00:59:58.888 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 00:59:58.890 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 00:59:58.891 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 00:59:58.892 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 00:59:58.894 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend) in 71.287ms
2025-05-14 00:59:58.899 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 00:59:58.900 +03:00 [DBG] Connection id "0HNCID4IM013R" completed keep alive response.
2025-05-14 00:59:58.903 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 00:59:58.904 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 00:59:58.908 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-05-14 00:59:58.917 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - 200 327 application/json; charset=utf-8 119.7647ms
2025-05-14 01:00:01.667 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:00:01.669 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0797ms - processed: 0 items - remaining: 1 items
2025-05-14 01:00:11.668 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:00:11.669 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.2621ms - processed: 1 items - remaining: 0 items
2025-05-14 01:01:09.866 +03:00 [DBG] Connection id "0HNCID4IM013R" received FIN.
2025-05-14 01:01:09.882 +03:00 [DBG] Connection id "0HNCID4IM013R" disconnecting.
2025-05-14 01:01:09.885 +03:00 [DBG] Connection id "0HNCID4IM013R" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-14 01:01:09.901 +03:00 [DBG] Connection id "0HNCID4IM013R" stopped.
2025-05-14 01:01:58.479 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'CurrencyConverterService'
2025-05-14 01:02:08.531 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:02:08.612 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 1 items
2025-05-14 01:02:18.622 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:02:18.625 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 1 items
2025-05-14 01:02:28.633 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:02:28.635 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 1 items
2025-05-14 01:02:38.649 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:02:38.650 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 1 items
2025-05-14 01:02:48.661 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:02:48.662 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 1 items
2025-05-14 01:02:58.678 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:02:58.679 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0982ms - processed: 0 items - remaining: 1 items
2025-05-14 01:03:08.704 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:03:08.715 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 1 items
2025-05-14 01:03:18.732 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:03:18.735 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 1 items
2025-05-14 01:03:28.740 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:03:28.744 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 1 items
2025-05-14 01:03:38.796 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:03:38.804 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 1 items
2025-05-14 01:03:48.809 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:03:48.812 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0267ms - processed: 0 items - remaining: 1 items
2025-05-14 01:03:58.829 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:03:58.839 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 1 items
2025-05-14 01:04:08.850 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:04:08.852 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 1 items
2025-05-14 01:04:18.862 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:04:18.864 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
2025-05-14 01:04:28.868 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:04:28.869 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 1 items
2025-05-14 01:04:38.884 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:04:38.887 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 1 items
2025-05-14 01:04:48.895 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:04:48.903 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 1 items
2025-05-14 01:04:58.913 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:04:58.914 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1083ms - processed: 0 items - remaining: 1 items
2025-05-14 01:05:08.919 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:05:08.936 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
2025-05-14 01:05:18.943 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:05:18.944 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 1 items
2025-05-14 01:05:20.669 +03:00 [DBG] Connection id "0HNCID4IM013S" accepted.
2025-05-14 01:05:20.684 +03:00 [DBG] Connection id "0HNCID4IM013S" started.
2025-05-14 01:05:20.701 +03:00 [DBG] Connection 0HNCID4IM013S established using the following protocol: "Tls12"
2025-05-14 01:05:20.806 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - application/json-patch+json 90
2025-05-14 01:05:20.809 +03:00 [DBG] POST requests are not supported
2025-05-14 01:05:20.810 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/refresh-token'
2025-05-14 01:05:20.811 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)' with route pattern 'api/Auth/refresh-token' is valid for the request path '/api/Auth/refresh-token'
2025-05-14 01:05:20.812 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:05:20.813 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-14 01:05:20.814 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:05:20.818 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO]] RefreshToken(System.String) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-05-14 01:05:20.820 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:05:20.822 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:05:20.824 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:05:20.826 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:05:20.827 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:05:20.829 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 01:05:20.830 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 01:05:20.833 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' ...
2025-05-14 01:05:20.834 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' using the name '' in request data ...
2025-05-14 01:05:20.836 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:05:20.837 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:05:20.838 +03:00 [DBG] Connection id "0HNCID4IM013S", Request id "0HNCID4IM013S:00000001": started reading request body.
2025-05-14 01:05:20.840 +03:00 [DBG] Connection id "0HNCID4IM013S", Request id "0HNCID4IM013S:00000001": done reading request body.
2025-05-14 01:05:20.842 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:05:20.843 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:05:20.845 +03:00 [DBG] Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ...
2025-05-14 01:05:20.846 +03:00 [DBG] Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:05:20.849 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:05:20.852 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:05:20.852 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:05:20.853 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:20.867 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:20.869 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:05:20.869 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 01:05:20.870 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:05:20.872 +03:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 01:05:20.882 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 01:05:20.885 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:20.886 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:20.887 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-05-14 01:05:20.889 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:20.891 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:05:20.893 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:20.894 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:20.896 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:05:20.897 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:05:20.898 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:05:20.901 +03:00 [DBG] Executing DbCommand [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 01:05:20.905 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 01:05:20.907 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:20.908 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:20.910 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:20.911 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-05-14 01:05:20.913 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:20.914 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:05:20.916 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:05:20.917 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:05:20.919 +03:00 [DBG] The unchanged property 'RefreshToken.IsRevoked' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:05:20.920 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:20.922 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:05:20.923 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:20.925 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:20.926 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:05:20.927 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:05:20.929 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:05:20.930 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:05:20.935 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:05:20.938 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:20.940 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 01:05:20.941 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:20.942 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:05:20.944 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:20.945 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:05:20.947 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'RefreshToken.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:20.948 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:20.950 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:20.951 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:05:20.952 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:05:20.955 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:05:20.956 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:20.957 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:20.959 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:05:20.960 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:05:20.961 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:05:20.962 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 01:05:21.010 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 01:05:21.014 +03:00 [DBG] The foreign key property 'RefreshToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:05:21.017 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:21.019 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-05-14 01:05:21.020 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:21.035 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (14ms).
2025-05-14 01:05:21.037 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:21.041 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:05:21.042 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:05:21.045 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:05:21.051 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:05:21.078 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:05:21.079 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:05:21.137 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:05:21.138 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO'.
2025-05-14 01:05:21.140 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend) in 311.9265ms
2025-05-14 01:05:21.331 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:05:21.335 +03:00 [DBG] Connection id "0HNCID4IM013S" completed keep alive response.
2025-05-14 01:05:21.337 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:05:21.339 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:21.342 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-05-14 01:05:21.345 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - 200 521 application/json; charset=utf-8 538.2972ms
2025-05-14 01:05:21.458 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:05:21.463 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:05:21.464 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:05:21.474 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:05:21.476 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:05:21.478 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:05:21.478 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:05:21.480 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:05:21.481 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:05:21.491 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:05:21.493 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:05:21.494 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:05:21.497 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:05:21.506 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:05:21.541 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:05:21.546 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:05:21.557 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:05:21.563 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:05:21.569 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:05:21.573 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:05:21.578 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:05:21.581 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:05:21.660 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:05:21.663 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:05:21.664 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:05:21.666 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:05:21.666 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:05:21.669 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:05:21.671 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:05:21.672 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 131.1306ms
2025-05-14 01:05:21.680 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:05:21.681 +03:00 [DBG] Connection id "0HNCID4IM013S" completed keep alive response.
2025-05-14 01:05:21.682 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 102 application/json; charset=utf-8 223.996ms
2025-05-14 01:05:21.689 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Categories - null null
2025-05-14 01:05:21.692 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:05:21.693 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Categories'
2025-05-14 01:05:21.694 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)' with route pattern 'api/Categories' is valid for the request path '/api/Categories'
2025-05-14 01:05:21.695 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:05:21.696 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:05:21.697 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:05:21.697 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:05:21.698 +03:00 [INF] Route matched with {action = "GetAllCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO]]] GetAllCategories() on controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend).
2025-05-14 01:05:21.702 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:05:21.703 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:05:21.705 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:05:21.707 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:05:21.709 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:05:21.710 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 01:05:21.713 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 01:05:21.716 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:05:21.719 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:05:21.720 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:05:21.721 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:21.722 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:21.724 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:05:21.725 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:05:21.744 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-05-14 01:05:21.745 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 01:05:21.771 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 01:05:21.773 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:21.775 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:21.776 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:21.777 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:21.778 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:21.779 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:21.780 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 6ms reading results.
2025-05-14 01:05:21.781 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:21.784 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-05-14 01:05:21.785 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:05:21.788 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:05:21.790 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:05:21.791 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:05:21.792 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:05:21.793 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:05:21.794 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:05:21.796 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend) in 85.4529ms
2025-05-14 01:05:21.798 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:05:21.800 +03:00 [DBG] Connection id "0HNCID4IM013S" completed keep alive response.
2025-05-14 01:05:21.801 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:05:21.802 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:21.803 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:05:21.804 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Categories - 200 736 application/json; charset=utf-8 115.2988ms
2025-05-14 01:05:21.839 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T22%3A05%3A21&pageSize=10 - null null
2025-05-14 01:05:21.842 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:05:21.843 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions'
2025-05-14 01:05:21.844 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)' with route pattern 'api/Transactions' is valid for the request path '/api/Transactions'
2025-05-14 01:05:21.845 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:05:21.846 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:05:21.847 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:05:21.848 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:05:21.849 +03:00 [INF] Route matched with {action = "GetTransactions", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO]]] GetTransactions(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-05-14 01:05:21.854 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:05:21.857 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:05:21.860 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:05:21.863 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:05:21.867 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:05:21.869 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 01:05:21.872 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 01:05:21.874 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 01:05:21.876 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' using the name '' in request data ...
2025-05-14 01:05:21.878 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:05:21.880 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:05:21.882 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]' using the name 'lastDate' in request data ...
2025-05-14 01:05:21.885 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]'.
2025-05-14 01:05:21.887 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:05:21.891 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:05:21.892 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:05:21.894 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:05:21.895 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 01:05:21.896 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:05:21.905 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:05:21.932 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:05:21.957 +03:00 [DBG] Created DbConnection. (25ms).
2025-05-14 01:05:21.963 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:21.988 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:21.991 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:05:21.993 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:05:21.995 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-05-14 01:05:21.997 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 01:05:22.007 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 01:05:22.013 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:22.015 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:22.018 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:22.019 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:22.021 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:22.022 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:22.024 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:22.025 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:22.027 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:22.028 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:22.029 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:22.030 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 17ms reading results.
2025-05-14 01:05:22.032 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:22.036 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (3ms).
2025-05-14 01:05:22.037 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:05:22.039 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:05:22.040 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:05:22.041 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:05:22.042 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:05:22.043 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:05:22.044 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:05:22.045 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend) in 176.279ms
2025-05-14 01:05:22.047 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:05:22.049 +03:00 [DBG] Connection id "0HNCID4IM013S" completed keep alive response.
2025-05-14 01:05:22.051 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:05:22.053 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:22.054 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:05:22.056 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T22%3A05%3A21&pageSize=10 - 200 1343 application/json; charset=utf-8 216.4293ms
2025-05-14 01:05:22.070 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - null null
2025-05-14 01:05:22.073 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:05:22.074 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:05:22.076 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:05:22.078 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:22.079 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:05:22.080 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:05:22.082 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:22.083 +03:00 [INF] Route matched with {action = "GetSavings", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO]]] GetSavings(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:05:22.085 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:05:22.086 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:05:22.088 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:05:22.090 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:05:22.092 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:05:22.093 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:05:22.096 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:05:22.097 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:05:22.099 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' using the name '' in request data ...
2025-05-14 01:05:22.100 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:05:22.102 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:05:22.104 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32' using the name 'previousSavingId' in request data ...
2025-05-14 01:05:22.105 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32'.
2025-05-14 01:05:22.107 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:05:22.108 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:05:22.114 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:22.115 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:22.119 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:05:22.121 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:22.124 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:05:22.129 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:05:22.130 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:05:22.131 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:22.132 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:22.135 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:05:22.136 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:05:22.137 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:05:22.138 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:05:22.147 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:05:22.154 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:22.158 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:22.160 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:22.163 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:05:22.165 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:22.170 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 15ms reading results.
2025-05-14 01:05:22.175 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:22.179 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (3ms).
2025-05-14 01:05:22.182 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:05:22.187 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:05:22.189 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:05:22.190 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:05:22.191 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:05:22.192 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:05:22.194 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:05:22.195 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend) in 101.9141ms
2025-05-14 01:05:22.198 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:22.201 +03:00 [DBG] Connection id "0HNCID4IM013S" completed keep alive response.
2025-05-14 01:05:22.202 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:05:22.236 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:22.245 +03:00 [DBG] Disposed connection to database '' on server '' (9ms).
2025-05-14 01:05:22.247 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - 200 327 application/json; charset=utf-8 176.4919ms
2025-05-14 01:05:25.403 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1315&pageSize=5 - null null
2025-05-14 01:05:25.407 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:05:25.408 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:05:25.409 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:05:25.411 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:25.412 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:05:25.412 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:05:25.413 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:25.414 +03:00 [INF] Route matched with {action = "GetSavings", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO]]] GetSavings(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:05:25.416 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:05:25.417 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:05:25.418 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:05:25.419 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:05:25.421 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:05:25.424 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:05:25.425 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:05:25.426 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:05:25.427 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' using the name '' in request data ...
2025-05-14 01:05:25.428 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:05:25.430 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:05:25.431 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32' using the name 'previousSavingId' in request data ...
2025-05-14 01:05:25.432 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32'.
2025-05-14 01:05:25.434 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:05:25.435 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:05:25.439 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:25.440 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:25.441 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:05:25.442 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:25.445 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:05:25.447 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:05:25.448 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:05:25.449 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:25.450 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:25.452 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:05:25.454 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:05:25.455 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 01:05:25.457 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:05:25.461 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:05:25.463 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:25.464 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 01:05:25.466 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:25.467 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:05:25.469 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:05:25.472 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:05:25.473 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:05:25.475 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:05:25.476 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:05:25.477 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:05:25.478 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:05:25.480 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend) in 56.1687ms
2025-05-14 01:05:25.481 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:25.482 +03:00 [DBG] Connection id "0HNCID4IM013S" completed keep alive response.
2025-05-14 01:05:25.483 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:05:25.485 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:25.488 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-05-14 01:05:25.489 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1315&pageSize=5 - 200 2 application/json; charset=utf-8 86.635ms
2025-05-14 01:05:27.217 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1315&pageSize=5 - null null
2025-05-14 01:05:27.220 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:05:27.221 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:05:27.223 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:05:27.224 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:27.226 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:05:27.227 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:05:27.229 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:27.230 +03:00 [INF] Route matched with {action = "GetSavings", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO]]] GetSavings(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:05:27.232 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:05:27.233 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:05:27.235 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:05:27.237 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:05:27.238 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:05:27.240 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:05:27.242 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:05:27.243 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:05:27.244 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' using the name '' in request data ...
2025-05-14 01:05:27.246 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:05:27.247 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:05:27.249 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32' using the name 'previousSavingId' in request data ...
2025-05-14 01:05:27.250 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32'.
2025-05-14 01:05:27.251 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:05:27.253 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:05:27.255 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:27.256 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:27.258 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:05:27.259 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:27.261 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:05:27.263 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:05:27.264 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:05:27.264 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:27.266 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:27.267 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:05:27.268 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 01:05:27.269 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:05:27.271 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:05:27.277 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:05:27.279 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:27.281 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 01:05:27.283 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:27.284 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:05:27.286 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:05:27.289 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:05:27.291 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:05:27.292 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:05:27.293 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:05:27.294 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:05:27.295 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:05:27.297 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend) in 57.4139ms
2025-05-14 01:05:27.298 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:27.300 +03:00 [DBG] Connection id "0HNCID4IM013S" completed keep alive response.
2025-05-14 01:05:27.301 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:05:27.302 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:27.303 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:05:27.305 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1315&pageSize=5 - 200 2 application/json; charset=utf-8 88.8527ms
2025-05-14 01:05:27.789 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1315&pageSize=5 - null null
2025-05-14 01:05:27.799 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:05:27.800 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:05:27.807 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:05:27.809 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:27.810 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:05:27.813 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:05:27.815 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:27.816 +03:00 [INF] Route matched with {action = "GetSavings", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO]]] GetSavings(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:05:27.819 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:05:27.830 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:05:27.833 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:05:27.839 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:05:27.841 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:05:27.843 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:05:27.844 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:05:27.846 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:05:27.847 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' using the name '' in request data ...
2025-05-14 01:05:27.849 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:05:27.850 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:05:27.852 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32' using the name 'previousSavingId' in request data ...
2025-05-14 01:05:27.855 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32'.
2025-05-14 01:05:27.856 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:05:27.858 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:05:27.859 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:27.860 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:27.861 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:05:27.862 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:27.864 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:05:27.866 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:05:27.867 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:05:27.868 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:27.869 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:27.870 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:05:27.872 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:05:27.873 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:05:27.874 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:05:27.878 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:05:27.880 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:27.881 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 01:05:27.883 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:27.884 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:05:27.886 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:05:27.889 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:05:27.890 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:05:27.892 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:05:27.893 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:05:27.893 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:05:27.895 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:05:27.896 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend) in 53.6992ms
2025-05-14 01:05:27.899 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:27.900 +03:00 [DBG] Connection id "0HNCID4IM013S" completed keep alive response.
2025-05-14 01:05:27.902 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:05:27.903 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:27.917 +03:00 [DBG] Disposed connection to database '' on server '' (13ms).
2025-05-14 01:05:27.919 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1315&pageSize=5 - 200 2 application/json; charset=utf-8 129.6255ms
2025-05-14 01:05:28.119 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1315&pageSize=5 - null null
2025-05-14 01:05:28.197 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:05:28.199 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:05:28.201 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:05:28.203 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:28.206 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:05:28.219 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:05:28.223 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:28.225 +03:00 [INF] Route matched with {action = "GetSavings", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO]]] GetSavings(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:05:28.229 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:05:28.230 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:05:28.232 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:05:28.235 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:05:28.237 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:05:28.240 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:05:28.242 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:05:28.244 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:05:28.246 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' using the name '' in request data ...
2025-05-14 01:05:28.248 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:05:28.251 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:05:28.253 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32' using the name 'previousSavingId' in request data ...
2025-05-14 01:05:28.257 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32'.
2025-05-14 01:05:28.367 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:05:28.369 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:05:28.371 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:28.373 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:28.374 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:05:28.375 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:28.378 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:05:28.381 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:05:28.382 +03:00 [DBG] Created DbConnection. (1ms).
2025-05-14 01:05:28.384 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:28.398 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:28.401 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:05:28.402 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:05:28.404 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 01:05:28.406 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:05:28.412 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:05:28.415 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:28.417 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 01:05:28.419 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:28.421 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:05:28.430 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:05:28.433 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:05:28.436 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:05:28.437 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:05:28.438 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:05:28.439 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:05:28.442 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:05:28.464 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend) in 224.3685ms
2025-05-14 01:05:28.466 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:28.467 +03:00 [DBG] Connection id "0HNCID4IM013S" completed keep alive response.
2025-05-14 01:05:28.468 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:05:28.469 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:28.470 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:05:28.477 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1315&pageSize=5 - 200 2 application/json; charset=utf-8 358.2382ms
2025-05-14 01:05:28.979 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:05:29.000 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 1 items
2025-05-14 01:05:30.463 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1315&pageSize=5 - null null
2025-05-14 01:05:30.496 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:05:30.509 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:05:30.513 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:05:30.516 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:30.519 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:05:30.521 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:05:30.524 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:30.528 +03:00 [INF] Route matched with {action = "GetSavings", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO]]] GetSavings(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:05:30.530 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:05:30.531 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:05:30.533 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:05:30.535 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:05:30.537 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:05:30.538 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:05:30.541 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:05:30.543 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:05:30.544 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' using the name '' in request data ...
2025-05-14 01:05:30.546 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:05:30.548 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:05:30.549 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32' using the name 'previousSavingId' in request data ...
2025-05-14 01:05:30.552 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32'.
2025-05-14 01:05:30.553 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:05:30.557 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:05:30.559 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:30.560 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:30.562 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:05:30.563 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:30.565 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:05:30.568 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:05:30.569 +03:00 [DBG] Created DbConnection. (1ms).
2025-05-14 01:05:30.570 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:30.572 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:30.574 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:05:30.575 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:05:30.577 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:05:30.578 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:05:30.583 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:05:30.585 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:30.587 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 01:05:30.588 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:30.590 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:05:30.592 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:05:30.594 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:05:30.595 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:05:30.597 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:05:30.598 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:05:30.599 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:05:30.600 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:05:30.602 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend) in 63.2949ms
2025-05-14 01:05:30.603 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:30.604 +03:00 [DBG] Connection id "0HNCID4IM013S" completed keep alive response.
2025-05-14 01:05:30.606 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:05:30.607 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:30.608 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:05:30.610 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1315&pageSize=5 - 200 2 application/json; charset=utf-8 146.6668ms
2025-05-14 01:05:39.008 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:05:39.014 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 1 items
2025-05-14 01:05:44.617 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1315&pageSize=5 - null null
2025-05-14 01:05:44.620 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:05:44.621 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:05:44.623 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:05:44.624 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:44.626 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:05:44.627 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:05:44.628 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:44.629 +03:00 [INF] Route matched with {action = "GetSavings", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO]]] GetSavings(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:05:44.631 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:05:44.632 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:05:44.634 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:05:44.636 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:05:44.637 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:05:44.638 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:05:44.639 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:05:44.640 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:05:44.642 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' using the name '' in request data ...
2025-05-14 01:05:44.643 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:05:44.645 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:05:44.647 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32' using the name 'previousSavingId' in request data ...
2025-05-14 01:05:44.648 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32'.
2025-05-14 01:05:44.650 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:05:44.652 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:05:44.653 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:44.654 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:44.656 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:05:44.657 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:05:44.660 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:05:44.663 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:05:44.664 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:05:44.665 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:44.666 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:44.669 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:05:44.670 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:05:44.671 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:05:44.673 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:05:44.677 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:05:44.679 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:44.681 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 01:05:44.682 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:44.684 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:05:44.685 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:05:44.688 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:05:44.690 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:05:44.691 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:05:44.692 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:05:44.693 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:05:44.695 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:05:44.696 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend) in 58.118ms
2025-05-14 01:05:44.698 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:05:44.699 +03:00 [DBG] Connection id "0HNCID4IM013S" completed keep alive response.
2025-05-14 01:05:44.700 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:05:44.702 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:05:44.703 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:05:44.704 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1315&pageSize=5 - 200 2 application/json; charset=utf-8 87.5849ms
2025-05-14 01:05:49.023 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:05:49.031 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
2025-05-14 01:05:59.035 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:05:59.054 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 1 items
2025-05-14 01:06:09.060 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:06:09.072 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 1 items
2025-05-14 01:06:19.089 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:06:19.090 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 1 items
2025-05-14 01:06:29.105 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:06:29.106 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 1 items
2025-05-14 01:06:39.112 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:06:39.119 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.011ms - processed: 0 items - remaining: 1 items
2025-05-14 01:06:39.600 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:49464/api/Savings - application/json-patch+json 48
2025-05-14 01:06:39.605 +03:00 [DBG] PUT requests are not supported
2025-05-14 01:06:39.606 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:06:39.607 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:06:39.608 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:06:39.610 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:06:39.635 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:06:39.640 +03:00 [DBG] Authorization was successful.
2025-05-14 01:06:39.641 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:06:39.645 +03:00 [INF] Route matched with {action = "UpdateSaving", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateSaving(Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:06:39.648 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:06:39.649 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:06:39.651 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:06:39.653 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:06:39.655 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:06:39.656 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:06:39.658 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:06:39.659 +03:00 [DBG] Attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' ...
2025-05-14 01:06:39.661 +03:00 [DBG] Attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' using the name '' in request data ...
2025-05-14 01:06:39.665 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:06:39.666 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:06:39.667 +03:00 [DBG] Connection id "0HNCID4IM013S", Request id "0HNCID4IM013S:0000000C": started reading request body.
2025-05-14 01:06:39.669 +03:00 [DBG] Connection id "0HNCID4IM013S", Request id "0HNCID4IM013S:0000000C": done reading request body.
2025-05-14 01:06:39.687 +03:00 [DBG] Done attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:06:39.688 +03:00 [DBG] Done attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:06:39.690 +03:00 [DBG] Attempting to validate the bound parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' ...
2025-05-14 01:06:39.694 +03:00 [DBG] Done attempting to validate the bound parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:06:39.708 +03:00 [INF] Executing UdateSavingAsync method
2025-05-14 01:06:39.711 +03:00 [INF] Start ExecuteTransactionAsync method.
2025-05-14 01:06:39.756 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:06:39.767 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:06:39.768 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:06:39.769 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:06:39.771 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:06:39.772 +03:00 [DBG] Beginning transaction with isolation level 'ReadCommitted'.
2025-05-14 01:06:39.774 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-05-14 01:06:39.775 +03:00 [DBG] Start db transaction.
2025-05-14 01:06:39.778 +03:00 [DBG] Compiling query expression: 
'DbSet<Saving>()
    .FirstOrDefault(s => s.Id == __savingId_0)'
2025-05-14 01:06:39.783 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Saving>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Saving>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Saving.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Saving.CurrentAmount (decimal) Required ValueGenerated.OnAdd, 1], [Property: Saving.Goal (decimal) Required, 2], [Property: Saving.Name (string) Required MaxLength(50), 3], [Property: Saving.UserId (int) Required FK Index, 4] }
            SELECT TOP(1) s.id, s.current_amount, s.goal, s.name, s.user_fk
            FROM savings AS s
            WHERE s.id == @__savingId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Saving.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Saving.CurrentAmount (decimal) Required ValueGenerated.OnAdd, 1], [Property: Saving.Goal (decimal) Required, 2], [Property: Saving.Name (string) Required MaxLength(50), 3], [Property: Saving.UserId (int) Required FK Index, 4] }
            SELECT TOP(1) s.id, s.current_amount, s.goal, s.name, s.user_fk
            FROM savings AS s
            WHERE s.id == @__savingId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Saving entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Saving instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Saving);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Saving.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Saving").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Saving)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Saving | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Saving")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Saving | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Saving")]: 
                            {
                                return 
                                {
                                    Saving instance;
                                    instance = new Saving();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CurrentAmount>k__BackingField = dataReader.GetDecimal(1);
                                    instance.<Goal>k__BackingField = dataReader.GetDecimal(2);
                                    instance.<Name>k__BackingField = dataReader.GetString(3);
                                    instance.<UserId>k__BackingField = dataReader.GetInt32(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Saving | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Finance_Manager_Backend.BusinessLogic.Models.Saving")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Saving)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Finance_Manager_Backend.DataBase.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-14 01:06:39.787 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:06:39.788 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:06:39.790 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:06:39.791 +03:00 [DBG] Executing DbCommand [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-05-14 01:06:39.828 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-05-14 01:06:39.830 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:06:39.832 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:06:39.833 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-05-14 01:06:39.835 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:06:39.836 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:06:39.838 +03:00 [DBG] The unchanged property 'Saving.CurrentAmount' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:06:39.840 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:06:39.842 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:06:39.845 +03:00 [DBG] Creating transaction savepoint.
2025-05-14 01:06:39.855 +03:00 [DBG] Created transaction savepoint.
2025-05-14 01:06:39.856 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:06:39.858 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:06:39.859 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:06:39.860 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [savings] SET [current_amount] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:06:39.886 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [savings] SET [current_amount] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:06:39.888 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:06:39.890 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 01:06:39.892 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:06:39.894 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:06:39.895 +03:00 [DBG] Committing transaction.
2025-05-14 01:06:39.897 +03:00 [DBG] Committed transaction.
2025-05-14 01:06:39.898 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:06:39.899 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:06:39.901 +03:00 [INF] Transaction successful.
2025-05-14 01:06:39.902 +03:00 [DBG] Disposing transaction.
2025-05-14 01:06:39.904 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-05-14 01:06:39.905 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend) in 248.9077ms
2025-05-14 01:06:39.907 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:06:39.908 +03:00 [DBG] Connection id "0HNCID4IM013S" completed keep alive response.
2025-05-14 01:06:39.909 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:06:39.911 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:06:39.912 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:06:39.914 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:49464/api/Savings - 204 null null 313.4106ms
2025-05-14 01:06:39.917 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:06:39.920 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:06:39.921 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:06:39.923 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:06:39.924 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:06:39.926 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:06:39.927 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:06:39.928 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:06:39.929 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:06:39.931 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:06:39.932 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:06:39.934 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:06:39.936 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:06:39.939 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:06:39.941 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:06:39.942 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:06:39.944 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:06:39.946 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:06:39.948 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:06:39.949 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:06:39.950 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:06:39.952 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:06:39.954 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:06:39.956 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:06:39.958 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:06:39.960 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:06:39.961 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:06:39.962 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:06:39.963 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:06:39.965 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 24.1999ms
2025-05-14 01:06:39.969 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:06:39.970 +03:00 [DBG] Connection id "0HNCID4IM013S" completed keep alive response.
2025-05-14 01:06:39.972 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 106 application/json; charset=utf-8 54.3322ms
2025-05-14 01:06:49.131 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:06:49.134 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 1 items
2025-05-14 01:06:59.132 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:06:59.146 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 1 items
2025-05-14 01:07:09.155 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:07:09.159 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 1 items
2025-05-14 01:07:19.176 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:07:19.187 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
2025-05-14 01:07:21.543 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'CurrencyConverterService'
2025-05-14 01:07:29.209 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-05-14 01:07:29.210 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.023ms - processed: 1 items - remaining: 1 items
2025-05-14 01:07:39.224 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:07:39.225 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 1 items
2025-05-14 01:07:49.235 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:07:49.236 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 1 items
2025-05-14 01:07:50.696 +03:00 [DBG] Connection id "0HNCID4IM013S" received FIN.
2025-05-14 01:07:50.706 +03:00 [DBG] Connection id "0HNCID4IM013S" disconnecting.
2025-05-14 01:07:50.711 +03:00 [DBG] Connection id "0HNCID4IM013S" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-14 01:07:50.725 +03:00 [DBG] Connection id "0HNCID4IM013S" stopped.
2025-05-14 01:07:59.238 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:07:59.239 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
2025-05-14 01:08:09.250 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:08:09.252 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 1 items
2025-05-14 01:08:19.258 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:08:19.290 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
2025-05-14 01:08:29.299 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:08:29.301 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 1 items
2025-05-14 01:08:39.319 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:08:39.333 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 1 items - remaining: 0 items
2025-05-14 01:13:09.162 +03:00 [DBG] Connection id "0HNCID4IM013T" accepted.
2025-05-14 01:13:09.179 +03:00 [DBG] Connection id "0HNCID4IM013T" started.
2025-05-14 01:13:09.245 +03:00 [DBG] Connection 0HNCID4IM013T established using the following protocol: "Tls12"
2025-05-14 01:13:09.566 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - application/json-patch+json 90
2025-05-14 01:13:09.573 +03:00 [DBG] POST requests are not supported
2025-05-14 01:13:09.575 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/refresh-token'
2025-05-14 01:13:09.576 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)' with route pattern 'api/Auth/refresh-token' is valid for the request path '/api/Auth/refresh-token'
2025-05-14 01:13:09.578 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:13:09.579 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-14 01:13:09.580 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:13:09.581 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO]] RefreshToken(System.String) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-05-14 01:13:09.583 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:13:09.585 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:13:09.768 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:13:09.796 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:13:09.799 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:13:09.801 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 01:13:09.813 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 01:13:09.821 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' ...
2025-05-14 01:13:09.823 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' using the name '' in request data ...
2025-05-14 01:13:09.824 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:13:09.826 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:13:09.839 +03:00 [DBG] Connection id "0HNCID4IM013T", Request id "0HNCID4IM013T:00000001": started reading request body.
2025-05-14 01:13:09.858 +03:00 [DBG] Connection id "0HNCID4IM013T", Request id "0HNCID4IM013T:00000001": done reading request body.
2025-05-14 01:13:09.859 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:13:09.863 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:13:09.864 +03:00 [DBG] Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ...
2025-05-14 01:13:09.874 +03:00 [DBG] Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:13:09.895 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:13:09.900 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:13:09.901 +03:00 [DBG] Created DbConnection. (1ms).
2025-05-14 01:13:09.903 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:09.917 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:09.920 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:13:09.921 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:13:09.923 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 01:13:09.925 +03:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 01:13:09.936 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 01:13:09.940 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:09.942 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:09.947 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 6ms reading results.
2025-05-14 01:13:09.950 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:09.952 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-05-14 01:13:09.954 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:09.956 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:09.958 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:13:09.962 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-05-14 01:13:09.964 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-05-14 01:13:09.966 +03:00 [DBG] Executing DbCommand [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 01:13:09.972 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 01:13:09.977 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:09.980 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:09.982 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:09.984 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 7ms reading results.
2025-05-14 01:13:09.986 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:09.987 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:13:09.989 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:13:09.992 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:13:09.993 +03:00 [DBG] The unchanged property 'RefreshToken.IsRevoked' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:13:09.996 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:09.998 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:13:10.000 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:10.002 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:10.003 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:13:10.004 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 01:13:10.006 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:13:10.008 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:13:10.017 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:13:10.020 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:10.022 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-05-14 01:13:10.024 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:10.026 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:13:10.030 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:10.032 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:13:10.034 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'RefreshToken.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:10.035 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:10.036 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:10.038 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:13:10.039 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:13:10.040 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:13:10.041 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:10.043 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:10.046 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:13:10.048 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:13:10.049 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:13:10.051 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 01:13:10.056 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 01:13:10.058 +03:00 [DBG] The foreign key property 'RefreshToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:13:10.060 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:10.061 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-05-14 01:13:10.063 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:10.064 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:13:10.066 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:10.068 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:13:10.070 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:13:10.072 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:13:10.073 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:13:10.074 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:13:10.075 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:13:10.076 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:13:10.077 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO'.
2025-05-14 01:13:10.079 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend) in 277.6507ms
2025-05-14 01:13:10.081 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:13:10.082 +03:00 [DBG] Connection id "0HNCID4IM013T" completed keep alive response.
2025-05-14 01:13:10.083 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:13:10.084 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:10.085 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:13:10.087 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - 200 521 application/json; charset=utf-8 520.9646ms
2025-05-14 01:13:10.368 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:13:10.376 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:13:10.391 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:13:10.392 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:13:10.405 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:13:10.407 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:13:10.409 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:13:10.415 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:13:10.417 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:13:10.422 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:13:10.427 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:13:10.432 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:13:10.436 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:13:10.439 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:13:10.443 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:13:10.448 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:13:10.452 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:13:10.454 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:13:10.460 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:13:10.465 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:13:10.467 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:13:10.470 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:13:10.484 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:13:10.490 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:13:10.492 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:13:10.496 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:13:10.498 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:13:10.499 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:13:10.502 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:13:10.506 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 63.3922ms
2025-05-14 01:13:10.530 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:13:10.533 +03:00 [DBG] Connection id "0HNCID4IM013T" completed keep alive response.
2025-05-14 01:13:10.538 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 102 application/json; charset=utf-8 170.0834ms
2025-05-14 01:13:10.552 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Categories - null null
2025-05-14 01:13:10.557 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:13:10.559 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Categories'
2025-05-14 01:13:10.565 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)' with route pattern 'api/Categories' is valid for the request path '/api/Categories'
2025-05-14 01:13:10.568 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:13:10.570 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:13:10.571 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:13:10.572 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:13:10.573 +03:00 [INF] Route matched with {action = "GetAllCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO]]] GetAllCategories() on controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend).
2025-05-14 01:13:10.574 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:13:10.576 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:13:10.580 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:13:10.583 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:13:10.585 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:13:10.586 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 01:13:10.587 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 01:13:10.589 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:13:10.591 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:13:10.591 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:13:10.593 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:10.595 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:10.597 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:13:10.601 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-05-14 01:13:10.603 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-05-14 01:13:10.604 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 01:13:10.608 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 01:13:10.615 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:10.616 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:10.618 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:10.619 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:10.621 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:10.622 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:10.623 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 8ms reading results.
2025-05-14 01:13:10.624 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:10.626 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:13:10.627 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:13:10.630 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:13:10.631 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:13:10.632 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:13:10.633 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:13:10.634 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:13:10.635 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:13:10.636 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend) in 50.1131ms
2025-05-14 01:13:10.637 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:13:10.638 +03:00 [DBG] Connection id "0HNCID4IM013T" completed keep alive response.
2025-05-14 01:13:10.641 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:13:10.641 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:10.643 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:13:10.650 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Categories - 200 736 application/json; charset=utf-8 98.123ms
2025-05-14 01:13:10.701 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T22%3A13%3A10&pageSize=10 - null null
2025-05-14 01:13:10.704 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:13:10.705 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions'
2025-05-14 01:13:10.706 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)' with route pattern 'api/Transactions' is valid for the request path '/api/Transactions'
2025-05-14 01:13:10.708 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:13:10.710 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:13:10.712 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:13:10.713 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:13:10.715 +03:00 [INF] Route matched with {action = "GetTransactions", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO]]] GetTransactions(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-05-14 01:13:10.717 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:13:10.719 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:13:10.721 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:13:10.727 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:13:10.730 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:13:10.732 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 01:13:10.733 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 01:13:10.735 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 01:13:10.736 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' using the name '' in request data ...
2025-05-14 01:13:10.738 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:13:10.742 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:13:10.747 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]' using the name 'lastDate' in request data ...
2025-05-14 01:13:10.750 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]'.
2025-05-14 01:13:10.757 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:13:10.765 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:13:10.769 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:13:10.775 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:13:10.779 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 01:13:10.782 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:13:10.786 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:13:10.797 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:13:10.804 +03:00 [DBG] Created DbConnection. (6ms).
2025-05-14 01:13:10.807 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:10.810 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:10.814 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:13:10.821 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-05-14 01:13:10.823 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-05-14 01:13:10.825 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 01:13:10.837 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 01:13:10.856 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:10.858 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:10.863 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:10.877 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:10.883 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:10.885 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:10.888 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:10.891 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:10.900 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:10.902 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:10.913 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:10.914 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 58ms reading results.
2025-05-14 01:13:10.916 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:10.917 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:13:10.919 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:13:10.922 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:13:10.923 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:13:10.925 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:13:10.926 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:13:10.927 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:13:10.930 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:13:10.931 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend) in 199.7052ms
2025-05-14 01:13:10.938 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:13:10.940 +03:00 [DBG] Connection id "0HNCID4IM013T" completed keep alive response.
2025-05-14 01:13:10.941 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:13:10.944 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:10.947 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-05-14 01:13:10.948 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T22%3A13%3A10&pageSize=10 - 200 1343 application/json; charset=utf-8 247.6214ms
2025-05-14 01:13:10.976 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - null null
2025-05-14 01:13:10.981 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:13:10.982 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:13:10.984 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:13:10.985 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:13:10.987 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:13:10.989 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:13:10.990 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:13:10.991 +03:00 [INF] Route matched with {action = "GetSavings", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO]]] GetSavings(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:13:10.993 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:13:10.997 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:13:10.999 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:13:11.001 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:13:11.014 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:13:11.017 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:13:11.054 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:13:11.164 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:13:11.166 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' using the name '' in request data ...
2025-05-14 01:13:11.169 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:13:11.172 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:13:11.175 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32' using the name 'previousSavingId' in request data ...
2025-05-14 01:13:11.177 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32'.
2025-05-14 01:13:11.180 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:13:11.182 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:13:11.184 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:13:11.185 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:13:11.187 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:13:11.188 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:13:11.192 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:13:11.250 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:13:11.286 +03:00 [DBG] Created DbConnection. (35ms).
2025-05-14 01:13:11.287 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:11.290 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:11.293 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:13:11.295 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:13:11.297 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 01:13:11.309 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:13:11.402 +03:00 [INF] Executed DbCommand (93ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:13:11.409 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:11.410 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:11.412 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:11.413 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:13:11.414 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:11.416 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 7ms reading results.
2025-05-14 01:13:11.417 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:11.419 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:13:11.420 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:13:11.423 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:13:11.424 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:13:11.426 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:13:11.426 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:13:11.427 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:13:11.429 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:13:11.430 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend) in 413.1562ms
2025-05-14 01:13:11.432 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:13:11.434 +03:00 [DBG] Connection id "0HNCID4IM013T" completed keep alive response.
2025-05-14 01:13:11.435 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:13:11.436 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:13:11.437 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:13:11.440 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - 200 330 application/json; charset=utf-8 463.7341ms
2025-05-14 01:14:05.453 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:49464/api/Savings - application/json-patch+json 81
2025-05-14 01:14:05.456 +03:00 [DBG] POST requests are not supported
2025-05-14 01:14:05.458 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:14:05.459 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.CreateSaving (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:14:05.461 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.CreateSaving (Finance_Manager_Backend)'
2025-05-14 01:14:05.463 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:14:05.464 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:14:05.467 +03:00 [DBG] Authorization was successful.
2025-05-14 01:14:05.469 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.CreateSaving (Finance_Manager_Backend)'
2025-05-14 01:14:05.474 +03:00 [INF] Route matched with {action = "CreateSaving", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] CreateSaving(Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:14:05.476 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:14:05.478 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:14:05.479 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:14:05.482 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:14:05.484 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:14:05.485 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:14:05.487 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:14:05.490 +03:00 [DBG] Attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO' ...
2025-05-14 01:14:05.491 +03:00 [DBG] Attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO' using the name '' in request data ...
2025-05-14 01:14:05.493 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:14:05.494 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:14:05.495 +03:00 [DBG] Connection id "0HNCID4IM013T", Request id "0HNCID4IM013T:00000006": started reading request body.
2025-05-14 01:14:05.496 +03:00 [DBG] Connection id "0HNCID4IM013T", Request id "0HNCID4IM013T:00000006": done reading request body.
2025-05-14 01:14:05.499 +03:00 [DBG] Done attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO'.
2025-05-14 01:14:05.501 +03:00 [DBG] Done attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO'.
2025-05-14 01:14:05.502 +03:00 [DBG] Attempting to validate the bound parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO' ...
2025-05-14 01:14:05.507 +03:00 [DBG] Done attempting to validate the bound parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO'.
2025-05-14 01:14:05.517 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:14:05.519 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:14:05.522 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:14:05.524 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:14:05.524 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:14:05.525 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:14:05.527 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:14:05.528 +03:00 [DBG] Created DbConnection. (1ms).
2025-05-14 01:14:05.529 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:14:05.530 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:14:05.532 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:14:05.533 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:14:05.534 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:14:05.536 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [savings] ([goal], [name], [user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount]
VALUES (@p0, @p1, @p2);
2025-05-14 01:14:05.572 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [savings] ([goal], [name], [user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount]
VALUES (@p0, @p1, @p2);
2025-05-14 01:14:05.575 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:14:05.576 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:14:05.578 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-05-14 01:14:05.579 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:14:05.581 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:14:05.583 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:14:05.585 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:14:05.588 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:14:05.590 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:14:05.592 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:14:05.593 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:14:05.594 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:14:05.595 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:14:05.597 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Int32'.
2025-05-14 01:14:05.612 +03:00 [DBG] Found the endpoints ["Finance_Manager_Backend.Controllers.SavingsController.GetSavingById (Finance_Manager_Backend)"] for address (id=[1316],action=[GetSavingById],controller=[Savings])
2025-05-14 01:14:05.616 +03:00 [DBG] Successfully processed template api/Savings/{id} for Finance_Manager_Backend.Controllers.SavingsController.GetSavingById (Finance_Manager_Backend) resulting in /api/Savings/1316 and 
2025-05-14 01:14:05.619 +03:00 [DBG] Link generation succeeded for endpoints ["Finance_Manager_Backend.Controllers.SavingsController.GetSavingById (Finance_Manager_Backend)"] with result /api/Savings/1316
2025-05-14 01:14:05.621 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.CreateSaving (Finance_Manager_Backend) in 136.0832ms
2025-05-14 01:14:05.624 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.CreateSaving (Finance_Manager_Backend)'
2025-05-14 01:14:05.625 +03:00 [DBG] Connection id "0HNCID4IM013U" accepted.
2025-05-14 01:14:05.626 +03:00 [DBG] Connection id "0HNCID4IM013T" completed keep alive response.
2025-05-14 01:14:05.627 +03:00 [DBG] Connection id "0HNCID4IM013U" started.
2025-05-14 01:14:05.628 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:14:05.631 +03:00 [DBG] Connection 0HNCID4IM013U established using the following protocol: "Tls12"
2025-05-14 01:14:05.631 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:14:05.632 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:14:05.633 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-05-14 01:14:05.636 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:14:05.637 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:49464/api/Savings - 201 4 application/json; charset=utf-8 184.847ms
2025-05-14 01:14:05.639 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:14:05.643 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:14:05.645 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:14:05.647 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:14:05.648 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:14:05.649 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:14:05.650 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:14:05.652 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:14:05.654 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:14:05.656 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:14:05.658 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:14:05.660 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:14:05.662 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:14:05.663 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:14:05.665 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:14:05.666 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:14:05.668 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:14:05.670 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:14:05.671 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:14:05.672 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:14:05.674 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:14:05.677 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:14:05.678 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:14:05.680 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:14:05.681 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:14:05.682 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:14:05.683 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:14:05.685 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 23.0346ms
2025-05-14 01:14:05.687 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:14:05.689 +03:00 [DBG] Connection id "0HNCID4IM013U" completed keep alive response.
2025-05-14 01:14:05.692 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 102 application/json; charset=utf-8 59.5742ms
2025-05-14 01:14:20.696 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:49464/api/Savings - application/json-patch+json 48
2025-05-14 01:14:20.710 +03:00 [DBG] PUT requests are not supported
2025-05-14 01:14:20.711 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:14:20.713 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:14:20.719 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:14:20.722 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:14:20.723 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:14:20.726 +03:00 [DBG] Authorization was successful.
2025-05-14 01:14:20.727 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:14:20.731 +03:00 [INF] Route matched with {action = "UpdateSaving", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateSaving(Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:14:20.736 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:14:20.739 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:14:20.741 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:14:20.743 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:14:20.745 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:14:20.747 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:14:20.748 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:14:20.750 +03:00 [DBG] Attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' ...
2025-05-14 01:14:20.751 +03:00 [DBG] Attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' using the name '' in request data ...
2025-05-14 01:14:20.753 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:14:20.754 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:14:20.756 +03:00 [DBG] Connection id "0HNCID4IM013T", Request id "0HNCID4IM013T:00000007": started reading request body.
2025-05-14 01:14:20.757 +03:00 [DBG] Connection id "0HNCID4IM013T", Request id "0HNCID4IM013T:00000007": done reading request body.
2025-05-14 01:14:20.758 +03:00 [DBG] Done attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:14:20.760 +03:00 [DBG] Done attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:14:20.762 +03:00 [DBG] Attempting to validate the bound parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' ...
2025-05-14 01:14:20.764 +03:00 [DBG] Done attempting to validate the bound parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:14:20.766 +03:00 [INF] Executing UdateSavingAsync method
2025-05-14 01:14:20.767 +03:00 [INF] Start ExecuteTransactionAsync method.
2025-05-14 01:14:20.769 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:14:20.773 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:14:20.774 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:14:20.775 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:14:20.777 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:14:20.778 +03:00 [DBG] Beginning transaction with isolation level 'ReadCommitted'.
2025-05-14 01:14:20.780 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-05-14 01:14:20.781 +03:00 [DBG] Start db transaction.
2025-05-14 01:14:20.782 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:14:20.783 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:14:20.785 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:14:20.786 +03:00 [DBG] Executing DbCommand [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-05-14 01:14:20.790 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-05-14 01:14:20.792 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:14:20.794 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:14:20.795 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-05-14 01:14:20.797 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:14:20.798 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:14:20.799 +03:00 [DBG] The unchanged property 'Saving.CurrentAmount' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:14:20.801 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:14:20.803 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:14:20.804 +03:00 [DBG] Creating transaction savepoint.
2025-05-14 01:14:20.805 +03:00 [DBG] Created transaction savepoint.
2025-05-14 01:14:20.806 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:14:20.808 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:14:20.809 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:14:20.811 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [savings] SET [current_amount] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:14:20.815 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [savings] SET [current_amount] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:14:20.817 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:14:20.819 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 01:14:20.821 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:14:20.823 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:14:20.824 +03:00 [DBG] Committing transaction.
2025-05-14 01:14:20.825 +03:00 [DBG] Committed transaction.
2025-05-14 01:14:20.826 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:14:20.828 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:14:20.830 +03:00 [INF] Transaction successful.
2025-05-14 01:14:20.830 +03:00 [DBG] Disposing transaction.
2025-05-14 01:14:20.832 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-05-14 01:14:20.833 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend) in 86.0887ms
2025-05-14 01:14:20.834 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:14:20.835 +03:00 [DBG] Connection id "0HNCID4IM013T" completed keep alive response.
2025-05-14 01:14:20.837 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:14:20.838 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:14:20.840 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-05-14 01:14:20.842 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:49464/api/Savings - 204 null null 145.5001ms
2025-05-14 01:14:20.845 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:14:20.848 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:14:20.849 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:14:20.850 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:14:20.852 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:14:20.853 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:14:20.854 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:14:20.855 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:14:20.856 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:14:20.858 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:14:20.860 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:14:20.861 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:14:20.864 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:14:20.865 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:14:20.867 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:14:20.868 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:14:20.870 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:14:20.871 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:14:20.873 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:14:20.874 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:14:20.876 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:14:20.877 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:14:20.879 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:14:20.881 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:14:20.882 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:14:20.884 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:14:20.884 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:14:20.886 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:14:20.887 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:14:20.889 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 22.1375ms
2025-05-14 01:14:20.890 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:14:20.891 +03:00 [DBG] Connection id "0HNCID4IM013T" completed keep alive response.
2025-05-14 01:14:20.892 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 106 application/json; charset=utf-8 47.5651ms
2025-05-14 01:14:27.271 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:49464/api/Savings - application/json-patch+json 45
2025-05-14 01:14:27.276 +03:00 [DBG] PUT requests are not supported
2025-05-14 01:14:27.277 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:14:27.278 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:14:27.279 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:14:27.281 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:14:27.281 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:14:27.283 +03:00 [DBG] Authorization was successful.
2025-05-14 01:14:27.283 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:14:27.285 +03:00 [INF] Route matched with {action = "UpdateSaving", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateSaving(Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:14:27.287 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:14:27.289 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:14:27.291 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:14:27.294 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:14:27.295 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:14:27.297 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:14:27.298 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:14:27.300 +03:00 [DBG] Attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' ...
2025-05-14 01:14:27.301 +03:00 [DBG] Attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' using the name '' in request data ...
2025-05-14 01:14:27.303 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:14:27.304 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:14:27.306 +03:00 [DBG] Connection id "0HNCID4IM013T", Request id "0HNCID4IM013T:00000009": started reading request body.
2025-05-14 01:14:27.307 +03:00 [DBG] Connection id "0HNCID4IM013T", Request id "0HNCID4IM013T:00000009": done reading request body.
2025-05-14 01:14:27.309 +03:00 [DBG] Done attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:14:27.310 +03:00 [DBG] Done attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:14:27.311 +03:00 [DBG] Attempting to validate the bound parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' ...
2025-05-14 01:14:27.312 +03:00 [DBG] Done attempting to validate the bound parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:14:27.383 +03:00 [ERR] Validation failed. Errors: ["{ Field = topUpAmount, Error = 'top Up Amount' must not be empty. }","{ Field = topUpAmount, Error = Top up amount must be greater than 0. }"]
2025-05-14 01:14:27.386 +03:00 [DBG] Request was short circuited at action filter 'Finance_Manager_Backend.Middleware.ValidationFilter'.
2025-05-14 01:14:27.387 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:14:27.392 +03:00 [DBG] No information found on request to perform content negotiation.
2025-05-14 01:14:27.393 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:14:27.394 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:14:27.394 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:14:27.397 +03:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-14 01:14:27.407 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend) in 109.9601ms
2025-05-14 01:14:27.408 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:14:27.409 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:14:27.412 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:14:27.413 +03:00 [DBG] Connection id "0HNCID4IM013T" completed keep alive response.
2025-05-14 01:14:27.414 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:14:27.415 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:49464/api/Savings - 400 184 application/json; charset=utf-8 144.4491ms
2025-05-14 01:14:27.416 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:14:27.422 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:14:27.423 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:14:27.424 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:14:27.426 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:14:27.427 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:14:27.429 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:14:27.430 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:14:27.432 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:14:27.434 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:14:27.436 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:14:27.438 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:14:27.439 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:14:27.441 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:14:27.443 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:14:27.444 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:14:27.446 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:14:27.447 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:14:27.448 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:14:27.450 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:14:27.452 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:14:27.454 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:14:27.455 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:14:27.456 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:14:27.457 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:14:27.458 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:14:27.460 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 22.1897ms
2025-05-14 01:14:27.461 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:14:27.462 +03:00 [DBG] Connection id "0HNCID4IM013U" completed keep alive response.
2025-05-14 01:14:27.464 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 106 application/json; charset=utf-8 55.5024ms
2025-05-14 01:15:05.294 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:49464/api/Savings - application/json-patch+json 49
2025-05-14 01:15:05.299 +03:00 [DBG] PUT requests are not supported
2025-05-14 01:15:05.300 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:15:05.301 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:15:05.303 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:15:05.306 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:15:05.306 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:15:05.307 +03:00 [DBG] Authorization was successful.
2025-05-14 01:15:05.309 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:15:05.310 +03:00 [INF] Route matched with {action = "UpdateSaving", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateSaving(Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:15:05.312 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:15:05.313 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:15:05.314 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:15:05.316 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:15:05.317 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:15:05.319 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:15:05.320 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:15:05.323 +03:00 [DBG] Attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' ...
2025-05-14 01:15:05.324 +03:00 [DBG] Attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' using the name '' in request data ...
2025-05-14 01:15:05.325 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:15:05.326 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:15:05.327 +03:00 [DBG] Connection id "0HNCID4IM013T", Request id "0HNCID4IM013T:0000000A": started reading request body.
2025-05-14 01:15:05.329 +03:00 [DBG] Connection id "0HNCID4IM013T", Request id "0HNCID4IM013T:0000000A": done reading request body.
2025-05-14 01:15:05.330 +03:00 [DBG] Done attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:15:05.331 +03:00 [DBG] Done attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:15:05.332 +03:00 [DBG] Attempting to validate the bound parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' ...
2025-05-14 01:15:05.333 +03:00 [DBG] Done attempting to validate the bound parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:15:05.334 +03:00 [INF] Executing UdateSavingAsync method
2025-05-14 01:15:05.335 +03:00 [INF] Start ExecuteTransactionAsync method.
2025-05-14 01:15:05.337 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:15:05.347 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:15:05.348 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:15:05.349 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:15:05.351 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:15:05.352 +03:00 [DBG] Beginning transaction with isolation level 'ReadCommitted'.
2025-05-14 01:15:05.354 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-05-14 01:15:05.355 +03:00 [DBG] Start db transaction.
2025-05-14 01:15:05.357 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:15:05.358 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:15:05.360 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:15:05.361 +03:00 [DBG] Executing DbCommand [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-05-14 01:15:05.365 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-05-14 01:15:05.367 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:15:05.369 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:15:05.370 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-05-14 01:15:05.372 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:15:05.373 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:15:05.374 +03:00 [DBG] The unchanged property 'Saving.CurrentAmount' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:15:05.376 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:15:05.378 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:15:05.379 +03:00 [DBG] Creating transaction savepoint.
2025-05-14 01:15:05.381 +03:00 [DBG] Created transaction savepoint.
2025-05-14 01:15:05.382 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:15:05.383 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:15:05.384 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:15:05.386 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [savings] SET [current_amount] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:15:05.390 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [savings] SET [current_amount] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:15:05.392 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:15:05.395 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-05-14 01:15:05.396 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:15:05.399 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:15:05.400 +03:00 [DBG] Committing transaction.
2025-05-14 01:15:05.402 +03:00 [DBG] Committed transaction.
2025-05-14 01:15:05.403 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:15:05.405 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:15:05.406 +03:00 [INF] Transaction successful.
2025-05-14 01:15:05.407 +03:00 [DBG] Disposing transaction.
2025-05-14 01:15:05.409 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-05-14 01:15:05.410 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend) in 91.0948ms
2025-05-14 01:15:05.411 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:15:05.412 +03:00 [DBG] Connection id "0HNCID4IM013T" completed keep alive response.
2025-05-14 01:15:05.413 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:15:05.415 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:15:05.416 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:15:05.418 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:49464/api/Savings - 204 null null 124.0543ms
2025-05-14 01:15:05.423 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:15:05.426 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:15:05.428 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:15:05.429 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:15:05.430 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:15:05.432 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:15:05.432 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:15:05.433 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:15:05.435 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:15:05.436 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:15:05.439 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:15:05.441 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:15:05.443 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:15:05.444 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:15:05.446 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:15:05.448 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:15:05.449 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:15:05.450 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:15:05.452 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:15:05.453 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:15:05.455 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:15:05.457 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:15:05.458 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:15:05.461 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:15:05.462 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:15:05.463 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:15:05.464 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:15:05.465 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:15:05.466 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:15:05.468 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 21.828ms
2025-05-14 01:15:05.475 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:15:05.476 +03:00 [DBG] Connection id "0HNCID4IM013T" completed keep alive response.
2025-05-14 01:15:05.477 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 107 application/json; charset=utf-8 53.8559ms
2025-05-14 01:15:10.456 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'CurrencyConverterService'
2025-05-14 01:15:20.470 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:15:20.472 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
2025-05-14 01:15:26.533 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:49464/api/Savings - application/json-patch+json 46
2025-05-14 01:15:26.536 +03:00 [DBG] PUT requests are not supported
2025-05-14 01:15:26.537 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:15:26.538 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:15:26.540 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:15:26.542 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:15:26.543 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:15:26.544 +03:00 [DBG] Authorization was successful.
2025-05-14 01:15:26.545 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:15:26.546 +03:00 [INF] Route matched with {action = "UpdateSaving", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateSaving(Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:15:26.549 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:15:26.551 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:15:26.553 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:15:26.555 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:15:26.556 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:15:26.558 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:15:26.560 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:15:26.562 +03:00 [DBG] Attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' ...
2025-05-14 01:15:26.565 +03:00 [DBG] Attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' using the name '' in request data ...
2025-05-14 01:15:26.567 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:15:26.568 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:15:26.569 +03:00 [DBG] Connection id "0HNCID4IM013T", Request id "0HNCID4IM013T:0000000C": started reading request body.
2025-05-14 01:15:26.570 +03:00 [DBG] Connection id "0HNCID4IM013T", Request id "0HNCID4IM013T:0000000C": done reading request body.
2025-05-14 01:15:26.572 +03:00 [DBG] Done attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:15:26.573 +03:00 [DBG] Done attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:15:26.574 +03:00 [DBG] Attempting to validate the bound parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' ...
2025-05-14 01:15:26.575 +03:00 [DBG] Done attempting to validate the bound parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:15:26.576 +03:00 [INF] Executing UdateSavingAsync method
2025-05-14 01:15:26.577 +03:00 [INF] Start ExecuteTransactionAsync method.
2025-05-14 01:15:26.579 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:15:26.580 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:15:26.581 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:15:26.582 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:15:26.583 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:15:26.584 +03:00 [DBG] Beginning transaction with isolation level 'ReadCommitted'.
2025-05-14 01:15:26.585 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-05-14 01:15:26.586 +03:00 [DBG] Start db transaction.
2025-05-14 01:15:26.587 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:15:26.588 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 01:15:26.589 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:15:26.590 +03:00 [DBG] Executing DbCommand [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-05-14 01:15:26.594 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-05-14 01:15:26.597 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:15:26.598 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:15:26.600 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-05-14 01:15:26.601 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:15:26.603 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:15:26.604 +03:00 [DBG] The unchanged property 'Saving.CurrentAmount' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:15:26.605 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:15:26.608 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:15:26.609 +03:00 [DBG] Creating transaction savepoint.
2025-05-14 01:15:26.610 +03:00 [DBG] Created transaction savepoint.
2025-05-14 01:15:26.611 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:15:26.613 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:15:26.614 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:15:26.616 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [savings] SET [current_amount] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:15:26.620 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [savings] SET [current_amount] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:15:26.622 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:15:26.624 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 01:15:26.626 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:15:26.628 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:15:26.629 +03:00 [DBG] Committing transaction.
2025-05-14 01:15:26.630 +03:00 [DBG] Committed transaction.
2025-05-14 01:15:26.631 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:15:26.633 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:15:26.635 +03:00 [INF] Transaction successful.
2025-05-14 01:15:26.635 +03:00 [DBG] Disposing transaction.
2025-05-14 01:15:26.636 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-05-14 01:15:26.637 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend) in 79.476ms
2025-05-14 01:15:26.639 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:15:26.640 +03:00 [DBG] Connection id "0HNCID4IM013T" completed keep alive response.
2025-05-14 01:15:26.641 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:15:26.642 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:15:26.644 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:15:26.645 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:49464/api/Savings - 204 null null 112.0303ms
2025-05-14 01:15:26.649 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:15:26.651 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:15:26.652 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:15:26.653 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:15:26.655 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:15:26.656 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:15:26.657 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:15:26.658 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:15:26.659 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:15:26.661 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:15:26.662 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:15:26.664 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:15:26.666 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:15:26.667 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:15:26.668 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:15:26.670 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:15:26.671 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:15:26.672 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:15:26.673 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:15:26.675 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:15:26.676 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:15:26.677 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:15:26.679 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:15:26.681 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:15:26.682 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:15:26.683 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:15:26.684 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:15:26.685 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:15:26.686 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:15:26.688 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 19.5224ms
2025-05-14 01:15:26.689 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:15:26.690 +03:00 [DBG] Connection id "0HNCID4IM013T" completed keep alive response.
2025-05-14 01:15:26.692 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 107 application/json; charset=utf-8 42.8237ms
2025-05-14 01:15:30.487 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:15:30.488 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 1 items
2025-05-14 01:15:39.030 +03:00 [DBG] Connection id "0HNCID4IM013U" received FIN.
2025-05-14 01:15:39.033 +03:00 [DBG] Connection id "0HNCID4IM013U" disconnecting.
2025-05-14 01:15:39.034 +03:00 [DBG] Connection id "0HNCID4IM013U" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-14 01:15:39.051 +03:00 [DBG] Connection id "0HNCID4IM013U" stopped.
2025-05-14 01:15:40.493 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:15:40.495 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 1 items
2025-05-14 01:15:50.498 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:15:50.504 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 1 items
2025-05-14 01:16:00.512 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:16:00.516 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
2025-05-14 01:16:10.515 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:16:10.518 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
2025-05-14 01:16:20.536 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:16:20.538 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
2025-05-14 01:16:24.516 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:49464/api/Savings/1316 - null null
2025-05-14 01:16:24.530 +03:00 [DBG] DELETE requests are not supported
2025-05-14 01:16:24.531 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings/1316'
2025-05-14 01:16:24.532 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.DeleteSaving (Finance_Manager_Backend)' with route pattern 'api/Savings/{id}' is valid for the request path '/api/Savings/1316'
2025-05-14 01:16:24.533 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.DeleteSaving (Finance_Manager_Backend)'
2025-05-14 01:16:24.536 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:16:24.537 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:16:24.538 +03:00 [DBG] Authorization was successful.
2025-05-14 01:16:24.539 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.DeleteSaving (Finance_Manager_Backend)'
2025-05-14 01:16:24.548 +03:00 [INF] Route matched with {action = "DeleteSaving", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteSaving(Int32) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:16:24.552 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:16:24.556 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:16:24.558 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:16:24.561 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:16:24.563 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:16:24.566 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:16:24.569 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:16:24.571 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:16:24.573 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:16:24.575 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:16:24.576 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:16:24.577 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:16:24.579 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:16:24.581 +03:00 [INF] Executing DeleteSavingAsync method.
2025-05-14 01:16:24.582 +03:00 [INF] Start ExecuteTransactionAsync method.
2025-05-14 01:16:24.584 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:16:24.586 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:16:24.587 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:16:24.588 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:16:24.590 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:16:24.591 +03:00 [DBG] Beginning transaction with isolation level 'ReadCommitted'.
2025-05-14 01:16:24.592 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-05-14 01:16:24.594 +03:00 [DBG] Start db transaction.
2025-05-14 01:16:24.595 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:16:24.596 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:16:24.598 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:16:24.599 +03:00 [DBG] Executing DbCommand [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-05-14 01:16:24.605 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-05-14 01:16:24.609 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:16:24.612 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:16:24.614 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-05-14 01:16:24.618 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:16:24.621 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:16:24.622 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:16:24.624 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:16:24.625 +03:00 [DBG] Creating transaction savepoint.
2025-05-14 01:16:24.627 +03:00 [DBG] Created transaction savepoint.
2025-05-14 01:16:24.628 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:16:24.629 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:16:24.631 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:16:24.632 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [savings]
OUTPUT 1
WHERE [id] = @p0;
2025-05-14 01:16:24.681 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [savings]
OUTPUT 1
WHERE [id] = @p0;
2025-05-14 01:16:24.684 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:16:24.686 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 01:16:24.688 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:16:24.691 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:16:24.692 +03:00 [DBG] Committing transaction.
2025-05-14 01:16:24.694 +03:00 [DBG] Committed transaction.
2025-05-14 01:16:24.694 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:16:24.696 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:16:24.697 +03:00 [INF] Transaction successful.
2025-05-14 01:16:24.698 +03:00 [DBG] Disposing transaction.
2025-05-14 01:16:24.699 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-05-14 01:16:24.700 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.DeleteSaving (Finance_Manager_Backend) in 134.2947ms
2025-05-14 01:16:24.701 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.DeleteSaving (Finance_Manager_Backend)'
2025-05-14 01:16:24.702 +03:00 [DBG] Connection id "0HNCID4IM013T" completed keep alive response.
2025-05-14 01:16:24.705 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:16:24.706 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:16:24.707 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:16:24.709 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:49464/api/Savings/1316 - 204 null null 192.9433ms
2025-05-14 01:16:24.712 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:16:24.715 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:16:24.716 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:16:24.717 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:16:24.719 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:16:24.720 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:16:24.721 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:16:24.722 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:16:24.723 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:16:24.725 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:16:24.726 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:16:24.728 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:16:24.730 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:16:24.731 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:16:24.733 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:16:24.734 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:16:24.738 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:16:24.739 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:16:24.741 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:16:24.742 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:16:24.743 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:16:24.744 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:16:24.746 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:16:24.748 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:16:24.749 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:16:24.751 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:16:24.752 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:16:24.753 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:16:24.754 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:16:24.755 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 22.886ms
2025-05-14 01:16:24.757 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:16:24.759 +03:00 [DBG] Connection id "0HNCID4IM013T" completed keep alive response.
2025-05-14 01:16:24.760 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 107 application/json; charset=utf-8 47.814ms
2025-05-14 01:16:30.542 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:16:30.545 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 1 items
2025-05-14 01:16:40.553 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:16:40.554 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
2025-05-14 01:16:50.559 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:16:50.560 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 1 items
2025-05-14 01:17:00.572 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:17:00.574 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
2025-05-14 01:17:10.581 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:17:10.583 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
2025-05-14 01:17:20.590 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:17:20.592 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 1 items
2025-05-14 01:17:26.558 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'CurrencyConverterService'
2025-05-14 01:17:30.609 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-05-14 01:17:30.611 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 1 items - remaining: 1 items
2025-05-14 01:17:39.078 +03:00 [DBG] Connection id "0HNCID4IM013T" received FIN.
2025-05-14 01:17:39.080 +03:00 [DBG] Connection id "0HNCID4IM013T" disconnecting.
2025-05-14 01:17:39.084 +03:00 [DBG] Connection id "0HNCID4IM013T" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-14 01:17:39.086 +03:00 [DBG] Connection id "0HNCID4IM013T" stopped.
2025-05-14 01:17:40.616 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:17:40.624 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
2025-05-14 01:17:50.624 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:17:50.627 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1195ms - processed: 0 items - remaining: 1 items
2025-05-14 01:18:00.640 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:18:00.643 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 1 items
2025-05-14 01:18:03.381 +03:00 [DBG] Connection id "0HNCID4IM013V" accepted.
2025-05-14 01:18:03.399 +03:00 [DBG] Connection id "0HNCID4IM013V" started.
2025-05-14 01:18:03.402 +03:00 [DBG] Connection 0HNCID4IM013V established using the following protocol: "Tls12"
2025-05-14 01:18:03.404 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:49464/api/Savings - application/json-patch+json 46
2025-05-14 01:18:03.407 +03:00 [DBG] PUT requests are not supported
2025-05-14 01:18:03.408 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:18:03.409 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:18:03.411 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:18:03.412 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:18:03.413 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:18:03.414 +03:00 [DBG] Authorization was successful.
2025-05-14 01:18:03.416 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:18:03.417 +03:00 [INF] Route matched with {action = "UpdateSaving", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateSaving(Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:18:03.419 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:18:03.420 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:18:03.421 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:18:03.423 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:18:03.424 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:18:03.425 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:18:03.427 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:18:03.429 +03:00 [DBG] Attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' ...
2025-05-14 01:18:03.430 +03:00 [DBG] Attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' using the name '' in request data ...
2025-05-14 01:18:03.433 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:18:03.434 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:18:03.436 +03:00 [DBG] Connection id "0HNCID4IM013V", Request id "0HNCID4IM013V:00000001": started reading request body.
2025-05-14 01:18:03.437 +03:00 [DBG] Connection id "0HNCID4IM013V", Request id "0HNCID4IM013V:00000001": done reading request body.
2025-05-14 01:18:03.439 +03:00 [DBG] Done attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:18:03.440 +03:00 [DBG] Done attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:18:03.441 +03:00 [DBG] Attempting to validate the bound parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' ...
2025-05-14 01:18:03.443 +03:00 [DBG] Done attempting to validate the bound parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:18:03.444 +03:00 [INF] Executing UdateSavingAsync method
2025-05-14 01:18:03.445 +03:00 [INF] Start ExecuteTransactionAsync method.
2025-05-14 01:18:03.446 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:18:03.448 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:18:03.449 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:18:03.450 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:18:03.452 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:18:03.454 +03:00 [DBG] Beginning transaction with isolation level 'ReadCommitted'.
2025-05-14 01:18:03.455 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-05-14 01:18:03.456 +03:00 [DBG] Start db transaction.
2025-05-14 01:18:03.458 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:18:03.459 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 01:18:03.460 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:18:03.461 +03:00 [DBG] Executing DbCommand [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-05-14 01:18:03.470 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-05-14 01:18:03.472 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:18:03.473 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:18:03.475 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-05-14 01:18:03.476 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:18:03.477 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:18:03.479 +03:00 [DBG] The unchanged property 'Saving.CurrentAmount' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:18:03.480 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:18:03.482 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:18:03.483 +03:00 [DBG] Creating transaction savepoint.
2025-05-14 01:18:03.485 +03:00 [DBG] Created transaction savepoint.
2025-05-14 01:18:03.485 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:18:03.486 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 01:18:03.487 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:18:03.488 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [savings] SET [current_amount] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:18:03.493 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [savings] SET [current_amount] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:18:03.496 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:18:03.497 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 01:18:03.499 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:18:03.501 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:18:03.502 +03:00 [DBG] Committing transaction.
2025-05-14 01:18:03.503 +03:00 [DBG] Committed transaction.
2025-05-14 01:18:03.504 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:18:03.505 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:18:03.507 +03:00 [INF] Transaction successful.
2025-05-14 01:18:03.508 +03:00 [DBG] Disposing transaction.
2025-05-14 01:18:03.509 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-05-14 01:18:03.510 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend) in 85.1168ms
2025-05-14 01:18:03.511 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:18:03.513 +03:00 [DBG] Connection id "0HNCID4IM013V" completed keep alive response.
2025-05-14 01:18:03.514 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:18:03.515 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:18:03.516 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:18:03.517 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:49464/api/Savings - 204 null null 112.997ms
2025-05-14 01:18:03.520 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:18:03.522 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:18:03.522 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:18:03.523 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:18:03.525 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:18:03.526 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:18:03.527 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:18:03.528 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:18:03.529 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:18:03.531 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:18:03.532 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:18:03.534 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:18:03.536 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:18:03.538 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:18:03.539 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:18:03.541 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:18:03.542 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:18:03.544 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:18:03.545 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:18:03.547 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:18:03.548 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:18:03.549 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:18:03.551 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:18:03.554 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:18:03.555 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:18:03.557 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:18:03.558 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:18:03.559 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:18:03.560 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:18:03.562 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 22.1248ms
2025-05-14 01:18:03.563 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:18:03.566 +03:00 [DBG] Connection id "0HNCID4IM013V" completed keep alive response.
2025-05-14 01:18:03.568 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 107 application/json; charset=utf-8 48.3132ms
2025-05-14 01:18:10.644 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:18:10.649 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 1 items
2025-05-14 01:18:20.663 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:18:20.665 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:18:30.663 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:18:30.665 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
2025-05-14 01:18:40.669 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:18:40.672 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-05-14 01:18:50.680 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:18:50.682 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:19:00.685 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:19:00.686 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:19:10.698 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:19:10.699 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-05-14 01:19:13.751 +03:00 [DBG] Connection id "0HNCID4IM013V" reset.
2025-05-14 01:19:13.753 +03:00 [DBG] Connection id "0HNCID4IM013V" disconnecting.
2025-05-14 01:19:13.754 +03:00 [DBG] Connection id "0HNCID4IM013V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-14 01:19:13.756 +03:00 [DBG] Connection id "0HNCID4IM013V" stopped.
2025-05-14 01:19:20.708 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:19:20.709 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:19:30.717 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:19:30.719 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-05-14 01:19:40.724 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:19:40.729 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:19:50.737 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:19:50.739 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:20:00.742 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:20:00.743 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-05-14 01:20:03.440 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'CurrencyConverterService'
2025-05-14 01:20:10.759 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-05-14 01:20:10.760 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 1 items - remaining: 1 items
2025-05-14 01:20:20.765 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:20:20.767 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-05-14 01:20:30.773 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:20:30.777 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:20:40.785 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:20:40.786 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:20:50.801 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:20:50.802 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 1 items
2025-05-14 01:21:00.826 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:21:00.828 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-05-14 01:21:10.843 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:21:10.844 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:21:20.859 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:21:20.861 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:21:30.877 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:21:30.879 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:21:40.883 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:21:40.885 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:21:50.888 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:21:50.889 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:22:00.895 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:22:00.897 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:22:10.911 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:22:10.913 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 1 items
2025-05-14 01:22:20.936 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:22:20.937 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:22:30.949 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:22:30.950 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:22:41.007 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:22:41.008 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-05-14 01:22:51.016 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:22:51.017 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:23:01.033 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:23:01.037 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-05-14 01:23:11.056 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:23:11.057 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:23:21.075 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:23:21.077 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:23:31.088 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:23:31.089 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:23:41.100 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:23:41.103 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
2025-05-14 01:23:51.115 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:23:51.116 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-05-14 01:24:01.135 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:24:01.137 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-05-14 01:24:11.139 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:24:11.140 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:24:21.159 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:24:21.161 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:24:31.162 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:24:31.163 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-05-14 01:24:41.181 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:24:41.183 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:24:51.195 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:24:51.196 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:25:01.206 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:25:01.208 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:25:11.218 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:25:11.219 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:25:21.228 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:25:21.230 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:25:31.241 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:25:31.242 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:25:41.252 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:25:41.254 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:25:51.260 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:25:51.261 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:26:01.273 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:26:01.275 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:26:11.290 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:26:11.291 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:26:21.306 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:26:21.308 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:26:31.331 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:26:31.332 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:26:41.343 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:26:41.345 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:26:51.354 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:26:51.355 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0174ms - processed: 0 items - remaining: 1 items
2025-05-14 01:27:01.382 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:27:01.384 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:27:11.385 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:27:11.388 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:27:21.391 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:27:21.392 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:27:31.408 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:27:31.410 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
2025-05-14 01:27:40.795 +03:00 [DBG] Connection id "0HNCID4IM0140" accepted.
2025-05-14 01:27:40.973 +03:00 [DBG] Connection id "0HNCID4IM0140" started.
2025-05-14 01:27:41.040 +03:00 [DBG] Connection 0HNCID4IM0140 established using the following protocol: "Tls12"
2025-05-14 01:27:41.424 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:27:41.428 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:27:41.576 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - application/json-patch+json 90
2025-05-14 01:27:41.598 +03:00 [DBG] POST requests are not supported
2025-05-14 01:27:41.600 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/refresh-token'
2025-05-14 01:27:41.601 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)' with route pattern 'api/Auth/refresh-token' is valid for the request path '/api/Auth/refresh-token'
2025-05-14 01:27:41.603 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:27:41.604 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-14 01:27:41.605 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:27:41.608 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO]] RefreshToken(System.String) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-05-14 01:27:41.618 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:27:41.627 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:27:41.635 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:27:41.641 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:27:41.643 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:27:41.645 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 01:27:41.647 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 01:27:41.649 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' ...
2025-05-14 01:27:41.651 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' using the name '' in request data ...
2025-05-14 01:27:41.652 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:27:41.654 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:27:41.655 +03:00 [DBG] Connection id "0HNCID4IM0140", Request id "0HNCID4IM0140:00000001": started reading request body.
2025-05-14 01:27:41.656 +03:00 [DBG] Connection id "0HNCID4IM0140", Request id "0HNCID4IM0140:00000001": done reading request body.
2025-05-14 01:27:41.657 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:27:41.660 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:27:41.661 +03:00 [DBG] Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ...
2025-05-14 01:27:41.662 +03:00 [DBG] Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:27:41.665 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:27:41.667 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:27:41.668 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:27:41.669 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:41.678 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:41.679 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:27:41.680 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 01:27:41.682 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:27:41.683 +03:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 01:27:41.688 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 01:27:41.690 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:41.692 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:41.693 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-05-14 01:27:41.695 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:41.696 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:27:41.699 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:41.700 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:41.701 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:27:41.702 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 01:27:41.703 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:27:41.705 +03:00 [DBG] Executing DbCommand [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 01:27:41.710 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 01:27:41.716 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:41.718 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:41.720 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:41.723 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 6ms reading results.
2025-05-14 01:27:41.726 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:41.728 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:27:41.730 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:27:41.734 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:27:41.736 +03:00 [DBG] The unchanged property 'RefreshToken.IsRevoked' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:27:41.738 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:41.741 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:27:41.743 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:41.745 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:41.750 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:27:41.752 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:27:41.756 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-05-14 01:27:41.758 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:27:41.768 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:27:41.775 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:41.777 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-05-14 01:27:41.780 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:41.784 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (3ms).
2025-05-14 01:27:41.788 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:41.791 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:27:41.793 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'RefreshToken.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:41.797 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:41.800 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:41.803 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:27:41.806 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:27:41.808 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:27:41.810 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:41.812 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:41.817 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:27:41.820 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:27:41.823 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-05-14 01:27:41.828 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 01:27:41.840 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 01:27:41.842 +03:00 [DBG] The foreign key property 'RefreshToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:27:41.843 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:41.845 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-05-14 01:27:41.847 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:41.849 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-05-14 01:27:41.852 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:41.855 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:27:41.856 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:27:41.858 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:27:41.859 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:27:41.867 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:27:41.868 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:27:41.868 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:27:41.870 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO'.
2025-05-14 01:27:41.871 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend) in 226.3741ms
2025-05-14 01:27:41.873 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:27:41.874 +03:00 [DBG] Connection id "0HNCID4IM0140" completed keep alive response.
2025-05-14 01:27:41.879 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:27:41.885 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:41.886 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:27:41.891 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - 200 521 application/json; charset=utf-8 315.1256ms
2025-05-14 01:27:50.673 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:27:50.685 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:27:50.698 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:27:50.701 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:27:50.719 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:27:50.720 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:27:50.723 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:27:50.735 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:27:50.746 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:27:50.748 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:27:50.749 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:27:50.750 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:27:50.752 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:27:50.754 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:27:50.758 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:27:50.759 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:27:50.761 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:27:50.762 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:27:50.765 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:27:50.766 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:27:50.778 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:27:50.780 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:27:50.781 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:27:50.787 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:27:50.800 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:27:50.802 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:27:50.803 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:27:50.804 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:27:50.814 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:27:50.816 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 57.9025ms
2025-05-14 01:27:50.817 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:27:50.818 +03:00 [DBG] Connection id "0HNCID4IM0140" completed keep alive response.
2025-05-14 01:27:50.819 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 102 application/json; charset=utf-8 145.7447ms
2025-05-14 01:27:50.985 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Categories - null null
2025-05-14 01:27:50.988 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:27:50.990 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Categories'
2025-05-14 01:27:50.994 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)' with route pattern 'api/Categories' is valid for the request path '/api/Categories'
2025-05-14 01:27:50.996 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:27:50.997 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:27:50.998 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:27:50.999 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:27:51.000 +03:00 [INF] Route matched with {action = "GetAllCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO]]] GetAllCategories() on controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend).
2025-05-14 01:27:51.002 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:27:51.004 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:27:51.030 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:27:51.032 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:27:51.033 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:27:51.034 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 01:27:51.036 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 01:27:51.038 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:27:51.041 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:27:51.042 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:27:51.043 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:51.045 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:51.046 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:27:51.047 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:27:51.048 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:27:51.050 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 01:27:51.054 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 01:27:51.058 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:51.060 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:51.061 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:51.063 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:51.064 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:51.065 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:51.067 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 9ms reading results.
2025-05-14 01:27:51.068 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:51.070 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:27:51.075 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:27:51.077 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:27:51.078 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:27:51.080 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:27:51.081 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:27:51.081 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:27:51.082 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:27:51.084 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend) in 49.3077ms
2025-05-14 01:27:51.090 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:27:51.092 +03:00 [DBG] Connection id "0HNCID4IM0140" completed keep alive response.
2025-05-14 01:27:51.093 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:27:51.095 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:51.096 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:27:51.098 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Categories - 200 736 application/json; charset=utf-8 113.0016ms
2025-05-14 01:27:51.147 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T22%3A27%3A51&pageSize=10 - null null
2025-05-14 01:27:51.152 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:27:51.153 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions'
2025-05-14 01:27:51.154 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)' with route pattern 'api/Transactions' is valid for the request path '/api/Transactions'
2025-05-14 01:27:51.156 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:27:51.157 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:27:51.158 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:27:51.159 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:27:51.160 +03:00 [INF] Route matched with {action = "GetTransactions", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO]]] GetTransactions(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-05-14 01:27:51.162 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:27:51.164 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:27:51.166 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:27:51.169 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:27:51.170 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:27:51.172 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 01:27:51.174 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 01:27:51.175 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 01:27:51.177 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' using the name '' in request data ...
2025-05-14 01:27:51.178 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:27:51.181 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:27:51.182 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]' using the name 'lastDate' in request data ...
2025-05-14 01:27:51.184 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]'.
2025-05-14 01:27:51.186 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:27:51.188 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:27:51.190 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:27:51.191 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:27:51.193 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 01:27:51.194 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:27:51.196 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:27:51.199 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:27:51.200 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:27:51.201 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:51.202 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:51.204 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:27:51.205 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:27:51.206 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:27:51.208 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 01:27:51.218 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 01:27:51.220 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:51.225 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:51.233 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:51.236 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:51.240 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:51.242 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:51.249 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:51.251 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:51.254 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:51.260 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:51.263 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:51.266 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 45ms reading results.
2025-05-14 01:27:51.269 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:51.271 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-05-14 01:27:51.318 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:27:51.321 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:27:51.326 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:27:51.328 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:27:51.329 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:27:51.330 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:27:51.332 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:27:51.335 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend) in 162.6762ms
2025-05-14 01:27:51.344 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:27:51.346 +03:00 [DBG] Connection id "0HNCID4IM0140" completed keep alive response.
2025-05-14 01:27:51.347 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:27:51.348 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:51.349 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:27:51.351 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T22%3A27%3A51&pageSize=10 - 200 1343 application/json; charset=utf-8 203.6998ms
2025-05-14 01:27:51.371 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - null null
2025-05-14 01:27:51.378 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:27:51.380 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:27:51.382 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:27:51.385 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:27:51.390 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:27:51.392 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:27:51.393 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:27:51.395 +03:00 [INF] Route matched with {action = "GetSavings", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO]]] GetSavings(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:27:51.397 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:27:51.398 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:27:51.400 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:27:51.402 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:27:51.405 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:27:51.406 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:27:51.408 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:27:51.409 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:27:51.411 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' using the name '' in request data ...
2025-05-14 01:27:51.413 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:27:51.415 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:27:51.416 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32' using the name 'previousSavingId' in request data ...
2025-05-14 01:27:51.418 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32'.
2025-05-14 01:27:51.425 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:27:51.427 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:27:51.429 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:27:51.430 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:27:51.432 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:27:51.433 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:27:51.435 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:27:51.435 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:27:51.436 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:27:51.438 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:27:51.442 +03:00 [DBG] Created DbConnection. (3ms).
2025-05-14 01:27:51.443 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:51.444 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:51.446 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:27:51.447 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:27:51.448 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:27:51.450 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:27:51.458 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:27:51.460 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:51.461 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:51.462 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:51.463 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:27:51.465 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:51.466 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 6ms reading results.
2025-05-14 01:27:51.468 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:51.469 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:27:51.471 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:27:51.473 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:27:51.475 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:27:51.476 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:27:51.477 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:27:51.478 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:27:51.479 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:27:51.480 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend) in 74.2154ms
2025-05-14 01:27:51.482 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:27:51.486 +03:00 [DBG] Connection id "0HNCID4IM0140" completed keep alive response.
2025-05-14 01:27:51.487 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:27:51.493 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:27:51.495 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-05-14 01:27:51.499 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - 200 335 application/json; charset=utf-8 127.578ms
2025-05-14 01:28:01.452 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:28:01.454 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:28:06.040 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:49464/api/Savings - application/json-patch+json 84
2025-05-14 01:28:06.047 +03:00 [DBG] POST requests are not supported
2025-05-14 01:28:06.048 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:28:06.050 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.CreateSaving (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:28:06.052 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.CreateSaving (Finance_Manager_Backend)'
2025-05-14 01:28:06.053 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:28:06.054 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:28:06.058 +03:00 [DBG] Authorization was successful.
2025-05-14 01:28:06.059 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.CreateSaving (Finance_Manager_Backend)'
2025-05-14 01:28:06.061 +03:00 [INF] Route matched with {action = "CreateSaving", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] CreateSaving(Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:28:06.063 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:28:06.065 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:28:06.067 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:28:06.070 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:28:06.072 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:28:06.073 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:28:06.075 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:28:06.076 +03:00 [DBG] Attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO' ...
2025-05-14 01:28:06.078 +03:00 [DBG] Attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO' using the name '' in request data ...
2025-05-14 01:28:06.079 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:28:06.081 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:28:06.082 +03:00 [DBG] Connection id "0HNCID4IM0140", Request id "0HNCID4IM0140:00000006": started reading request body.
2025-05-14 01:28:06.083 +03:00 [DBG] Connection id "0HNCID4IM0140", Request id "0HNCID4IM0140:00000006": done reading request body.
2025-05-14 01:28:06.088 +03:00 [DBG] Done attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO'.
2025-05-14 01:28:06.093 +03:00 [DBG] Done attempting to bind parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO'.
2025-05-14 01:28:06.095 +03:00 [DBG] Attempting to validate the bound parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO' ...
2025-05-14 01:28:06.097 +03:00 [DBG] Done attempting to validate the bound parameter 'savingDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO'.
2025-05-14 01:28:06.100 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:28:06.109 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Saving.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:28:06.110 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:28:06.111 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:28:06.112 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:28:06.113 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:28:06.115 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:28:06.136 +03:00 [DBG] Created DbConnection. (21ms).
2025-05-14 01:28:06.138 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:28:06.146 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:28:06.152 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:28:06.155 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-05-14 01:28:06.157 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-05-14 01:28:06.160 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [savings] ([goal], [name], [user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount]
VALUES (@p0, @p1, @p2);
2025-05-14 01:28:06.171 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [savings] ([goal], [name], [user_fk])
OUTPUT INSERTED.[id], INSERTED.[current_amount]
VALUES (@p0, @p1, @p2);
2025-05-14 01:28:06.176 +03:00 [DBG] The foreign key property 'Saving.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:28:06.178 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:28:06.181 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-05-14 01:28:06.233 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:28:06.240 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (6ms).
2025-05-14 01:28:06.245 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:28:06.248 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:28:06.250 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:28:06.254 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:28:06.263 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:28:06.266 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:28:06.269 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:28:06.287 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:28:06.289 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Int32'.
2025-05-14 01:28:06.294 +03:00 [DBG] Found the endpoints ["Finance_Manager_Backend.Controllers.SavingsController.GetSavingById (Finance_Manager_Backend)"] for address (id=[1317],action=[GetSavingById],controller=[Savings])
2025-05-14 01:28:06.311 +03:00 [DBG] Successfully processed template api/Savings/{id} for Finance_Manager_Backend.Controllers.SavingsController.GetSavingById (Finance_Manager_Backend) resulting in /api/Savings/1317 and 
2025-05-14 01:28:06.314 +03:00 [DBG] Link generation succeeded for endpoints ["Finance_Manager_Backend.Controllers.SavingsController.GetSavingById (Finance_Manager_Backend)"] with result /api/Savings/1317
2025-05-14 01:28:06.316 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.CreateSaving (Finance_Manager_Backend) in 242.872ms
2025-05-14 01:28:06.322 +03:00 [DBG] Connection id "0HNCID4IM0141" accepted.
2025-05-14 01:28:06.325 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.CreateSaving (Finance_Manager_Backend)'
2025-05-14 01:28:06.327 +03:00 [DBG] Connection id "0HNCID4IM0141" started.
2025-05-14 01:28:06.328 +03:00 [DBG] Connection id "0HNCID4IM0140" completed keep alive response.
2025-05-14 01:28:06.330 +03:00 [DBG] Connection 0HNCID4IM0141 established using the following protocol: "Tls12"
2025-05-14 01:28:06.331 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:28:06.333 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:28:06.335 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:28:06.339 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:28:06.344 +03:00 [DBG] Disposed connection to database '' on server '' (9ms).
2025-05-14 01:28:06.345 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:28:06.346 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:49464/api/Savings - 201 4 application/json; charset=utf-8 306.2301ms
2025-05-14 01:28:06.348 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:28:06.356 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:28:06.358 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:28:06.358 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:28:06.359 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:28:06.360 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:28:06.362 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:28:06.364 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:28:06.365 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:28:06.367 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:28:06.374 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:28:06.375 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:28:06.377 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:28:06.378 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:28:06.379 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:28:06.381 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:28:06.383 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:28:06.390 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:28:06.396 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:28:06.397 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:28:06.400 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:28:06.445 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:28:06.460 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:28:06.460 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:28:06.461 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:28:06.467 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:28:06.471 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 95.517ms
2025-05-14 01:28:06.472 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:28:06.494 +03:00 [DBG] Connection id "0HNCID4IM0141" completed keep alive response.
2025-05-14 01:28:06.495 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 102 application/json; charset=utf-8 162.0062ms
2025-05-14 01:28:11.474 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:28:11.478 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-05-14 01:28:16.381 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:49464/api/Savings - application/json-patch+json 48
2025-05-14 01:28:16.390 +03:00 [DBG] PUT requests are not supported
2025-05-14 01:28:16.391 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:28:16.393 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:28:16.395 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:28:16.397 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:28:16.398 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:28:16.399 +03:00 [DBG] Authorization was successful.
2025-05-14 01:28:16.400 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:28:16.402 +03:00 [INF] Route matched with {action = "UpdateSaving", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateSaving(Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:28:16.420 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:28:16.424 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:28:16.446 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:28:16.452 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:28:16.455 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:28:16.457 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:28:16.462 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:28:16.465 +03:00 [DBG] Attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' ...
2025-05-14 01:28:16.472 +03:00 [DBG] Attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' using the name '' in request data ...
2025-05-14 01:28:16.474 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:28:16.477 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:28:16.478 +03:00 [DBG] Connection id "0HNCID4IM0140", Request id "0HNCID4IM0140:00000007": started reading request body.
2025-05-14 01:28:16.480 +03:00 [DBG] Connection id "0HNCID4IM0140", Request id "0HNCID4IM0140:00000007": done reading request body.
2025-05-14 01:28:16.481 +03:00 [DBG] Done attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:28:16.483 +03:00 [DBG] Done attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:28:16.489 +03:00 [DBG] Attempting to validate the bound parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' ...
2025-05-14 01:28:16.491 +03:00 [DBG] Done attempting to validate the bound parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:28:16.494 +03:00 [INF] Executing UdateSavingAsync method
2025-05-14 01:28:16.495 +03:00 [INF] Start ExecuteTransactionAsync method.
2025-05-14 01:28:16.497 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:28:16.501 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:28:16.502 +03:00 [DBG] Created DbConnection. (1ms).
2025-05-14 01:28:16.503 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:28:16.505 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:28:16.507 +03:00 [DBG] Beginning transaction with isolation level 'ReadCommitted'.
2025-05-14 01:28:16.509 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-05-14 01:28:16.509 +03:00 [DBG] Start db transaction.
2025-05-14 01:28:16.511 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:28:16.512 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:28:16.514 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:28:16.515 +03:00 [DBG] Executing DbCommand [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-05-14 01:28:16.521 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-05-14 01:28:16.523 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:28:16.524 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:28:16.526 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-05-14 01:28:16.528 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:28:16.529 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:28:16.530 +03:00 [DBG] The unchanged property 'Saving.CurrentAmount' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:28:16.532 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:28:16.534 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:28:16.535 +03:00 [DBG] Creating transaction savepoint.
2025-05-14 01:28:16.536 +03:00 [DBG] Created transaction savepoint.
2025-05-14 01:28:16.537 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:28:16.538 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:28:16.539 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:28:16.541 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [savings] SET [current_amount] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:28:16.546 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [savings] SET [current_amount] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:28:16.550 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:28:16.552 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 01:28:16.553 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:28:16.555 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:28:16.556 +03:00 [DBG] Committing transaction.
2025-05-14 01:28:16.557 +03:00 [DBG] Committed transaction.
2025-05-14 01:28:16.558 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:28:16.561 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (3ms).
2025-05-14 01:28:16.563 +03:00 [INF] Transaction successful.
2025-05-14 01:28:16.564 +03:00 [DBG] Disposing transaction.
2025-05-14 01:28:16.565 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-05-14 01:28:16.566 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend) in 108.2473ms
2025-05-14 01:28:16.567 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:28:16.568 +03:00 [DBG] Connection id "0HNCID4IM0140" completed keep alive response.
2025-05-14 01:28:16.569 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:28:16.570 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:28:16.571 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:28:16.573 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:49464/api/Savings - 204 null null 192.4752ms
2025-05-14 01:28:16.577 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:28:16.580 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:28:16.581 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:28:16.582 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:28:16.584 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:28:16.585 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:28:16.586 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:28:16.587 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:28:16.588 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:28:16.590 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:28:16.591 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:28:16.593 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:28:16.595 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:28:16.596 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:28:16.597 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:28:16.599 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:28:16.600 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:28:16.601 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:28:16.602 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:28:16.603 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:28:16.604 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:28:16.605 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:28:16.606 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:28:16.608 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:28:16.609 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:28:16.612 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:28:16.613 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:28:16.614 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:28:16.616 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:28:16.618 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 20.1577ms
2025-05-14 01:28:16.619 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:28:16.620 +03:00 [DBG] Connection id "0HNCID4IM0140" completed keep alive response.
2025-05-14 01:28:16.621 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 106 application/json; charset=utf-8 44.4593ms
2025-05-14 01:28:21.489 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:28:21.494 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:28:31.509 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:28:31.511 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-05-14 01:28:41.521 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:28:41.525 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:28:51.535 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:28:51.551 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-05-14 01:29:01.560 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:29:01.563 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:29:11.572 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:29:11.573 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 1 items
2025-05-14 01:29:21.578 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:29:21.580 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 1 items - remaining: 0 items
2025-05-14 01:29:25.683 +03:00 [DBG] Connection id "0HNCID4IM0141" received FIN.
2025-05-14 01:29:25.686 +03:00 [DBG] Connection id "0HNCID4IM0140" received FIN.
2025-05-14 01:29:25.693 +03:00 [DBG] Connection id "0HNCID4IM0141" disconnecting.
2025-05-14 01:29:25.696 +03:00 [DBG] Connection id "0HNCID4IM0140" disconnecting.
2025-05-14 01:29:25.696 +03:00 [DBG] Connection id "0HNCID4IM0141" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-14 01:29:25.701 +03:00 [DBG] Connection id "0HNCID4IM0140" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-14 01:29:25.705 +03:00 [DBG] Connection id "0HNCID4IM0140" stopped.
2025-05-14 01:29:25.713 +03:00 [DBG] Connection id "0HNCID4IM0141" stopped.
2025-05-14 01:29:50.761 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'CurrencyConverterService'
2025-05-14 01:30:00.769 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:30:00.771 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:30:10.786 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:30:10.789 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
2025-05-14 01:30:20.803 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:30:20.806 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-05-14 01:30:30.810 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:30:30.811 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-05-14 01:30:40.829 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:30:40.830 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:30:50.844 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:30:50.848 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:31:00.867 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:31:00.869 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:31:10.870 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:31:10.872 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:31:20.902 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:31:20.903 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:31:30.920 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:31:30.930 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:31:40.951 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:31:40.982 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:31:50.982 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:31:50.983 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-05-14 01:32:00.993 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:32:00.995 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
2025-05-14 01:32:10.996 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:32:10.998 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:32:21.019 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:32:21.020 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:32:31.032 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:32:31.525 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:32:41.668 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:32:41.754 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:32:43.706 +03:00 [DBG] Connection id "0HNCID4IM0142" accepted.
2025-05-14 01:32:43.817 +03:00 [DBG] Connection id "0HNCID4IM0142" started.
2025-05-14 01:32:43.834 +03:00 [DBG] Connection 0HNCID4IM0142 established using the following protocol: "Tls12"
2025-05-14 01:32:43.900 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - application/json-patch+json 90
2025-05-14 01:32:43.910 +03:00 [DBG] POST requests are not supported
2025-05-14 01:32:43.910 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/refresh-token'
2025-05-14 01:32:43.912 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)' with route pattern 'api/Auth/refresh-token' is valid for the request path '/api/Auth/refresh-token'
2025-05-14 01:32:43.914 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:32:43.915 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-14 01:32:43.917 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:32:43.918 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO]] RefreshToken(System.String) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-05-14 01:32:43.920 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:32:43.922 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:32:43.924 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:32:43.927 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:32:43.929 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:32:43.931 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 01:32:43.940 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 01:32:43.943 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' ...
2025-05-14 01:32:43.945 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' using the name '' in request data ...
2025-05-14 01:32:43.947 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:32:43.950 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:32:43.952 +03:00 [DBG] Connection id "0HNCID4IM0142", Request id "0HNCID4IM0142:00000001": started reading request body.
2025-05-14 01:32:43.954 +03:00 [DBG] Connection id "0HNCID4IM0142", Request id "0HNCID4IM0142:00000001": done reading request body.
2025-05-14 01:32:43.956 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:32:44.158 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:32:44.177 +03:00 [DBG] Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ...
2025-05-14 01:32:44.179 +03:00 [DBG] Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:32:44.182 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:32:44.184 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:32:44.185 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:32:44.186 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:44.188 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:44.191 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:32:44.194 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:32:44.195 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 01:32:44.197 +03:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 01:32:44.207 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 01:32:44.211 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:44.214 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:44.216 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-05-14 01:32:44.219 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:44.222 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-05-14 01:32:44.224 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:44.271 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:44.273 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:32:44.275 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:32:44.279 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-05-14 01:32:44.405 +03:00 [DBG] Executing DbCommand [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 01:32:44.450 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 01:32:44.468 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:44.499 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:44.503 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:44.506 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 37ms reading results.
2025-05-14 01:32:44.511 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:44.514 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-05-14 01:32:44.518 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:32:44.520 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:32:44.522 +03:00 [DBG] The unchanged property 'RefreshToken.IsRevoked' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:32:44.525 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:44.545 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:32:44.562 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:44.567 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:44.571 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:32:44.573 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:32:44.575 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 01:32:44.578 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:32:44.586 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:32:44.589 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:44.591 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 01:32:44.594 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:44.596 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:32:44.599 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:44.602 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:32:44.604 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'RefreshToken.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:44.607 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:44.618 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:44.620 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:32:44.621 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:32:44.623 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:32:44.636 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:44.650 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:44.655 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:32:44.661 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-05-14 01:32:44.668 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-05-14 01:32:44.677 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 01:32:44.694 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 01:32:44.706 +03:00 [DBG] The foreign key property 'RefreshToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:32:44.710 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:44.713 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 7ms reading results.
2025-05-14 01:32:44.717 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:44.730 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (12ms).
2025-05-14 01:32:44.735 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:44.749 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:32:44.756 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:32:44.855 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:32:44.964 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:32:44.966 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:32:44.967 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:32:44.970 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:32:44.971 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO'.
2025-05-14 01:32:44.973 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend) in 1041.905ms
2025-05-14 01:32:44.974 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:32:44.985 +03:00 [DBG] Connection id "0HNCID4IM0142" completed keep alive response.
2025-05-14 01:32:44.986 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:32:44.988 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:44.991 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-05-14 01:32:44.995 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - 200 521 application/json; charset=utf-8 1094.7153ms
2025-05-14 01:32:52.004 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:32:52.007 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 1 items
2025-05-14 01:32:53.603 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:32:53.612 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:32:53.619 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:32:53.631 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:32:53.643 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:32:53.644 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:32:53.646 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:32:53.647 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:32:53.648 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:32:54.094 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:32:54.096 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:32:54.098 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:32:54.102 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:32:54.104 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:32:54.105 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:32:54.107 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:32:54.109 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:32:54.110 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:32:54.111 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:32:54.113 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:32:54.114 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:32:54.115 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:32:54.118 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:32:54.123 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:32:54.125 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:32:54.129 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:32:54.129 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:32:54.130 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:32:54.132 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:32:54.135 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 29.378ms
2025-05-14 01:32:54.139 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:32:54.141 +03:00 [DBG] Connection id "0HNCID4IM0142" completed keep alive response.
2025-05-14 01:32:54.142 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 102 application/json; charset=utf-8 539.1168ms
2025-05-14 01:32:54.302 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Categories - null null
2025-05-14 01:32:54.416 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:32:54.443 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Categories'
2025-05-14 01:32:54.444 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)' with route pattern 'api/Categories' is valid for the request path '/api/Categories'
2025-05-14 01:32:54.447 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:32:54.449 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:32:54.451 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:32:54.452 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:32:54.454 +03:00 [INF] Route matched with {action = "GetAllCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO]]] GetAllCategories() on controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend).
2025-05-14 01:32:54.456 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:32:54.457 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:32:54.460 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:32:54.464 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:32:54.465 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:32:54.468 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 01:32:54.470 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 01:32:54.472 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:32:54.549 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:32:54.551 +03:00 [DBG] Created DbConnection. (1ms).
2025-05-14 01:32:54.552 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:54.553 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:54.554 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:32:54.560 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-05-14 01:32:54.562 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-05-14 01:32:54.564 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 01:32:54.570 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 01:32:54.574 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:54.575 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:54.577 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:54.580 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:54.582 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:54.585 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:54.587 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 12ms reading results.
2025-05-14 01:32:54.589 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:54.590 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:32:54.592 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:32:54.597 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:32:54.598 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:32:54.601 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:32:54.602 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:32:54.603 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:32:54.605 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:32:54.606 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend) in 137.6228ms
2025-05-14 01:32:54.661 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:32:54.662 +03:00 [DBG] Connection id "0HNCID4IM0142" completed keep alive response.
2025-05-14 01:32:54.671 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:32:54.673 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:54.675 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-05-14 01:32:54.677 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Categories - 200 736 application/json; charset=utf-8 374.9288ms
2025-05-14 01:32:54.720 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T22%3A32%3A54&pageSize=10 - null null
2025-05-14 01:32:54.723 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:32:54.725 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions'
2025-05-14 01:32:54.727 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)' with route pattern 'api/Transactions' is valid for the request path '/api/Transactions'
2025-05-14 01:32:54.729 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:32:54.730 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:32:54.731 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:32:54.732 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:32:54.751 +03:00 [INF] Route matched with {action = "GetTransactions", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO]]] GetTransactions(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-05-14 01:32:54.753 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:32:54.779 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:32:54.780 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:32:54.874 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:32:54.877 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:32:54.881 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 01:32:54.886 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 01:32:54.889 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 01:32:54.891 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' using the name '' in request data ...
2025-05-14 01:32:54.894 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:32:54.898 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:32:54.903 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]' using the name 'lastDate' in request data ...
2025-05-14 01:32:54.925 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]'.
2025-05-14 01:32:55.025 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:32:55.030 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:32:55.310 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:32:55.311 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:32:55.312 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 01:32:55.463 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:32:55.467 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:32:55.471 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:32:55.474 +03:00 [DBG] Created DbConnection. (2ms).
2025-05-14 01:32:55.475 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:55.476 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:55.478 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:32:55.479 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:32:55.481 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:32:55.482 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 01:32:55.490 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 01:32:55.493 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:55.494 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:55.496 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:55.497 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:55.499 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:55.501 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:55.502 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:55.504 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:55.505 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:55.507 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:55.510 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:55.512 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 19ms reading results.
2025-05-14 01:32:55.514 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:55.515 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:32:55.517 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:32:55.520 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:32:55.522 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:32:55.524 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:32:55.524 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:32:55.525 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:32:55.527 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:32:55.529 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend) in 648.0266ms
2025-05-14 01:32:55.533 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:32:55.553 +03:00 [DBG] Connection id "0HNCID4IM0142" completed keep alive response.
2025-05-14 01:32:55.554 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:32:55.556 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:55.575 +03:00 [DBG] Disposed connection to database '' on server '' (19ms).
2025-05-14 01:32:55.747 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T22%3A32%3A54&pageSize=10 - 200 1343 application/json; charset=utf-8 1026.8766ms
2025-05-14 01:32:55.752 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - null null
2025-05-14 01:32:55.755 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:32:55.756 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:32:55.758 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:32:55.762 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:32:55.821 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:32:55.823 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:32:55.825 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:32:55.827 +03:00 [INF] Route matched with {action = "GetSavings", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO]]] GetSavings(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:32:55.830 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:32:55.832 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:32:55.836 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:32:55.842 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:32:55.846 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:32:55.850 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:32:55.854 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:32:56.182 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:32:56.190 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' using the name '' in request data ...
2025-05-14 01:32:56.196 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:32:56.200 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:32:56.207 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32' using the name 'previousSavingId' in request data ...
2025-05-14 01:32:56.212 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32'.
2025-05-14 01:32:56.216 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:32:56.224 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:32:56.226 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:32:56.229 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:32:56.231 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:32:56.234 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:32:56.240 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:32:56.243 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:32:56.244 +03:00 [DBG] Created DbConnection. (1ms).
2025-05-14 01:32:56.245 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:56.247 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:56.248 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:32:56.249 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:32:56.251 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:32:56.259 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:32:56.266 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:32:56.271 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:56.280 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:56.282 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:56.283 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:56.284 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:32:56.587 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:56.589 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 318ms reading results.
2025-05-14 01:32:56.593 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:56.594 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:32:56.596 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:32:56.599 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:32:56.601 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:32:56.605 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:32:56.607 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:32:56.609 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:32:56.610 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:32:56.612 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend) in 761.6293ms
2025-05-14 01:32:56.623 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:32:56.624 +03:00 [DBG] Connection id "0HNCID4IM0142" completed keep alive response.
2025-05-14 01:32:56.626 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:32:56.628 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:32:56.629 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:32:56.632 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - 200 418 application/json; charset=utf-8 880.5544ms
2025-05-14 01:33:02.017 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:33:02.021 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-05-14 01:33:12.044 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:33:12.046 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 1 items
2025-05-14 01:33:19.779 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:49464/api/Savings - application/json-patch+json 48
2025-05-14 01:33:19.785 +03:00 [DBG] PUT requests are not supported
2025-05-14 01:33:19.786 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:33:19.789 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:33:19.791 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:33:19.792 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:33:19.793 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:33:19.795 +03:00 [DBG] Authorization was successful.
2025-05-14 01:33:19.796 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:33:19.797 +03:00 [INF] Route matched with {action = "UpdateSaving", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateSaving(Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:33:19.800 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:33:19.802 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:33:19.803 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:33:19.806 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:33:19.807 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:33:19.811 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:33:19.813 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:33:19.815 +03:00 [DBG] Attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' ...
2025-05-14 01:33:19.816 +03:00 [DBG] Attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' using the name '' in request data ...
2025-05-14 01:33:19.818 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:33:19.819 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:33:19.821 +03:00 [DBG] Connection id "0HNCID4IM0142", Request id "0HNCID4IM0142:00000006": started reading request body.
2025-05-14 01:33:19.822 +03:00 [DBG] Connection id "0HNCID4IM0142", Request id "0HNCID4IM0142:00000006": done reading request body.
2025-05-14 01:33:19.824 +03:00 [DBG] Done attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:33:19.825 +03:00 [DBG] Done attempting to bind parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:33:19.826 +03:00 [DBG] Attempting to validate the bound parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO' ...
2025-05-14 01:33:19.828 +03:00 [DBG] Done attempting to validate the bound parameter 'topUpDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingTopUpDTO'.
2025-05-14 01:33:19.829 +03:00 [INF] Executing UdateSavingAsync method
2025-05-14 01:33:19.831 +03:00 [INF] Start ExecuteTransactionAsync method.
2025-05-14 01:33:19.832 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:33:19.835 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:33:19.836 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:33:19.837 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:33:19.838 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:33:19.840 +03:00 [DBG] Beginning transaction with isolation level 'ReadCommitted'.
2025-05-14 01:33:19.841 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-05-14 01:33:19.842 +03:00 [DBG] Start db transaction.
2025-05-14 01:33:19.843 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:33:19.845 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:33:19.846 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:33:19.848 +03:00 [DBG] Executing DbCommand [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-05-14 01:33:19.851 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-05-14 01:33:19.854 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:33:19.855 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:33:19.857 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-05-14 01:33:19.859 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:33:19.860 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:33:19.861 +03:00 [DBG] The unchanged property 'Saving.CurrentAmount' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:33:19.863 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:33:19.865 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:33:19.866 +03:00 [DBG] Creating transaction savepoint.
2025-05-14 01:33:19.867 +03:00 [DBG] Created transaction savepoint.
2025-05-14 01:33:19.868 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:33:19.869 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:33:19.871 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:33:19.872 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [savings] SET [current_amount] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:33:19.876 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [savings] SET [current_amount] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:33:19.878 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:33:19.880 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 01:33:19.881 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:33:19.883 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:33:19.885 +03:00 [DBG] Committing transaction.
2025-05-14 01:33:19.886 +03:00 [DBG] Committed transaction.
2025-05-14 01:33:19.887 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:33:19.888 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:33:19.890 +03:00 [INF] Transaction successful.
2025-05-14 01:33:19.891 +03:00 [DBG] Disposing transaction.
2025-05-14 01:33:19.891 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-05-14 01:33:19.893 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend) in 82.1043ms
2025-05-14 01:33:19.894 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.UpdateSaving (Finance_Manager_Backend)'
2025-05-14 01:33:19.895 +03:00 [DBG] Connection id "0HNCID4IM0142" completed keep alive response.
2025-05-14 01:33:19.897 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:33:19.898 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:33:19.899 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:33:19.901 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:49464/api/Savings - 204 null null 121.2343ms
2025-05-14 01:33:19.904 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:33:19.906 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:33:19.908 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:33:19.909 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:33:19.911 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:33:19.912 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:33:19.913 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:33:19.914 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:33:19.915 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:33:19.917 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:33:19.918 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:33:19.920 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:33:19.922 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:33:19.924 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:33:19.925 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:33:19.927 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:33:19.928 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:33:19.930 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:33:19.931 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:33:19.933 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:33:19.934 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:33:19.936 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:33:19.937 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:33:19.940 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:33:19.942 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:33:19.943 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:33:19.944 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:33:19.945 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:33:19.946 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:33:19.948 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 22.0845ms
2025-05-14 01:33:19.949 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:33:19.950 +03:00 [DBG] Connection id "0HNCID4IM0142" completed keep alive response.
2025-05-14 01:33:19.951 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 106 application/json; charset=utf-8 46.4981ms
2025-05-14 01:33:22.068 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:33:22.070 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-05-14 01:33:27.883 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:49464/api/Savings/1317 - null null
2025-05-14 01:33:27.888 +03:00 [DBG] DELETE requests are not supported
2025-05-14 01:33:27.889 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings/1317'
2025-05-14 01:33:27.890 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.DeleteSaving (Finance_Manager_Backend)' with route pattern 'api/Savings/{id}' is valid for the request path '/api/Savings/1317'
2025-05-14 01:33:27.892 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.DeleteSaving (Finance_Manager_Backend)'
2025-05-14 01:33:27.893 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:33:27.894 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:33:27.896 +03:00 [DBG] Authorization was successful.
2025-05-14 01:33:27.897 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.DeleteSaving (Finance_Manager_Backend)'
2025-05-14 01:33:27.898 +03:00 [INF] Route matched with {action = "DeleteSaving", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteSaving(Int32) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:33:27.900 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:33:27.902 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:33:27.904 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:33:27.907 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:33:27.908 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:33:27.909 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:33:27.911 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:33:27.913 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:33:27.914 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:33:27.916 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:33:27.917 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:33:27.919 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:33:27.920 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:33:27.922 +03:00 [INF] Executing DeleteSavingAsync method.
2025-05-14 01:33:27.923 +03:00 [INF] Start ExecuteTransactionAsync method.
2025-05-14 01:33:27.924 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:33:27.926 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:33:27.927 +03:00 [DBG] Created DbConnection. (1ms).
2025-05-14 01:33:27.929 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:33:27.930 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:33:27.931 +03:00 [DBG] Beginning transaction with isolation level 'ReadCommitted'.
2025-05-14 01:33:27.933 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-05-14 01:33:27.934 +03:00 [DBG] Start db transaction.
2025-05-14 01:33:27.935 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:33:27.937 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:33:27.938 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 01:33:27.939 +03:00 [DBG] Executing DbCommand [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-05-14 01:33:27.944 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__savingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[id] = @__savingId_0
2025-05-14 01:33:27.946 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:33:27.947 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:33:27.950 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-05-14 01:33:27.951 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:33:27.953 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:33:27.954 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:33:27.955 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:33:27.956 +03:00 [DBG] Creating transaction savepoint.
2025-05-14 01:33:27.958 +03:00 [DBG] Created transaction savepoint.
2025-05-14 01:33:27.959 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:33:27.960 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 01:33:27.961 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:33:27.962 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [savings]
OUTPUT 1
WHERE [id] = @p0;
2025-05-14 01:33:27.966 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [savings]
OUTPUT 1
WHERE [id] = @p0;
2025-05-14 01:33:27.968 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:33:27.969 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 01:33:27.971 +03:00 [DBG] An entity of type 'Saving' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:33:27.972 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:33:27.974 +03:00 [DBG] Committing transaction.
2025-05-14 01:33:27.975 +03:00 [DBG] Committed transaction.
2025-05-14 01:33:27.976 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:33:27.977 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:33:27.979 +03:00 [INF] Transaction successful.
2025-05-14 01:33:27.980 +03:00 [DBG] Disposing transaction.
2025-05-14 01:33:27.981 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-05-14 01:33:27.982 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.DeleteSaving (Finance_Manager_Backend) in 72.5519ms
2025-05-14 01:33:27.983 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.DeleteSaving (Finance_Manager_Backend)'
2025-05-14 01:33:27.984 +03:00 [DBG] Connection id "0HNCID4IM0142" completed keep alive response.
2025-05-14 01:33:27.985 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:33:27.986 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:33:27.987 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-05-14 01:33:27.989 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:49464/api/Savings/1317 - 204 null null 106.4143ms
2025-05-14 01:33:27.992 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:33:27.995 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:33:27.996 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:33:27.997 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:33:27.998 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:33:27.999 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:33:28.000 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:33:28.001 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:33:28.001 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:33:28.003 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:33:28.004 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:33:28.005 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:33:28.007 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:33:28.008 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:33:28.009 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:33:28.011 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:33:28.012 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:33:28.013 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:33:28.014 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:33:28.015 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:33:28.016 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:33:28.017 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:33:28.018 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:33:28.021 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:33:28.022 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:33:28.023 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:33:28.024 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:33:28.025 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:33:28.026 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:33:28.028 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 18.42ms
2025-05-14 01:33:28.029 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:33:28.030 +03:00 [DBG] Connection id "0HNCID4IM0142" completed keep alive response.
2025-05-14 01:33:28.031 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 105 application/json; charset=utf-8 39.2284ms
2025-05-14 01:33:32.082 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:33:32.083 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:33:42.094 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:33:42.095 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:33:51.826 +03:00 [DBG] Connection id "0HNCID4IM0142" reset.
2025-05-14 01:33:51.876 +03:00 [DBG] Connection id "0HNCID4IM0142" disconnecting.
2025-05-14 01:33:51.885 +03:00 [DBG] Connection id "0HNCID4IM0142" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-14 01:33:51.887 +03:00 [DBG] Connection id "0HNCID4IM0142" stopped.
2025-05-14 01:33:52.098 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:33:52.100 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-05-14 01:34:02.106 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:34:02.115 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:34:12.215 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:34:12.332 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 1 items
2025-05-14 01:34:22.366 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:34:22.410 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-05-14 01:34:32.406 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:34:32.466 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-05-14 01:34:42.505 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:34:42.513 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:34:52.523 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:34:52.528 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
2025-05-14 01:34:54.116 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'CurrencyConverterService'
2025-05-14 01:35:02.537 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-05-14 01:35:02.541 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.006ms - processed: 1 items - remaining: 1 items
2025-05-14 01:35:12.561 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:35:12.563 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:35:22.575 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:35:22.579 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:35:32.594 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:35:32.595 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:35:42.609 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:35:42.612 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-05-14 01:35:52.623 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:35:52.625 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:36:02.635 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:36:02.637 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:36:12.645 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:36:12.647 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:36:22.663 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:36:22.665 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:36:32.679 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:36:32.680 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-05-14 01:36:42.697 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:36:42.698 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:36:52.699 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:36:52.701 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-05-14 01:37:02.722 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:37:02.730 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 1 items
2025-05-14 01:37:12.735 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:37:12.739 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:37:22.753 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:37:22.771 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:37:32.789 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:37:32.794 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 1 items
2025-05-14 01:37:42.822 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:37:42.929 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-05-14 01:37:52.942 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:37:52.944 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:38:02.949 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:38:02.951 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:38:12.964 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:38:12.967 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:38:22.974 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:38:22.976 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:38:32.982 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:38:32.983 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-05-14 01:38:42.984 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:38:42.986 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:38:53.000 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:38:53.022 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:38:55.759 +03:00 [DBG] Connection id "0HNCID4IM0143" accepted.
2025-05-14 01:38:55.769 +03:00 [DBG] Connection id "0HNCID4IM0143" started.
2025-05-14 01:38:55.800 +03:00 [DBG] Connection 0HNCID4IM0143 established using the following protocol: "Tls12"
2025-05-14 01:38:55.901 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - application/json-patch+json 90
2025-05-14 01:38:55.912 +03:00 [DBG] POST requests are not supported
2025-05-14 01:38:55.914 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/refresh-token'
2025-05-14 01:38:55.915 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)' with route pattern 'api/Auth/refresh-token' is valid for the request path '/api/Auth/refresh-token'
2025-05-14 01:38:55.917 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:38:55.918 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-14 01:38:55.919 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:38:55.920 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO]] RefreshToken(System.String) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-05-14 01:38:55.923 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:38:55.925 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:38:55.928 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:38:55.930 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:38:55.932 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:38:55.933 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 01:38:55.934 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 01:38:55.936 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' ...
2025-05-14 01:38:55.937 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' using the name '' in request data ...
2025-05-14 01:38:55.938 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:38:55.939 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:38:55.940 +03:00 [DBG] Connection id "0HNCID4IM0143", Request id "0HNCID4IM0143:00000001": started reading request body.
2025-05-14 01:38:55.950 +03:00 [DBG] Connection id "0HNCID4IM0143", Request id "0HNCID4IM0143:00000001": done reading request body.
2025-05-14 01:38:55.952 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:38:55.956 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:38:55.959 +03:00 [DBG] Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ...
2025-05-14 01:38:55.961 +03:00 [DBG] Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:38:55.965 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:38:55.967 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:38:55.968 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:38:55.969 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:55.970 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:55.971 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:38:55.972 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:38:55.974 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:38:55.975 +03:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 01:38:55.980 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 01:38:55.983 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:55.984 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:55.985 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-05-14 01:38:55.987 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:55.988 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:38:55.990 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:55.991 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:55.993 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:38:55.994 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 01:38:55.995 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:38:55.996 +03:00 [DBG] Executing DbCommand [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 01:38:56.000 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 01:38:56.002 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:56.003 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:56.004 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:56.006 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-05-14 01:38:56.007 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:56.008 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:38:56.011 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:38:56.011 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:38:56.012 +03:00 [DBG] The unchanged property 'RefreshToken.IsRevoked' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:38:56.014 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:56.015 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:38:56.017 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:56.018 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:56.019 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:38:56.020 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:38:56.022 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 01:38:56.024 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:38:56.031 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:38:56.033 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:56.103 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 69ms reading results.
2025-05-14 01:38:56.266 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:56.269 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (4ms).
2025-05-14 01:38:56.271 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:56.274 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:38:56.278 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'RefreshToken.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:56.286 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:56.289 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:56.293 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:38:56.294 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:38:56.297 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:38:56.423 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:56.520 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:56.525 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:38:56.528 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:38:56.529 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 01:38:56.530 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 01:38:56.537 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 01:38:56.540 +03:00 [DBG] The foreign key property 'RefreshToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:38:56.541 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:56.544 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-05-14 01:38:56.547 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:56.551 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (3ms).
2025-05-14 01:38:56.553 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:56.555 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:38:56.556 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:38:56.559 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:38:56.561 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:38:56.562 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:38:56.563 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:38:56.564 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:38:56.565 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO'.
2025-05-14 01:38:56.566 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend) in 633.5115ms
2025-05-14 01:38:56.568 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:38:56.569 +03:00 [DBG] Connection id "0HNCID4IM0143" completed keep alive response.
2025-05-14 01:38:56.570 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:38:56.571 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:56.572 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:38:56.574 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - 200 521 application/json; charset=utf-8 673.015ms
2025-05-14 01:38:56.896 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:38:56.919 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:38:56.922 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:38:56.923 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:38:56.927 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:38:56.929 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:38:56.930 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:38:56.932 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:38:56.933 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:38:56.937 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:38:56.938 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:38:56.940 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:38:56.942 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:38:56.947 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:38:56.948 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:38:56.951 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:38:56.953 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:38:56.954 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:38:56.956 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:38:56.958 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:38:56.959 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:38:56.962 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:38:56.964 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:38:56.967 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:38:56.969 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:38:56.970 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:38:56.971 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:38:56.972 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:38:56.974 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:38:56.977 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 28.7259ms
2025-05-14 01:38:56.986 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:38:56.988 +03:00 [DBG] Connection id "0HNCID4IM0143" completed keep alive response.
2025-05-14 01:38:56.990 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 102 application/json; charset=utf-8 93.7883ms
2025-05-14 01:38:56.999 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Categories - null null
2025-05-14 01:38:57.002 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:38:57.003 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Categories'
2025-05-14 01:38:57.004 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)' with route pattern 'api/Categories' is valid for the request path '/api/Categories'
2025-05-14 01:38:57.007 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:38:57.008 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:38:57.009 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:38:57.011 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:38:57.012 +03:00 [INF] Route matched with {action = "GetAllCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO]]] GetAllCategories() on controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend).
2025-05-14 01:38:57.014 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:38:57.016 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:38:57.018 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:38:57.020 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:38:57.022 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:38:57.023 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 01:38:57.025 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 01:38:57.028 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:38:57.031 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:38:57.033 +03:00 [DBG] Created DbConnection. (1ms).
2025-05-14 01:38:57.034 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:57.036 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:57.038 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:38:57.042 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-05-14 01:38:57.044 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-05-14 01:38:57.045 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 01:38:57.049 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 01:38:57.052 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:57.053 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:57.054 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:57.056 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:57.057 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:57.060 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:57.062 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 10ms reading results.
2025-05-14 01:38:57.063 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:57.065 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:38:57.067 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:38:57.071 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:38:57.072 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:38:57.074 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:38:57.075 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:38:57.076 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:38:57.078 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:38:57.079 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend) in 56.1862ms
2025-05-14 01:38:57.083 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:38:57.084 +03:00 [DBG] Connection id "0HNCID4IM0143" completed keep alive response.
2025-05-14 01:38:57.086 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:38:57.087 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:57.088 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:38:57.095 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Categories - 200 736 application/json; charset=utf-8 96.0853ms
2025-05-14 01:38:57.127 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T22%3A38%3A57&pageSize=10 - null null
2025-05-14 01:38:57.131 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:38:57.133 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions'
2025-05-14 01:38:57.136 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)' with route pattern 'api/Transactions' is valid for the request path '/api/Transactions'
2025-05-14 01:38:57.139 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:38:57.141 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:38:57.144 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:38:57.146 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:38:57.147 +03:00 [INF] Route matched with {action = "GetTransactions", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO]]] GetTransactions(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-05-14 01:38:57.151 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:38:57.153 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:38:57.156 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:38:57.160 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:38:57.163 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:38:57.166 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 01:38:57.169 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 01:38:57.171 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 01:38:57.173 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' using the name '' in request data ...
2025-05-14 01:38:57.175 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:38:57.179 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:38:57.182 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]' using the name 'lastDate' in request data ...
2025-05-14 01:38:57.185 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]'.
2025-05-14 01:38:57.187 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:38:57.190 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:38:57.192 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:38:57.195 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:38:57.198 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 01:38:57.199 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:38:57.202 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:38:57.206 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:38:57.208 +03:00 [DBG] Created DbConnection. (2ms).
2025-05-14 01:38:57.213 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:57.216 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:57.218 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:38:57.220 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:38:57.222 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 01:38:57.224 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 01:38:57.233 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 01:38:57.237 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:57.238 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:57.240 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:57.242 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:57.248 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:57.251 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:57.253 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:57.255 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:57.258 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:57.259 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:57.260 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:57.264 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 27ms reading results.
2025-05-14 01:38:57.266 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:57.268 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:38:57.269 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:38:57.272 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:38:57.274 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:38:57.276 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:38:57.277 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:38:57.278 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:38:57.280 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:38:57.282 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend) in 116.3385ms
2025-05-14 01:38:57.289 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:38:57.290 +03:00 [DBG] Connection id "0HNCID4IM0143" completed keep alive response.
2025-05-14 01:38:57.292 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:38:57.295 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:57.296 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:38:57.298 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T22%3A38%3A57&pageSize=10 - 200 1343 application/json; charset=utf-8 170.9853ms
2025-05-14 01:38:57.304 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - null null
2025-05-14 01:38:57.307 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:38:57.308 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:38:57.310 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:38:57.312 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:38:57.313 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:38:57.314 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:38:57.315 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:38:57.317 +03:00 [INF] Route matched with {action = "GetSavings", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO]]] GetSavings(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:38:57.319 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:38:57.321 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:38:57.323 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:38:57.325 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:38:57.327 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:38:57.328 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:38:57.330 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:38:57.331 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:38:57.332 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' using the name '' in request data ...
2025-05-14 01:38:57.334 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:38:57.336 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:38:57.339 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32' using the name 'previousSavingId' in request data ...
2025-05-14 01:38:57.340 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32'.
2025-05-14 01:38:57.341 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:38:57.349 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:38:57.351 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:38:57.355 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:38:57.359 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:38:57.362 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:38:57.366 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:38:57.369 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:38:57.370 +03:00 [DBG] Created DbConnection. (1ms).
2025-05-14 01:38:57.372 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:57.375 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:57.379 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:38:57.381 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:38:57.383 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 01:38:57.385 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:38:57.392 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:38:57.398 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:57.401 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:57.404 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:57.407 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:38:57.409 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:57.414 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 15ms reading results.
2025-05-14 01:38:57.417 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:57.419 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-05-14 01:38:57.422 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:38:57.424 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:38:57.426 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:38:57.428 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:38:57.429 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:38:57.431 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:38:57.432 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:38:57.434 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend) in 105.4212ms
2025-05-14 01:38:57.438 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:38:57.440 +03:00 [DBG] Connection id "0HNCID4IM0143" completed keep alive response.
2025-05-14 01:38:57.442 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:38:57.447 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:38:57.449 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-05-14 01:38:57.452 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - 200 335 application/json; charset=utf-8 147.8769ms
2025-05-14 01:39:03.035 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:39:03.043 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:39:13.049 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:39:13.051 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-05-14 01:39:23.066 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:39:23.069 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-05-14 01:39:27.557 +03:00 [DBG] Connection id "0HNCID4IM0143" reset.
2025-05-14 01:39:27.560 +03:00 [DBG] Connection id "0HNCID4IM0143" disconnecting.
2025-05-14 01:39:27.562 +03:00 [DBG] Connection id "0HNCID4IM0143" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-14 01:39:27.570 +03:00 [DBG] Connection id "0HNCID4IM0143" stopped.
2025-05-14 01:39:33.084 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:39:33.086 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-05-14 01:39:43.090 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:39:43.092 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:39:53.096 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:39:53.098 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:40:03.113 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:40:03.115 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:40:13.133 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:40:13.135 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
2025-05-14 01:40:23.148 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:40:23.149 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:40:33.165 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:40:33.168 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:40:43.184 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:40:43.185 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:40:53.195 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:40:53.202 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-05-14 01:40:56.966 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'CurrencyConverterService'
2025-05-14 01:41:03.212 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-05-14 01:41:03.213 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 1 items - remaining: 1 items
2025-05-14 01:41:13.233 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:41:13.235 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:41:23.251 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:41:23.270 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:41:27.720 +03:00 [DBG] Connection id "0HNCID4IM0144" accepted.
2025-05-14 01:41:27.730 +03:00 [DBG] Connection id "0HNCID4IM0144" started.
2025-05-14 01:41:27.755 +03:00 [DBG] Connection 0HNCID4IM0144 established using the following protocol: "Tls12"
2025-05-14 01:41:27.835 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - application/json-patch+json 90
2025-05-14 01:41:27.850 +03:00 [DBG] POST requests are not supported
2025-05-14 01:41:27.852 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/refresh-token'
2025-05-14 01:41:27.856 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)' with route pattern 'api/Auth/refresh-token' is valid for the request path '/api/Auth/refresh-token'
2025-05-14 01:41:27.857 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:41:27.859 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-14 01:41:27.861 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:41:27.862 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO]] RefreshToken(System.String) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-05-14 01:41:27.868 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:41:27.871 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:41:27.874 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:41:27.879 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:41:27.884 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:41:27.887 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 01:41:27.889 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 01:41:27.891 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' ...
2025-05-14 01:41:27.893 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' using the name '' in request data ...
2025-05-14 01:41:27.896 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:41:27.898 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:41:27.900 +03:00 [DBG] Connection id "0HNCID4IM0144", Request id "0HNCID4IM0144:00000001": started reading request body.
2025-05-14 01:41:27.901 +03:00 [DBG] Connection id "0HNCID4IM0144", Request id "0HNCID4IM0144:00000001": done reading request body.
2025-05-14 01:41:27.903 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:41:27.905 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:41:27.907 +03:00 [DBG] Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ...
2025-05-14 01:41:27.908 +03:00 [DBG] Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:41:27.910 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:41:27.912 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:41:27.913 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:41:27.915 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:27.917 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:27.918 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:41:27.919 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 01:41:27.920 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:41:27.921 +03:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 01:41:27.925 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 01:41:27.927 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:27.928 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:27.929 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-05-14 01:41:27.930 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:27.932 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:41:27.934 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:27.936 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:27.937 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:41:27.938 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:41:27.939 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:41:27.941 +03:00 [DBG] Executing DbCommand [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 01:41:27.944 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 01:41:27.946 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:27.949 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:27.951 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:27.953 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 6ms reading results.
2025-05-14 01:41:27.954 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:27.956 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:41:27.957 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:41:27.958 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:41:27.959 +03:00 [DBG] The unchanged property 'RefreshToken.IsRevoked' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:41:27.960 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:27.961 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:41:27.962 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:27.964 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:27.969 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:41:27.970 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:41:27.971 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:41:27.973 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:41:27.978 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:41:27.980 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:27.982 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-05-14 01:41:27.983 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:27.985 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:41:27.987 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:27.989 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:41:27.990 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'RefreshToken.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:27.992 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:27.993 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:27.995 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:41:27.996 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:41:27.999 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:41:28.001 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:28.002 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:28.003 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:41:28.004 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:41:28.006 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:41:28.007 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 01:41:28.012 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 01:41:28.015 +03:00 [DBG] The foreign key property 'RefreshToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:41:28.025 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:28.027 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 12ms reading results.
2025-05-14 01:41:28.029 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:28.030 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:41:28.033 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:28.036 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:41:28.037 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:41:28.040 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:41:28.042 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:41:28.044 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:41:28.045 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:41:28.046 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:41:28.049 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO'.
2025-05-14 01:41:28.051 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend) in 163.8543ms
2025-05-14 01:41:28.053 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:41:28.055 +03:00 [DBG] Connection id "0HNCID4IM0144" completed keep alive response.
2025-05-14 01:41:28.057 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:41:28.058 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:28.060 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:41:28.061 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - 200 521 application/json; charset=utf-8 225.8732ms
2025-05-14 01:41:28.462 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:41:28.486 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:41:28.488 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:41:28.489 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:41:28.491 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:41:28.492 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:41:28.492 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:41:28.493 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:41:28.494 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:41:28.496 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:41:28.497 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:41:28.500 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:41:28.512 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:41:28.519 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:41:28.522 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:41:28.525 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:41:28.528 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:41:28.553 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:41:28.556 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:41:28.559 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:41:28.562 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:41:28.564 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:41:28.570 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:41:28.575 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:41:28.577 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:41:28.580 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:41:28.585 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:41:28.586 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:41:28.589 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:41:28.593 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 70.7104ms
2025-05-14 01:41:28.635 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:41:28.636 +03:00 [DBG] Connection id "0HNCID4IM0144" completed keep alive response.
2025-05-14 01:41:28.637 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 102 application/json; charset=utf-8 175.1704ms
2025-05-14 01:41:28.641 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Categories - null null
2025-05-14 01:41:28.644 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:41:28.646 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Categories'
2025-05-14 01:41:28.647 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)' with route pattern 'api/Categories' is valid for the request path '/api/Categories'
2025-05-14 01:41:28.651 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:41:28.652 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:41:28.654 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:41:28.656 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:41:28.659 +03:00 [INF] Route matched with {action = "GetAllCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO]]] GetAllCategories() on controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend).
2025-05-14 01:41:28.661 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:41:28.663 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:41:28.664 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:41:28.666 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:41:28.668 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:41:28.670 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 01:41:28.671 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 01:41:28.673 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:41:28.675 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:41:28.676 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:41:28.677 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:28.680 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:28.681 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:41:28.682 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:41:28.684 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 01:41:28.686 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 01:41:28.689 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 01:41:28.691 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:28.692 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:28.694 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:28.696 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:28.697 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:28.700 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:28.701 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 10ms reading results.
2025-05-14 01:41:28.703 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:28.705 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:41:28.706 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:41:28.709 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:41:28.713 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:41:28.714 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:41:28.715 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:41:28.716 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:41:28.718 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:41:28.719 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend) in 49.7252ms
2025-05-14 01:41:28.721 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:41:28.779 +03:00 [DBG] Connection id "0HNCID4IM0144" completed keep alive response.
2025-05-14 01:41:28.785 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:41:28.788 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:28.791 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-05-14 01:41:28.794 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Categories - 200 736 application/json; charset=utf-8 152.3214ms
2025-05-14 01:41:28.808 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T22%3A41%3A28&pageSize=10 - null null
2025-05-14 01:41:28.818 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:41:28.820 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions'
2025-05-14 01:41:28.823 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)' with route pattern 'api/Transactions' is valid for the request path '/api/Transactions'
2025-05-14 01:41:28.826 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:41:28.829 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:41:28.831 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:41:28.836 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:41:28.848 +03:00 [INF] Route matched with {action = "GetTransactions", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO]]] GetTransactions(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-05-14 01:41:28.854 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:41:28.856 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:41:28.857 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:41:28.860 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:41:28.861 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:41:28.863 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 01:41:28.864 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 01:41:28.868 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 01:41:28.870 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' using the name '' in request data ...
2025-05-14 01:41:28.871 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:41:28.873 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:41:28.875 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]' using the name 'lastDate' in request data ...
2025-05-14 01:41:28.877 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]'.
2025-05-14 01:41:28.878 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:41:28.881 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:41:28.884 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:41:28.886 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:41:28.887 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 01:41:28.889 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:41:28.891 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:41:28.894 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:41:28.898 +03:00 [DBG] Created DbConnection. (4ms).
2025-05-14 01:41:28.901 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:28.902 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:28.903 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:41:28.905 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:41:28.907 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 01:41:28.908 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 01:41:28.915 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 01:41:28.920 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:28.922 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:28.923 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:28.925 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:28.926 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:28.927 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:28.928 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:28.930 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:28.931 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:28.935 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:28.936 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:28.937 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 17ms reading results.
2025-05-14 01:41:28.939 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:28.940 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:41:28.942 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:41:28.944 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:41:28.946 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:41:28.947 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:41:28.948 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:41:28.949 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:41:28.951 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:41:28.952 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend) in 89.7253ms
2025-05-14 01:41:28.954 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:41:28.955 +03:00 [DBG] Connection id "0HNCID4IM0144" completed keep alive response.
2025-05-14 01:41:28.956 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:41:28.957 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:28.959 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:41:28.960 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T22%3A41%3A28&pageSize=10 - 200 1343 application/json; charset=utf-8 152.2357ms
2025-05-14 01:41:28.971 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - null null
2025-05-14 01:41:28.974 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:41:28.975 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:41:28.976 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:41:28.978 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:41:28.979 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:41:28.980 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:41:28.985 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:41:28.986 +03:00 [INF] Route matched with {action = "GetSavings", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO]]] GetSavings(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:41:28.988 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:41:28.990 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:41:28.991 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:41:28.993 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:41:28.995 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:41:28.997 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:41:28.998 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:41:29.000 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:41:29.002 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' using the name '' in request data ...
2025-05-14 01:41:29.003 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:41:29.005 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:41:29.007 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32' using the name 'previousSavingId' in request data ...
2025-05-14 01:41:29.008 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32'.
2025-05-14 01:41:29.010 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:41:29.012 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:41:29.014 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:41:29.017 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:41:29.018 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:41:29.020 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:41:29.022 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:41:29.024 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:41:29.025 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:41:29.026 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:29.028 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:29.030 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:41:29.036 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-05-14 01:41:29.038 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-05-14 01:41:29.041 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:41:29.051 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:41:29.057 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:29.062 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:29.067 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:29.070 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:41:29.072 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:29.077 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 20ms reading results.
2025-05-14 01:41:29.080 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:29.084 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (4ms).
2025-05-14 01:41:29.087 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:41:29.104 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:41:29.107 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:41:29.109 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:41:29.109 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:41:29.110 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:41:29.112 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:41:29.114 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend) in 116.9265ms
2025-05-14 01:41:29.128 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:41:29.130 +03:00 [DBG] Connection id "0HNCID4IM0144" completed keep alive response.
2025-05-14 01:41:29.135 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:41:29.137 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:41:29.139 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-05-14 01:41:29.142 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - 200 335 application/json; charset=utf-8 170.5312ms
2025-05-14 01:41:33.296 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:41:33.298 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-05-14 01:41:43.313 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:41:43.320 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:41:53.337 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:41:53.339 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-05-14 01:42:03.342 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:42:03.344 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:42:05.157 +03:00 [DBG] Connection id "0HNCID4IM0144" reset.
2025-05-14 01:42:05.188 +03:00 [DBG] Connection id "0HNCID4IM0144" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-14 01:42:05.191 +03:00 [DBG] Connection id "0HNCID4IM0144" disconnecting.
2025-05-14 01:42:05.193 +03:00 [DBG] Connection id "0HNCID4IM0144" stopped.
2025-05-14 01:42:13.344 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:42:13.349 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-05-14 01:42:23.366 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:42:23.368 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:42:33.380 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:42:33.382 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:42:43.391 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:42:43.392 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-05-14 01:42:53.407 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:42:53.409 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:43:01.579 +03:00 [DBG] Connection id "0HNCID4IM0145" accepted.
2025-05-14 01:43:01.593 +03:00 [DBG] Connection id "0HNCID4IM0145" started.
2025-05-14 01:43:01.624 +03:00 [DBG] Connection 0HNCID4IM0145 established using the following protocol: "Tls12"
2025-05-14 01:43:01.731 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - application/json-patch+json 90
2025-05-14 01:43:01.742 +03:00 [DBG] POST requests are not supported
2025-05-14 01:43:01.743 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/refresh-token'
2025-05-14 01:43:01.745 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)' with route pattern 'api/Auth/refresh-token' is valid for the request path '/api/Auth/refresh-token'
2025-05-14 01:43:01.747 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:43:01.749 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-14 01:43:01.751 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:43:01.753 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO]] RefreshToken(System.String) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-05-14 01:43:01.758 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:43:01.761 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:43:01.763 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:43:01.767 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:43:01.773 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:43:01.776 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 01:43:01.777 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 01:43:01.779 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' ...
2025-05-14 01:43:01.791 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' using the name '' in request data ...
2025-05-14 01:43:01.793 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:43:01.794 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:43:01.795 +03:00 [DBG] Connection id "0HNCID4IM0145", Request id "0HNCID4IM0145:00000001": started reading request body.
2025-05-14 01:43:01.797 +03:00 [DBG] Connection id "0HNCID4IM0145", Request id "0HNCID4IM0145:00000001": done reading request body.
2025-05-14 01:43:01.798 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:43:01.801 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:43:01.802 +03:00 [DBG] Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ...
2025-05-14 01:43:01.804 +03:00 [DBG] Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:43:01.806 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:43:01.810 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:43:01.812 +03:00 [DBG] Created DbConnection. (2ms).
2025-05-14 01:43:01.813 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:01.815 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:01.816 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:43:01.817 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:43:01.819 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:43:01.820 +03:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 01:43:01.827 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 01:43:01.830 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:01.831 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:01.832 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-05-14 01:43:01.834 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:01.835 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:43:01.838 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:01.842 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:01.843 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:43:01.844 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:43:01.845 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:43:01.847 +03:00 [DBG] Executing DbCommand [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 01:43:01.851 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 01:43:01.858 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:01.866 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:01.871 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:01.878 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 19ms reading results.
2025-05-14 01:43:01.880 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:01.881 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:43:01.884 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:43:01.885 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:43:01.886 +03:00 [DBG] The unchanged property 'RefreshToken.IsRevoked' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:43:01.887 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:01.889 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:43:01.891 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:01.893 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:01.894 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:43:01.896 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:43:01.897 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:43:01.899 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:43:01.904 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:43:01.906 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:01.907 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 01:43:01.909 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:01.910 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:43:01.912 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:01.915 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:43:01.917 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'RefreshToken.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:01.920 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:01.921 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:01.923 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:43:01.926 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:43:01.928 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:43:01.930 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:01.931 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:01.932 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:43:01.933 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:43:01.935 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:43:01.936 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 01:43:01.943 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 01:43:01.944 +03:00 [DBG] The foreign key property 'RefreshToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:43:01.946 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:01.952 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 7ms reading results.
2025-05-14 01:43:01.961 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:01.973 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (11ms).
2025-05-14 01:43:01.980 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:02.014 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:43:02.019 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:43:02.021 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:43:02.030 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:43:02.031 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:43:02.032 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:43:02.050 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:43:02.056 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO'.
2025-05-14 01:43:02.060 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend) in 283.8333ms
2025-05-14 01:43:02.097 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:43:02.357 +03:00 [DBG] Connection id "0HNCID4IM0145" completed keep alive response.
2025-05-14 01:43:02.369 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:43:02.371 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:02.376 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-05-14 01:43:02.379 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - 200 521 application/json; charset=utf-8 647.644ms
2025-05-14 01:43:02.450 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:43:02.461 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:43:02.462 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:43:02.464 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:43:02.466 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:43:02.469 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:43:02.470 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:43:02.472 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:43:02.478 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:43:02.481 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:43:02.485 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:43:02.488 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:43:02.494 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:43:02.497 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:43:02.501 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:43:02.503 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:43:02.506 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:43:02.510 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:43:02.520 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:43:02.522 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:43:02.526 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:43:02.532 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:43:02.535 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:43:02.540 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:43:02.548 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:43:02.550 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:43:02.551 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:43:02.552 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:43:02.553 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:43:02.555 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 54.0117ms
2025-05-14 01:43:02.563 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:43:02.565 +03:00 [DBG] Connection id "0HNCID4IM0145" completed keep alive response.
2025-05-14 01:43:02.567 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 102 application/json; charset=utf-8 117.3692ms
2025-05-14 01:43:02.574 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Categories - null null
2025-05-14 01:43:02.580 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:43:02.581 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Categories'
2025-05-14 01:43:02.583 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)' with route pattern 'api/Categories' is valid for the request path '/api/Categories'
2025-05-14 01:43:02.585 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:43:02.586 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:43:02.587 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:43:02.589 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:43:02.593 +03:00 [INF] Route matched with {action = "GetAllCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO]]] GetAllCategories() on controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend).
2025-05-14 01:43:02.595 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:43:02.596 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:43:02.599 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:43:02.601 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:43:02.604 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:43:02.610 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 01:43:02.623 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 01:43:02.627 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:43:02.629 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:43:02.629 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:43:02.630 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:02.632 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:02.633 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:43:02.634 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:43:02.635 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:43:02.637 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 01:43:02.642 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 01:43:02.645 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:02.646 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:02.647 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:02.649 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:02.650 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:02.651 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:02.653 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 7ms reading results.
2025-05-14 01:43:02.654 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:02.655 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:43:02.657 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:43:02.661 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:43:02.662 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:43:02.664 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:43:02.664 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:43:02.665 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:43:02.666 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:43:02.668 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend) in 57.5101ms
2025-05-14 01:43:02.671 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:43:02.672 +03:00 [DBG] Connection id "0HNCID4IM0145" completed keep alive response.
2025-05-14 01:43:02.674 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:43:02.677 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:02.678 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:43:02.680 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Categories - 200 736 application/json; charset=utf-8 105.7591ms
2025-05-14 01:43:02.723 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T22%3A43%3A02&pageSize=10 - null null
2025-05-14 01:43:02.727 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:43:02.728 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions'
2025-05-14 01:43:02.729 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)' with route pattern 'api/Transactions' is valid for the request path '/api/Transactions'
2025-05-14 01:43:02.731 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:43:02.732 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:43:02.733 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:43:02.734 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:43:02.736 +03:00 [INF] Route matched with {action = "GetTransactions", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO]]] GetTransactions(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-05-14 01:43:02.738 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:43:02.739 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:43:02.741 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:43:02.743 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:43:02.745 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:43:02.746 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 01:43:02.748 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 01:43:02.750 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 01:43:02.751 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' using the name '' in request data ...
2025-05-14 01:43:02.753 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:43:02.755 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:43:02.756 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]' using the name 'lastDate' in request data ...
2025-05-14 01:43:02.758 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]'.
2025-05-14 01:43:02.760 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:43:02.762 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:43:02.764 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:43:02.766 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:43:02.767 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 01:43:02.768 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:43:02.770 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:43:02.773 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:43:02.774 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:43:02.775 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:02.776 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:02.778 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:43:02.779 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:43:02.781 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:43:02.782 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 01:43:02.786 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 01:43:02.789 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:02.790 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:02.792 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:02.793 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:02.795 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:02.797 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:02.798 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:02.799 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:02.801 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:02.802 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:02.804 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:02.805 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 16ms reading results.
2025-05-14 01:43:02.807 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:02.808 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:43:02.811 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:43:02.813 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:43:02.815 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:43:02.816 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:43:02.817 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:43:02.818 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:43:02.820 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:43:02.822 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend) in 75.1633ms
2025-05-14 01:43:02.829 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:43:02.831 +03:00 [DBG] Connection id "0HNCID4IM0145" completed keep alive response.
2025-05-14 01:43:02.833 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:43:02.835 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:02.838 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-05-14 01:43:02.841 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T22%3A43%3A02&pageSize=10 - 200 1343 application/json; charset=utf-8 117.6675ms
2025-05-14 01:43:02.848 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - null null
2025-05-14 01:43:02.850 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:43:02.851 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:43:02.852 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:43:02.854 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:43:02.855 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:43:02.856 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:43:02.859 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:43:02.861 +03:00 [INF] Route matched with {action = "GetSavings", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO]]] GetSavings(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:43:02.863 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:43:02.865 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:43:02.866 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:43:02.869 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:43:02.870 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:43:02.872 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:43:02.873 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:43:02.875 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:43:02.879 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' using the name '' in request data ...
2025-05-14 01:43:02.881 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:43:02.883 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:43:02.885 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32' using the name 'previousSavingId' in request data ...
2025-05-14 01:43:02.888 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32'.
2025-05-14 01:43:02.889 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:43:02.895 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:43:02.897 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:43:02.898 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:43:02.900 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:43:02.902 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:43:02.904 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:43:02.906 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:43:02.914 +03:00 [DBG] Created DbConnection. (7ms).
2025-05-14 01:43:02.917 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:02.919 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:02.921 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:43:02.922 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:43:02.923 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:43:02.926 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:43:02.933 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:43:02.936 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:02.938 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:02.939 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:02.941 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:43:02.946 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:02.947 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 11ms reading results.
2025-05-14 01:43:02.949 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:02.950 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:43:02.952 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:43:02.954 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:43:02.956 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:43:02.960 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:43:02.961 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:43:02.962 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:43:02.964 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:43:02.966 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend) in 93.6646ms
2025-05-14 01:43:02.968 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:43:02.969 +03:00 [DBG] Connection id "0HNCID4IM0145" completed keep alive response.
2025-05-14 01:43:02.976 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:43:02.978 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:43:02.979 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:43:02.980 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - 200 335 application/json; charset=utf-8 132.2086ms
2025-05-14 01:43:03.412 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:43:03.415 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:43:10.175 +03:00 [DBG] Connection id "0HNCID4IM0145" reset.
2025-05-14 01:43:10.234 +03:00 [DBG] Connection id "0HNCID4IM0145" disconnecting.
2025-05-14 01:43:10.241 +03:00 [DBG] Connection id "0HNCID4IM0145" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-14 01:43:10.245 +03:00 [DBG] Connection id "0HNCID4IM0145" stopped.
2025-05-14 01:43:13.437 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:43:13.440 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0059ms - processed: 1 items - remaining: 0 items
2025-05-14 01:43:28.538 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'CurrencyConverterService'
2025-05-14 01:43:38.544 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:43:38.568 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 1 items
2025-05-14 01:43:48.585 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:43:48.586 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:43:58.594 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:43:58.612 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:44:08.638 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:44:08.639 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:44:13.151 +03:00 [DBG] Connection id "0HNCID4IM0146" accepted.
2025-05-14 01:44:13.163 +03:00 [DBG] Connection id "0HNCID4IM0146" started.
2025-05-14 01:44:13.180 +03:00 [DBG] Connection 0HNCID4IM0146 established using the following protocol: "Tls12"
2025-05-14 01:44:13.247 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - application/json-patch+json 90
2025-05-14 01:44:13.256 +03:00 [DBG] POST requests are not supported
2025-05-14 01:44:13.257 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/refresh-token'
2025-05-14 01:44:13.259 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)' with route pattern 'api/Auth/refresh-token' is valid for the request path '/api/Auth/refresh-token'
2025-05-14 01:44:13.262 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:44:13.264 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-14 01:44:13.267 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:44:13.268 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO]] RefreshToken(System.String) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-05-14 01:44:13.271 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:44:13.274 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:44:13.276 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:44:13.284 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:44:13.287 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:44:13.290 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 01:44:13.292 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 01:44:13.295 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' ...
2025-05-14 01:44:13.297 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' using the name '' in request data ...
2025-05-14 01:44:13.300 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:44:13.302 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:44:13.304 +03:00 [DBG] Connection id "0HNCID4IM0146", Request id "0HNCID4IM0146:00000001": started reading request body.
2025-05-14 01:44:13.306 +03:00 [DBG] Connection id "0HNCID4IM0146", Request id "0HNCID4IM0146:00000001": done reading request body.
2025-05-14 01:44:13.308 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:44:13.318 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:44:13.320 +03:00 [DBG] Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ...
2025-05-14 01:44:13.322 +03:00 [DBG] Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:44:13.325 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:44:13.353 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:44:13.358 +03:00 [DBG] Created DbConnection. (4ms).
2025-05-14 01:44:13.359 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:13.361 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:13.362 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:44:13.363 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:44:13.366 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 01:44:13.367 +03:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 01:44:13.373 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 01:44:13.376 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:13.377 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:13.379 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-05-14 01:44:13.380 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:13.383 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-05-14 01:44:13.385 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:13.386 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:13.387 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:44:13.389 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:44:13.391 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 01:44:13.392 +03:00 [DBG] Executing DbCommand [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 01:44:13.396 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 01:44:13.400 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:13.402 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:13.403 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:13.404 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-05-14 01:44:13.406 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:13.408 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:44:13.410 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:44:13.411 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:44:13.412 +03:00 [DBG] The unchanged property 'RefreshToken.IsRevoked' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:44:13.414 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:13.416 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:44:13.418 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:13.419 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:13.421 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:44:13.422 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:44:13.423 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:44:13.424 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:44:13.427 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:44:13.430 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:13.431 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 01:44:13.433 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:13.434 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:44:13.435 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:13.436 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:44:13.438 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'RefreshToken.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:13.441 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:13.442 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:13.443 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:44:13.444 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:44:13.445 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:44:13.446 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:13.447 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:13.450 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:44:13.451 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:44:13.453 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:44:13.487 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 01:44:13.493 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 01:44:13.495 +03:00 [DBG] The foreign key property 'RefreshToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:44:13.497 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:13.500 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 4ms reading results.
2025-05-14 01:44:13.501 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:13.503 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:44:13.504 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:13.506 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:44:13.507 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:44:13.509 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:44:13.511 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:44:13.512 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:44:13.513 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:44:13.513 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:44:13.553 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO'.
2025-05-14 01:44:13.595 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend) in 305.3273ms
2025-05-14 01:44:13.635 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:44:13.636 +03:00 [DBG] Connection id "0HNCID4IM0146" completed keep alive response.
2025-05-14 01:44:13.637 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:44:13.638 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:13.639 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:44:13.650 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - 200 521 application/json; charset=utf-8 402.8803ms
2025-05-14 01:44:13.971 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:44:13.982 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:44:13.986 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:44:13.991 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:44:13.993 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:44:13.994 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:44:13.995 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:44:13.996 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:44:13.997 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:44:14.000 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:44:14.003 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:44:14.005 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:44:14.007 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:44:14.008 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:44:14.011 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:44:14.012 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:44:14.013 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:44:14.015 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:44:14.025 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:44:14.027 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:44:14.028 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:44:14.031 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:44:14.039 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:44:14.041 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:44:14.044 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:44:14.045 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:44:14.045 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:44:14.046 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:44:14.051 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:44:14.053 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 41.9552ms
2025-05-14 01:44:14.054 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:44:14.055 +03:00 [DBG] Connection id "0HNCID4IM0146" completed keep alive response.
2025-05-14 01:44:14.057 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 102 application/json; charset=utf-8 85.6556ms
2025-05-14 01:44:14.114 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Categories - null null
2025-05-14 01:44:14.135 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:44:14.136 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Categories'
2025-05-14 01:44:14.214 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)' with route pattern 'api/Categories' is valid for the request path '/api/Categories'
2025-05-14 01:44:14.217 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:44:14.219 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:44:14.220 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:44:14.221 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:44:14.224 +03:00 [INF] Route matched with {action = "GetAllCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO]]] GetAllCategories() on controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend).
2025-05-14 01:44:14.226 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:44:14.228 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:44:14.231 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:44:14.242 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:44:14.243 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:44:14.245 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 01:44:14.246 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 01:44:14.250 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:44:14.261 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:44:14.262 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:44:14.263 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:14.264 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:14.265 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:44:14.270 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-05-14 01:44:14.272 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-05-14 01:44:14.273 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 01:44:14.277 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 01:44:14.280 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:14.297 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:14.298 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:14.300 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:14.302 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:14.303 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:14.304 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 24ms reading results.
2025-05-14 01:44:14.306 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:14.307 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:44:14.309 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:44:14.311 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:44:14.317 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:44:14.318 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:44:14.319 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:44:14.320 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:44:14.321 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:44:14.322 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend) in 77.3035ms
2025-05-14 01:44:14.326 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:44:14.327 +03:00 [DBG] Connection id "0HNCID4IM0146" completed keep alive response.
2025-05-14 01:44:14.328 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:44:14.330 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:14.332 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:44:14.335 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Categories - 200 736 application/json; charset=utf-8 220.4769ms
2025-05-14 01:44:14.370 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T22%3A44%3A14&pageSize=10 - null null
2025-05-14 01:44:14.372 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:44:14.373 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions'
2025-05-14 01:44:14.375 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)' with route pattern 'api/Transactions' is valid for the request path '/api/Transactions'
2025-05-14 01:44:14.377 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:44:14.379 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:44:14.380 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:44:14.381 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:44:14.383 +03:00 [INF] Route matched with {action = "GetTransactions", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO]]] GetTransactions(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-05-14 01:44:14.385 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:44:14.387 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:44:14.389 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:44:14.392 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:44:14.394 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:44:14.396 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 01:44:14.398 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 01:44:14.401 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 01:44:14.402 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' using the name '' in request data ...
2025-05-14 01:44:14.404 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:44:14.503 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:44:14.538 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]' using the name 'lastDate' in request data ...
2025-05-14 01:44:14.540 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]'.
2025-05-14 01:44:14.543 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:44:14.560 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:44:14.564 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:44:14.567 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:44:14.568 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 01:44:14.570 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:44:14.575 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:44:14.593 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:44:14.594 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:44:14.595 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:14.596 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:14.598 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:44:14.600 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:44:14.602 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-14 01:44:14.603 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 01:44:14.610 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 01:44:14.612 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:14.613 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:14.615 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:14.616 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:14.618 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:14.620 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:14.621 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:14.622 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:14.623 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:14.625 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:14.626 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:14.635 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 23ms reading results.
2025-05-14 01:44:14.808 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:14.810 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:44:14.812 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:44:14.815 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:44:14.817 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:44:14.819 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:44:14.820 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:44:14.820 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:44:14.822 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:44:14.823 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend) in 427.2383ms
2025-05-14 01:44:14.826 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:44:14.827 +03:00 [DBG] Connection id "0HNCID4IM0146" completed keep alive response.
2025-05-14 01:44:14.834 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:44:14.835 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:14.836 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:44:14.838 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T22%3A44%3A14&pageSize=10 - 200 1343 application/json; charset=utf-8 468.4269ms
2025-05-14 01:44:14.849 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - null null
2025-05-14 01:44:14.852 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:44:14.853 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:44:14.854 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:44:14.856 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:44:14.857 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:44:14.858 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:44:14.860 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:44:14.861 +03:00 [INF] Route matched with {action = "GetSavings", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO]]] GetSavings(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:44:14.863 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:44:14.864 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:44:14.866 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:44:14.868 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:44:14.870 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:44:14.871 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:44:14.873 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:44:14.875 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:44:14.877 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' using the name '' in request data ...
2025-05-14 01:44:14.878 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:44:14.881 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:44:14.882 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32' using the name 'previousSavingId' in request data ...
2025-05-14 01:44:14.887 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32'.
2025-05-14 01:44:14.889 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:44:14.895 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:44:14.897 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:44:14.899 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:44:14.902 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:44:14.904 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:44:14.906 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:44:14.910 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:44:14.911 +03:00 [DBG] Created DbConnection. (0ms).
2025-05-14 01:44:14.912 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:14.913 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:14.914 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:44:14.916 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:44:14.919 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-05-14 01:44:14.921 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:44:14.927 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:44:14.931 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:14.933 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:14.935 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:14.936 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:14.939 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:14.941 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 9ms reading results.
2025-05-14 01:44:14.943 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:14.944 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:44:14.946 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:44:14.951 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:44:14.952 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:44:14.955 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:44:14.956 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:44:14.957 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:44:14.959 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:44:14.961 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend) in 89.4482ms
2025-05-14 01:44:14.965 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:44:14.971 +03:00 [DBG] Connection id "0HNCID4IM0146" completed keep alive response.
2025-05-14 01:44:14.974 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:44:14.976 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:14.979 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-05-14 01:44:14.982 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - 200 335 application/json; charset=utf-8 133.5616ms
2025-05-14 01:44:18.657 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:44:18.668 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:44:28.675 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:44:28.677 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:44:29.765 +03:00 [DBG] Connection id "0HNCID4IM0146" reset.
2025-05-14 01:44:29.767 +03:00 [DBG] Connection id "0HNCID4IM0146" disconnecting.
2025-05-14 01:44:29.769 +03:00 [DBG] Connection id "0HNCID4IM0146" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-14 01:44:29.774 +03:00 [DBG] Connection id "0HNCID4IM0146" stopped.
2025-05-14 01:44:38.684 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:44:38.686 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-05-14 01:44:44.932 +03:00 [DBG] Connection id "0HNCID4IM0147" accepted.
2025-05-14 01:44:44.972 +03:00 [DBG] Connection id "0HNCID4IM0147" started.
2025-05-14 01:44:45.025 +03:00 [DBG] Connection 0HNCID4IM0147 established using the following protocol: "Tls12"
2025-05-14 01:44:45.151 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - application/json-patch+json 90
2025-05-14 01:44:45.172 +03:00 [DBG] POST requests are not supported
2025-05-14 01:44:45.173 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/refresh-token'
2025-05-14 01:44:45.177 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)' with route pattern 'api/Auth/refresh-token' is valid for the request path '/api/Auth/refresh-token'
2025-05-14 01:44:45.179 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:44:45.182 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-14 01:44:45.185 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:44:45.187 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO]] RefreshToken(System.String) on controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend).
2025-05-14 01:44:45.190 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:44:45.194 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:44:45.197 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:44:45.202 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:44:45.204 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:44:45.207 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 01:44:45.211 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.AuthController (Finance_Manager_Backend)
2025-05-14 01:44:45.213 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' ...
2025-05-14 01:44:45.215 +03:00 [DBG] Attempting to bind parameter 'refreshToken' of type 'System.String' using the name '' in request data ...
2025-05-14 01:44:45.217 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:44:45.219 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-05-14 01:44:45.226 +03:00 [DBG] Connection id "0HNCID4IM0147", Request id "0HNCID4IM0147:00000001": started reading request body.
2025-05-14 01:44:45.228 +03:00 [DBG] Connection id "0HNCID4IM0147", Request id "0HNCID4IM0147:00000001": done reading request body.
2025-05-14 01:44:45.235 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:44:45.252 +03:00 [DBG] Done attempting to bind parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:44:45.256 +03:00 [DBG] Attempting to validate the bound parameter 'refreshToken' of type 'System.String' ...
2025-05-14 01:44:45.260 +03:00 [DBG] Done attempting to validate the bound parameter 'refreshToken' of type 'System.String'.
2025-05-14 01:44:45.263 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:44:45.267 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:44:45.270 +03:00 [DBG] Created DbConnection. (3ms).
2025-05-14 01:44:45.272 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:45.273 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:45.275 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:44:45.276 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 01:44:45.277 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:44:45.278 +03:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 01:44:45.282 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[id], [r].[created_at], [r].[expires_at], [r].[is_revoked], [r].[token], [r].[user_fk]
FROM [refresh_tokens] AS [r]
WHERE [r].[token] = @__refreshToken_0
2025-05-14 01:44:45.284 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:45.285 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:45.287 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 3ms reading results.
2025-05-14 01:44:45.289 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:45.291 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:44:45.293 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:45.294 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:45.295 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:44:45.296 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 01:44:45.297 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:44:45.298 +03:00 [DBG] Executing DbCommand [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 01:44:45.302 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__existingToken_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[balance], [u].[email], [u].[password_hash], [u].[primary_currency], [u].[role], [u].[salt], [u].[secondary_currency_1], [u].[secondary_currency_2]
FROM [users] AS [u]
WHERE [u].[id] = @__existingToken_UserId_0
2025-05-14 01:44:45.304 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:45.306 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:45.307 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:45.310 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 5ms reading results.
2025-05-14 01:44:45.311 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:45.312 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:44:45.314 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:44:45.315 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:44:45.316 +03:00 [DBG] The unchanged property 'RefreshToken.IsRevoked' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:44:45.317 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:45.320 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:44:45.321 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:45.323 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:45.324 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:44:45.325 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:44:45.326 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:44:45.328 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:44:45.332 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [refresh_tokens] SET [is_revoked] = @p0
OUTPUT 1
WHERE [id] = @p1;
2025-05-14 01:44:45.334 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:45.336 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 1ms reading results.
2025-05-14 01:44:45.337 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:45.339 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-05-14 01:44:45.342 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:45.344 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:44:45.345 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'RefreshToken.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:45.347 +03:00 [DBG] The navigation 'RefreshToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:45.348 +03:00 [DBG] Context 'AppDbContext' started tracking 'RefreshToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:45.351 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-05-14 01:44:45.352 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-05-14 01:44:45.353 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-05-14 01:44:45.372 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:45.375 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:45.377 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:44:45.378 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:44:45.379 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:44:45.381 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 01:44:45.389 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [refresh_tokens] ([created_at], [expires_at], [is_revoked], [token], [user_fk])
OUTPUT INSERTED.[id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-14 01:44:45.392 +03:00 [DBG] The foreign key property 'RefreshToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-05-14 01:44:45.394 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:45.395 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 2ms reading results.
2025-05-14 01:44:45.397 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:45.399 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:44:45.400 +03:00 [DBG] An entity of type 'RefreshToken' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:45.404 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-05-14 01:44:45.405 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:44:45.408 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:44:45.410 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:44:45.411 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:44:45.412 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:44:45.413 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:44:45.414 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.AuthUserTokensDTO'.
2025-05-14 01:44:45.416 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend) in 209.1877ms
2025-05-14 01:44:45.418 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.AuthController.RefreshToken (Finance_Manager_Backend)'
2025-05-14 01:44:45.419 +03:00 [DBG] Connection id "0HNCID4IM0147" completed keep alive response.
2025-05-14 01:44:45.421 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:44:45.423 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:45.424 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:44:45.426 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:49464/api/Auth/refresh-token - 200 521 application/json; charset=utf-8 274.9479ms
2025-05-14 01:44:48.701 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:44:48.702 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:44:55.018 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/User/1129 - null null
2025-05-14 01:44:55.291 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:44:55.292 +03:00 [DBG] 1 candidate(s) found for the request path '/api/User/1129'
2025-05-14 01:44:55.314 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/1129'
2025-05-14 01:44:55.316 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:44:55.318 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:44:55.318 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:44:55.320 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:44:55.321 +03:00 [INF] Route matched with {action = "GetBalanceById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO]] GetBalanceById(Int32) on controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend).
2025-05-14 01:44:55.338 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:44:55.340 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:44:55.341 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:44:55.358 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:44:55.410 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:44:55.436 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:44:55.439 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.UserController (Finance_Manager_Backend)
2025-05-14 01:44:55.441 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-05-14 01:44:55.443 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-05-14 01:44:55.445 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:44:55.446 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-05-14 01:44:55.448 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-05-14 01:44:55.451 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-05-14 01:44:55.452 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:44:55.460 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:44:55.461 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:44:55.465 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:44:55.467 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:44:55.467 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:44:55.469 +03:00 [INF] Executing OkObjectResult, writing value of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.UserBalanceDTO'.
2025-05-14 01:44:55.474 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend) in 38.0073ms
2025-05-14 01:44:55.486 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.UserController.GetBalanceById (Finance_Manager_Backend)'
2025-05-14 01:44:55.490 +03:00 [DBG] Connection id "0HNCID4IM0147" completed keep alive response.
2025-05-14 01:44:55.491 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/User/1129 - 200 102 application/json; charset=utf-8 472.998ms
2025-05-14 01:44:55.538 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Categories - null null
2025-05-14 01:44:55.553 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:44:55.555 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Categories'
2025-05-14 01:44:55.557 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)' with route pattern 'api/Categories' is valid for the request path '/api/Categories'
2025-05-14 01:44:55.559 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:44:55.561 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:44:55.563 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:44:55.565 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:44:55.569 +03:00 [INF] Route matched with {action = "GetAllCategories", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO]]] GetAllCategories() on controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend).
2025-05-14 01:44:55.573 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:44:55.575 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:44:55.578 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:44:55.583 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:44:55.586 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:44:55.588 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 01:44:55.595 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.CategoriesController (Finance_Manager_Backend)
2025-05-14 01:44:55.598 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:44:55.612 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:44:55.613 +03:00 [DBG] Created DbConnection. (1ms).
2025-05-14 01:44:55.621 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:55.626 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:55.628 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:44:55.640 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2025-05-14 01:44:55.643 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-05-14 01:44:55.680 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 01:44:55.688 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[background_color], [c].[icon_path], [c].[is_income], [c].[name], [c].[parent_category_fk]
FROM [categories] AS [c]
2025-05-14 01:44:55.692 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:55.695 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:55.696 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:55.698 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:55.702 +03:00 [DBG] Context 'AppDbContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:55.703 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:55.705 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 12ms reading results.
2025-05-14 01:44:55.712 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:55.714 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (1ms).
2025-05-14 01:44:55.718 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:44:55.722 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:44:55.730 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:44:55.734 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:44:55.738 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:44:55.739 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:44:55.745 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.CategoryDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:44:55.746 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend) in 158.2718ms
2025-05-14 01:44:55.756 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.CategoriesController.GetAllCategories (Finance_Manager_Backend)'
2025-05-14 01:44:55.761 +03:00 [DBG] Connection id "0HNCID4IM0147" completed keep alive response.
2025-05-14 01:44:55.762 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:44:55.764 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:55.776 +03:00 [DBG] Disposed connection to database '' on server '' (12ms).
2025-05-14 01:44:55.780 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Categories - 200 736 application/json; charset=utf-8 241.6173ms
2025-05-14 01:44:55.833 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T22%3A44%3A55&pageSize=10 - null null
2025-05-14 01:44:55.836 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:44:55.838 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Transactions'
2025-05-14 01:44:55.839 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)' with route pattern 'api/Transactions' is valid for the request path '/api/Transactions'
2025-05-14 01:44:55.841 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:44:55.842 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:44:55.843 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:44:55.844 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:44:55.845 +03:00 [INF] Route matched with {action = "GetTransactions", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO]]] GetTransactions(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO) on controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend).
2025-05-14 01:44:55.847 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:44:55.848 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:44:55.851 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:44:55.860 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:44:55.862 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:44:55.864 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 01:44:55.866 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.TransactionsController (Finance_Manager_Backend)
2025-05-14 01:44:55.868 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 01:44:55.888 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' using the name '' in request data ...
2025-05-14 01:44:55.890 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:44:55.892 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:44:55.894 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]' using the name 'lastDate' in request data ...
2025-05-14 01:44:55.896 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.lastDate' of type 'System.Nullable`1[System.DateTime]'.
2025-05-14 01:44:55.898 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:44:55.902 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:44:55.904 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:44:55.906 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:44:55.907 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO' ...
2025-05-14 01:44:55.908 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserTransactionsQueryDTO'.
2025-05-14 01:44:55.911 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:44:55.913 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:44:55.915 +03:00 [DBG] Created DbConnection. (2ms).
2025-05-14 01:44:55.918 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:55.919 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:55.920 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:44:55.921 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-14 01:44:55.922 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-05-14 01:44:55.924 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 01:44:55.929 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__lastDate_Value_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [t].[id], [t].[category_fk], [t].[date], [t].[inner_category_fk], [t].[name], [t].[price], [t].[user_fk]
FROM [transactions] AS [t]
WHERE [t].[user_fk] = @__userId_0 AND [t].[date] < @__lastDate_Value_1
ORDER BY [t].[date] DESC
2025-05-14 01:44:55.957 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:55.967 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:55.971 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:55.975 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:55.980 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:55.984 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:55.987 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:55.996 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:55.998 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:56.006 +03:00 [DBG] Context 'AppDbContext' started tracking 'Transaction' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:56.037 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:56.040 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 83ms reading results.
2025-05-14 01:44:56.044 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:56.047 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-05-14 01:44:56.053 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:44:56.063 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:44:56.065 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:44:56.070 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:44:56.072 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:44:56.074 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:44:56.076 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.TransactionDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:44:56.079 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend) in 215.5607ms
2025-05-14 01:44:56.092 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.TransactionsController.GetTransactions (Finance_Manager_Backend)'
2025-05-14 01:44:56.095 +03:00 [DBG] Connection id "0HNCID4IM0147" completed keep alive response.
2025-05-14 01:44:56.102 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:44:56.103 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:56.115 +03:00 [DBG] Disposed connection to database '' on server '' (11ms).
2025-05-14 01:44:56.136 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Transactions?userId=1129&lastDate=2025-05-13T22%3A44%3A55&pageSize=10 - 200 1343 application/json; charset=utf-8 302.8817ms
2025-05-14 01:44:56.147 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - null null
2025-05-14 01:44:56.152 +03:00 [DBG] The request path  does not match the path filter
2025-05-14 01:44:56.152 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Savings'
2025-05-14 01:44:56.154 +03:00 [DBG] Endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)' with route pattern 'api/Savings' is valid for the request path '/api/Savings'
2025-05-14 01:44:56.156 +03:00 [DBG] Request matched endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:44:56.157 +03:00 [DBG] Successfully validated the token.
2025-05-14 01:44:56.158 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-14 01:44:56.159 +03:00 [INF] Executing endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:44:56.160 +03:00 [INF] Route matched with {action = "GetSavings", controller = "Savings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO]]] GetSavings(Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO) on controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend).
2025-05-14 01:44:56.162 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-14 01:44:56.164 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-14 01:44:56.165 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Finance_Manager_Backend.Middleware.ValidationFilter"]
2025-05-14 01:44:56.168 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-14 01:44:56.170 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-14 01:44:56.172 +03:00 [DBG] Executing controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:44:56.173 +03:00 [DBG] Executed controller factory for controller Finance_Manager_Backend.Controllers.SavingsController (Finance_Manager_Backend)
2025-05-14 01:44:56.175 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:44:56.176 +03:00 [DBG] Attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' using the name '' in request data ...
2025-05-14 01:44:56.177 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32' using the name 'userId' in request data ...
2025-05-14 01:44:56.179 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.userId' of type 'System.Int32'.
2025-05-14 01:44:56.180 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32' using the name 'previousSavingId' in request data ...
2025-05-14 01:44:56.182 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.previousSavingId' of type 'System.Int32'.
2025-05-14 01:44:56.183 +03:00 [DBG] Attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2025-05-14 01:44:56.187 +03:00 [DBG] Done attempting to bind property 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO.pageSize' of type 'System.Int32'.
2025-05-14 01:44:56.190 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:44:56.192 +03:00 [DBG] Done attempting to bind parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:44:56.193 +03:00 [DBG] Attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO' ...
2025-05-14 01:44:56.196 +03:00 [DBG] Done attempting to validate the bound parameter 'queryDTO' of type 'Finance_Manager_Backend.BusinessLogic.Models.DTOs.GetUserSavingsQueryDTO'.
2025-05-14 01:44:56.201 +03:00 [DBG] Entity Framework Core 9.0.4 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-14 01:44:56.208 +03:00 [DBG] Creating DbConnection.
2025-05-14 01:44:56.214 +03:00 [DBG] Created DbConnection. (6ms).
2025-05-14 01:44:56.220 +03:00 [DBG] Opening connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:56.222 +03:00 [DBG] Opened connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:56.226 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-14 01:44:56.228 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-05-14 01:44:56.232 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-05-14 01:44:56.236 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:44:56.255 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (DbType = Int32), @__previousSavingId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [s].[id], [s].[current_amount], [s].[goal], [s].[name], [s].[user_fk]
FROM [savings] AS [s]
WHERE [s].[user_fk] = @__userId_0 AND [s].[id] > @__previousSavingId_1
2025-05-14 01:44:56.260 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:56.539 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:56.544 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:56.553 +03:00 [DBG] Context 'AppDbContext' started tracking 'Saving' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-14 01:44:56.556 +03:00 [DBG] Closing data reader to 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:56.558 +03:00 [DBG] A data reader for 'FinanceManagerDB' on server 'localhost' is being disposed after spending 298ms reading results.
2025-05-14 01:44:56.570 +03:00 [DBG] Closing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:56.573 +03:00 [DBG] Closed connection to database 'FinanceManagerDB' on server 'localhost' (2ms).
2025-05-14 01:44:56.578 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-05-14 01:44:56.587 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-05-14 01:44:56.590 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-05-14 01:44:56.594 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-14 01:44:56.596 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-14 01:44:56.598 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-14 01:44:56.602 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Finance_Manager_Backend.BusinessLogic.Models.DTOs.SavingDTO, Finance_Manager_Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-14 01:44:56.605 +03:00 [INF] Executed action Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend) in 432.9371ms
2025-05-14 01:44:56.645 +03:00 [INF] Executed endpoint 'Finance_Manager_Backend.Controllers.SavingsController.GetSavings (Finance_Manager_Backend)'
2025-05-14 01:44:56.646 +03:00 [DBG] Connection id "0HNCID4IM0147" completed keep alive response.
2025-05-14 01:44:56.651 +03:00 [DBG] 'AppDbContext' disposed.
2025-05-14 01:44:56.652 +03:00 [DBG] Disposing connection to database 'FinanceManagerDB' on server 'localhost'.
2025-05-14 01:44:56.654 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-14 01:44:56.656 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:49464/api/Savings?userId=1129&previousSavingId=1&pageSize=5 - 200 335 application/json; charset=utf-8 508.803ms
2025-05-14 01:44:58.726 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:44:58.748 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0091ms - processed: 1 items - remaining: 0 items
2025-05-14 01:45:59.812 +03:00 [DBG] Connection id "0HNCID4IM0147" received FIN.
2025-05-14 01:45:59.819 +03:00 [DBG] Connection id "0HNCID4IM0147" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-14 01:45:59.825 +03:00 [DBG] Connection id "0HNCID4IM0147" disconnecting.
2025-05-14 01:45:59.827 +03:00 [DBG] Connection id "0HNCID4IM0147" stopped.
2025-05-14 01:46:14.020 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'CurrencyConverterService'
2025-05-14 01:46:24.025 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:46:24.029 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:46:34.050 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:46:34.053 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:46:44.085 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:46:44.111 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-05-14 01:46:54.117 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:46:54.119 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 1 items
2025-05-14 01:47:04.131 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:47:04.135 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 1 items
2025-05-14 01:47:14.144 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:47:14.148 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 1 items
2025-05-14 01:47:24.157 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:47:24.159 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:47:34.168 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:47:34.171 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 1 items
2025-05-14 01:47:44.186 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:47:44.187 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:47:54.205 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:47:54.207 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:48:04.229 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:48:04.248 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:48:14.254 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:48:14.267 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:48:24.277 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:48:24.282 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 1 items
2025-05-14 01:48:34.296 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:48:34.298 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-05-14 01:48:44.309 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:48:44.313 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
2025-05-14 01:48:54.330 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:48:54.336 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-05-14 01:49:04.352 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:49:04.419 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-05-14 01:49:14.437 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:49:14.438 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-05-14 01:49:24.444 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:49:24.448 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-05-14 01:49:34.466 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:49:34.486 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-05-14 01:49:44.498 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:49:44.502 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:49:54.521 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:49:54.524 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:50:04.528 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:50:04.530 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-05-14 01:50:14.546 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:50:14.548 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:50:24.560 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:50:24.561 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-05-14 01:50:34.593 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:50:34.634 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:50:44.663 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:50:44.667 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:50:54.677 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:50:54.681 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-05-14 01:51:04.698 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:51:04.716 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-05-14 01:51:14.721 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:51:14.722 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 1 items
2025-05-14 01:51:24.737 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:51:24.741 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-05-14 01:51:34.753 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:51:34.755 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 1 items
2025-05-14 01:51:44.763 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:51:44.766 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-05-14 01:51:54.784 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-05-14 01:51:54.785 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-05-14 01:52:00.261 +03:00 [INF] Application is shutting down...
2025-05-14 01:52:00.350 +03:00 [DBG] Hosting stopping
2025-05-14 01:52:00.552 +03:00 [DBG] Hosting stopped
